<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "6e562d7e5a77c8982da4aa8f762ad1d8",
  "translation_date": "2025-07-14T02:55:01+00:00",
  "source_file": "05-AdvancedTopics/mcp-security-entra/README.md",
  "language_code": "hi"
}
-->
# AI рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдХреА рд╕реБрд░рдХреНрд╖рд╛: рдореЙрдбрд▓ рдХреЙрдиреНрдЯреЗрдХреНрд╕реНрдЯ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рд╕рд░реНрд╡рд░ рдХреЗ рд▓рд┐рдП Entra ID рдкреНрд░рдорд╛рдгреАрдХрд░рдг

## рдкрд░рд┐рдЪрдп  
рдЕрдкрдиреЗ рдореЙрдбрд▓ рдХреЙрдиреНрдЯреЗрдХреНрд╕реНрдЯ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ (MCP) рд╕рд░реНрд╡рд░ рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдЙрддрдиреА рд╣реА рдЬрд░реВрд░реА рд╣реИ рдЬрд┐рддрдирд╛ рдЕрдкрдиреЗ рдШрд░ рдХреЗ рдореБрдЦреНрдп рджрд░рд╡рд╛рдЬрд╝реЗ рдХреЛ рд▓реЙрдХ рдХрд░рдирд╛ред рдпрджрд┐ рдЖрдкрдХрд╛ MCP рд╕рд░реНрд╡рд░ рдЦреБрд▓рд╛ рд░рд╣реЗрдЧрд╛, рддреЛ рдЖрдкрдХреЗ рдЯреВрд▓реНрд╕ рдФрд░ рдбреЗрдЯрд╛ рдЕрдирдзрд┐рдХреГрдд рдкрд╣реБрдВрдЪ рдХреЗ рд▓рд┐рдП рдЙрдЬрд╛рдЧрд░ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рд╕реЗ рд╕реБрд░рдХреНрд╖рд╛ рдЙрд▓реНрд▓рдВрдШрди рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред Microsoft Entra ID рдПрдХ рдордЬрдмреВрдд рдХреНрд▓рд╛рдЙрдб-рдЖрдзрд╛рд░рд┐рдд рдкрд╣рдЪрд╛рди рдФрд░ рдПрдХреНрд╕реЗрд╕ рдкреНрд░рдмрдВрдзрди рд╕рдорд╛рдзрд╛рди рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдХреЗрд╡рд▓ рдЕрдзрд┐рдХреГрдд рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдФрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╣реА рдЖрдкрдХреЗ MCP рд╕рд░реНрд╡рд░ рдХреЗ рд╕рд╛рде рдЗрдВрдЯрд░реИрдХреНрдЯ рдХрд░ рд╕рдХреЗрдВред рдЗрд╕ рдЕрдиреБрднрд╛рдЧ рдореЗрдВ, рдЖрдк рд╕реАрдЦреЗрдВрдЧреЗ рдХрд┐ Entra ID рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдкрдиреЗ AI рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдХреИрд╕реЗ рдХрд░реЗрдВред

## рд╕реАрдЦрдиреЗ рдХреЗ рдЙрджреНрджреЗрд╢реНрдп  
рдЗрд╕ рдЕрдиреБрднрд╛рдЧ рдХреЗ рдЕрдВрдд рддрдХ, рдЖрдк рд╕рдХреНрд╖рдо рд╣реЛрдВрдЧреЗ:

- MCP рд╕рд░реНрд╡рд░реЛрдВ рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рдорд╣рддреНрд╡ рдХреЛ рд╕рдордЭрдирд╛ред  
- Microsoft Entra ID рдФрд░ OAuth 2.0 рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рдореВрд▓ рд╕рд┐рджреНрдзрд╛рдВрддреЛрдВ рдХреЛ рд╕рдордЭрд╛рдирд╛ред  
- рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдФрд░ рдЧреЛрдкрдиреАрдп рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЗ рдмреАрдЪ рдЕрдВрддрд░ рдкрд╣рдЪрд╛рдирдирд╛ред  
- рд╕реНрдерд╛рдиреАрдп (рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХреНрд▓рд╛рдЗрдВрдЯ) рдФрд░ рд░рд┐рдореЛрдЯ (рдЧреЛрдкрдиреАрдп рдХреНрд▓рд╛рдЗрдВрдЯ) MCP рд╕рд░реНрд╡рд░ рдкрд░рд┐рджреГрд╢реНрдпреЛрдВ рдореЗрдВ Entra ID рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд▓рд╛рдЧреВ рдХрд░рдирд╛ред  
- AI рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рд╡рд┐рдХрд╕рд┐рдд рдХрд░рддреЗ рд╕рдордп рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рд╕рд░реНрд╡реЛрддреНрддрдо рдЕрднреНрдпрд╛рд╕реЛрдВ рдХреЛ рдЕрдкрдирд╛рдирд╛ред  

## рд╕реБрд░рдХреНрд╖рд╛ рдФрд░ MCP  

рдЬреИрд╕реЗ рдЖрдк рдЕрдкрдиреЗ рдШрд░ рдХрд╛ рдореБрдЦреНрдп рджрд░рд╡рд╛рдЬрд╝рд╛ рдЦреБрд▓рд╛ рдирд╣реАрдВ рдЫреЛрдбрд╝рддреЗ, рд╡реИрд╕реЗ рд╣реА рдЖрдкрдХреЛ рдЕрдкрдиреЗ MCP рд╕рд░реНрд╡рд░ рдХреЛ рднреА рдХрд┐рд╕реА рдХреЗ рд▓рд┐рдП рдЦреБрд▓рд╛ рдирд╣реАрдВ рдЫреЛрдбрд╝рдирд╛ рдЪрд╛рд╣рд┐рдПред рдЕрдкрдиреЗ AI рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдХрд░рдирд╛ рдордЬрдмреВрдд, рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рдФрд░ рд╕реБрд░рдХреНрд╖рд┐рдд рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИред рдпрд╣ рдЕрдзреНрдпрд╛рдп рдЖрдкрдХреЛ Microsoft Entra ID рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдкрдиреЗ MCP рд╕рд░реНрд╡рд░реЛрдВ рдХреЛ рд╕реБрд░рдХреНрд╖рд┐рдд рдХрд░рдиреЗ рдХрд╛ рдкрд░рд┐рдЪрдп рджреЗрдЧрд╛, рдЬрд┐рд╕рд╕реЗ рдХреЗрд╡рд▓ рдЕрдзрд┐рдХреГрдд рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдФрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╣реА рдЖрдкрдХреЗ рдЯреВрд▓реНрд╕ рдФрд░ рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдЗрдВрдЯрд░реИрдХреНрдЯ рдХрд░ рд╕рдХреЗрдВред

## MCP рд╕рд░реНрд╡рд░реЛрдВ рдХреЗ рд▓рд┐рдП рд╕реБрд░рдХреНрд╖рд╛ рдХреНрдпреЛрдВ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ  

рдХрд▓реНрдкрдирд╛ рдХрд░реЗрдВ рдХрд┐ рдЖрдкрдХреЗ MCP рд╕рд░реНрд╡рд░ рдореЗрдВ рдПрдХ рдРрд╕рд╛ рдЯреВрд▓ рд╣реИ рдЬреЛ рдИрдореЗрд▓ рднреЗрдЬ рд╕рдХрддрд╛ рд╣реИ рдпрд╛ рдЧреНрд░рд╛рд╣рдХ рдбреЗрдЯрд╛рдмреЗрд╕ рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддрд╛ рд╣реИред рдпрджрд┐ рд╕рд░реНрд╡рд░ рдЕрд╕реБрд░рдХреНрд╖рд┐рдд рд╣реИ, рддреЛ рдХреЛрдИ рднреА рдЙрд╕ рдЯреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдЕрдирдзрд┐рдХреГрдд рдбреЗрдЯрд╛ рдПрдХреНрд╕реЗрд╕, рд╕реНрдкреИрдо рдпрд╛ рдЕрдиреНрдп рджреБрд░реНрднрд╛рд╡рдирд╛рдкреВрд░реНрдг рдЧрддрд┐рд╡рд┐рдзрд┐рдпрд╛рдБ рд╣реЛ рд╕рдХрддреА рд╣реИрдВред

рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд▓рд╛рдЧреВ рдХрд░рдХреЗ, рдЖрдк рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреЗ рд╕рд░реНрд╡рд░ рдХреЛ рднреЗрдЬреА рдЧрдИ рд╣рд░ рд░рд┐рдХреНрд╡реЗрд╕реНрдЯ рдХреА рдкрд╣рдЪрд╛рди рд╕рддреНрдпрд╛рдкрд┐рдд рд╣реЛ, рдЬреЛ рдпрд╣ рдкреБрд╖реНрдЯрд┐ рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдЕрдиреБрд░реЛрдз рдХрд░рдиреЗ рд╡рд╛рд▓рд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдпрд╛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЕрдзрд┐рдХреГрдд рд╣реИред рдпрд╣ рдЖрдкрдХреЗ AI рд╡рд░реНрдХрдлрд╝реНрд▓реЛ рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдХрд╛ рдкрд╣рд▓рд╛ рдФрд░ рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдХрджрдо рд╣реИред

## Microsoft Entra ID рдХрд╛ рдкрд░рд┐рдЪрдп  

[**Microsoft Entra ID**](https://adoption.microsoft.com/microsoft-security/entra/) рдПрдХ рдХреНрд▓рд╛рдЙрдб-рдЖрдзрд╛рд░рд┐рдд рдкрд╣рдЪрд╛рди рдФрд░ рдПрдХреНрд╕реЗрд╕ рдкреНрд░рдмрдВрдзрди рд╕реЗрд╡рд╛ рд╣реИред рдЗрд╕реЗ рдЕрдкрдиреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд╛рд░реНрд╡рднреМрдорд┐рдХ рд╕реБрд░рдХреНрд╖рд╛ рдЧрд╛рд░реНрдб рдХреЗ рд░реВрдк рдореЗрдВ рд╕реЛрдЪреЗрдВред рдпрд╣ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рдкрд╣рдЪрд╛рди рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рдиреЗ (рдкреНрд░рдорд╛рдгреАрдХрд░рдг) рдФрд░ рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ (рдЕрдзрд┐рдХрд╛рд░) рдХреА рдЬрдЯрд┐рд▓ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рд╕рдВрднрд╛рд▓рддрд╛ рд╣реИ рдХрд┐ рд╡реЗ рдХреНрдпрд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

Entra ID рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрдк:

- рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рд╕реБрд░рдХреНрд╖рд┐рдд рд╕рд╛рдЗрди-рдЗрди рд╕рдХреНрд╖рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  
- APIs рдФрд░ рд╕реЗрд╡рд╛рдУрдВ рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  
- рдПрдХреНрд╕реЗрд╕ рдиреАрддрд┐рдпреЛрдВ рдХреЛ рдПрдХ рдХреЗрдВрджреНрд░реАрдХреГрдд рд╕реНрдерд╛рди рд╕реЗ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  

MCP рд╕рд░реНрд╡рд░реЛрдВ рдХреЗ рд▓рд┐рдП, Entra ID рдПрдХ рдордЬрдмреВрдд рдФрд░ рд╡реНрдпрд╛рдкрдХ рд░реВрдк рд╕реЗ рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рд╕рдорд╛рдзрд╛рди рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдпрд╣ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдХреМрди рдЖрдкрдХреЗ рд╕рд░реНрд╡рд░ рдХреА рдХреНрд╖рдорддрд╛рдУрдВ рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддрд╛ рд╣реИред

---

## рдЬрд╛рджреВ рдХреЛ рд╕рдордЭрдирд╛: Entra ID рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ  

Entra ID рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рд▓рд┐рдП **OAuth 2.0** рдЬреИрд╕реЗ рдЦреБрд▓реЗ рдорд╛рдирдХреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред рдЬрдмрдХрд┐ рд╡рд┐рд╡рд░рдг рдЬрдЯрд┐рд▓ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдореВрд▓ рдЕрд╡рдзрд╛рд░рдгрд╛ рд╕рд░рд▓ рд╣реИ рдФрд░ рдЗрд╕реЗ рдПрдХ рдЙрдкрдорд╛ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рдордЭрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

### OAuth 2.0 рдХрд╛ рд╕рд░рд▓ рдкрд░рд┐рдЪрдп: рд╡реИрд▓реЗрдЯ рдХреА  

OAuth 2.0 рдХреЛ рдЕрдкрдиреЗ рдХрд╛рд░ рдХреЗ рд▓рд┐рдП рд╡реИрд▓реЗрдЯ рд╕реЗрд╡рд╛ рдХреА рддрд░рд╣ рд╕реЛрдЪреЗрдВред рдЬрдм рдЖрдк рдХрд┐рд╕реА рд░реЗрд╕реНрддрд░рд╛рдВ рдкрд╣реБрдВрдЪрддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рд╡реИрд▓реЗрдЯ рдХреЛ рдЕрдкрдиреА рдорд╛рд╕реНрдЯрд░ рдЪрд╛рдмреА рдирд╣реАрдВ рджреЗрддреЗред рдЗрд╕рдХреЗ рдмрдЬрд╛рдп, рдЖрдк рдПрдХ **рд╡реИрд▓реЗрдЯ рдХреА** рджреЗрддреЗ рд╣реИрдВ рдЬрд┐рд╕рдореЗрдВ рд╕реАрдорд┐рдд рдЕрдиреБрдорддрд┐рдпрд╛рдБ рд╣реЛрддреА рд╣реИрдВтАФрдпрд╣ рдХрд╛рд░ рд╕реНрдЯрд╛рд░реНрдЯ рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рджрд░рд╡рд╛рдЬрд╝реЗ рд▓реЙрдХ рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЯреНрд░рдВрдХ рдпрд╛ рдЧреНрд▓рд╡ рдХрдореНрдкрд╛рд░реНрдЯрдореЗрдВрдЯ рдирд╣реАрдВ рдЦреЛрд▓ рд╕рдХрддрд╛ред

рдЗрд╕ рдЙрдкрдорд╛ рдореЗрдВ:

- **рдЖрдк** рд╣реИрдВ **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛**ред  
- **рдЖрдкрдХреА рдХрд╛рд░** рд╣реИ **MCP рд╕рд░реНрд╡рд░** рдЬрд┐рд╕рдореЗрдВ рдореВрд▓реНрдпрд╡рд╛рди рдЯреВрд▓реНрд╕ рдФрд░ рдбреЗрдЯрд╛ рд╣реИрдВред  
- **рд╡реИрд▓реЗрдЯ** рд╣реИ **Microsoft Entra ID**ред  
- **рдкрд╛рд░реНрдХрд┐рдВрдЧ рдЕрдЯреЗрдВрдбреЗрдВрдЯ** рд╣реИ **MCP рдХреНрд▓рд╛рдЗрдВрдЯ** (рдЬреЛ рд╕рд░реНрд╡рд░ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд░рд╣рд╛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди)ред  
- **рд╡реИрд▓реЗрдЯ рдХреА** рд╣реИ **рдПрдХреНрд╕реЗрд╕ рдЯреЛрдХрди**ред  

рдПрдХреНрд╕реЗрд╕ рдЯреЛрдХрди рдПрдХ рд╕реБрд░рдХреНрд╖рд┐рдд рдЯреЗрдХреНрд╕реНрдЯ рд╕реНрдЯреНрд░рд┐рдВрдЧ рд╣реИ рдЬреЛ MCP рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЛ Entra ID рд╕реЗ рд╕рд╛рдЗрди-рдЗрди рдХреЗ рдмрд╛рдж рдорд┐рд▓рддреА рд╣реИред рдХреНрд▓рд╛рдЗрдВрдЯ рдЗрд╕ рдЯреЛрдХрди рдХреЛ рд╣рд░ рдЕрдиреБрд░реЛрдз рдХреЗ рд╕рд╛рде MCP рд╕рд░реНрд╡рд░ рдХреЛ рдкреНрд░рд╕реНрддреБрдд рдХрд░рддрд╛ рд╣реИред рд╕рд░реНрд╡рд░ рдЯреЛрдХрди рдХреА рдЬрд╛рдВрдЪ рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдЕрдиреБрд░реЛрдз рд╡реИрдз рд╣реИ рдФрд░ рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЗ рдкрд╛рд╕ рдЖрд╡рд╢реНрдпрдХ рдЕрдиреБрдорддрд┐рдпрд╛рдБ рд╣реИрдВ, рдмрд┐рдирд╛ рдЖрдкрдХреЗ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ (рдЬреИрд╕реЗ рдкрд╛рд╕рд╡рд░реНрдб) рдХреЛ рд╕рдВрднрд╛рд▓реЗред

### рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдкреНрд░рд╡рд╛рд╣  

рдпрд╣рд╛рдБ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рд░реВрдк рдореЗрдВ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддреА рд╣реИ:

```mermaid
sequenceDiagram
    actor User as ЁЯСд User
    participant Client as ЁЯЦея╕П MCP Client
    participant Entra as ЁЯФР Microsoft Entra ID
    participant Server as ЁЯФз MCP Server

    Client->>+User: Please sign in to continue.
    User->>+Entra: Enters credentials (username/password).
    Entra-->>Client: Here is your access token.
    User-->>-Client: (Returns to the application)

    Client->>+Server: I need to use a tool. Here is my access token.
    Server->>+Entra: Is this access token valid?
    Entra-->>-Server: Yes, it is.
    Server-->>-Client: Token is valid. Here is the result of the tool.
```

### Microsoft Authentication Library (MSAL) рдХрд╛ рдкрд░рд┐рдЪрдп  

рдХреЛрдб рдореЗрдВ рдЬрд╛рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдШрдЯрдХ рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рд╣реЛрдирд╛ рдЬрд░реВрд░реА рд╣реИ рдЬрд┐рд╕реЗ рдЖрдк рдЙрджрд╛рд╣рд░рдгреЛрдВ рдореЗрдВ рджреЗрдЦреЗрдВрдЧреЗ: **Microsoft Authentication Library (MSAL)**ред

MSAL рдорд╛рдЗрдХреНрд░реЛрд╕реЙрдлреНрдЯ рджреНрд╡рд╛рд░рд╛ рд╡рд┐рдХрд╕рд┐рдд рдПрдХ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рд╣реИ рдЬреЛ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЗ рд▓рд┐рдП рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЛ рдмрд╣реБрдд рдЖрд╕рд╛рди рдмрдирд╛рддреА рд╣реИред рдЖрдкрдХреЛ рд╕реБрд░рдХреНрд╖рд╛ рдЯреЛрдХрди рд╕рдВрднрд╛рд▓рдиреЗ, рд╕рд╛рдЗрди-рдЗрди рдкреНрд░рдмрдВрдзрди рдФрд░ рд╕реЗрд╢рди рд░рд┐рдлреНрд░реЗрд╢ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрдЯрд┐рд▓ рдХреЛрдб рд▓рд┐рдЦрдиреЗ рдХреА рдЬрд░реВрд░рдд рдирд╣реАрдВ рд╣реЛрддреА, MSAL рдпрд╣ рд╕рдм рд╕рдВрднрд╛рд▓рддрд╛ рд╣реИред

MSAL рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рдлрд╛рдпрджреЗ:

- **рдпрд╣ рд╕реБрд░рдХреНрд╖рд┐рдд рд╣реИ:** рдпрд╣ рдЙрджреНрдпреЛрдЧ-рдорд╛рдирдХ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдФрд░ рд╕реБрд░рдХреНрд╖рд╛ рд╕рд░реНрд╡реЛрддреНрддрдо рдкреНрд░рдерд╛рдУрдВ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдЖрдкрдХреЗ рдХреЛрдб рдореЗрдВ рдХрдордЬреЛрд░рд┐рдпреЛрдВ рдХрд╛ рдЬреЛрдЦрд┐рдо рдХрдо рд╣реЛрддрд╛ рд╣реИред  
- **рдпрд╣ рд╡рд┐рдХрд╛рд╕ рдХреЛ рд╕рд░рд▓ рдмрдирд╛рддрд╛ рд╣реИ:** рдпрд╣ OAuth 2.0 рдФрд░ OpenID Connect рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреА рдЬрдЯрд┐рд▓рддрд╛рдУрдВ рдХреЛ рдЫреБрдкрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдЖрдк рдХреБрдЫ рд╣реА рд▓рд╛рдЗрдиреЛрдВ рдореЗрдВ рдордЬрдмреВрдд рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред  
- **рдпрд╣ рдореЗрдВрдЯреЗрди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ:** рдорд╛рдЗрдХреНрд░реЛрд╕реЙрдлреНрдЯ рд╕рдХреНрд░рд┐рдп рд░реВрдк рд╕реЗ MSAL рдХреЛ рдирдП рд╕реБрд░рдХреНрд╖рд╛ рдЦрддрд░реЛрдВ рдФрд░ рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдЕрдкрдбреЗрдЯ рдХрд░рддрд╛ рд░рд╣рддрд╛ рд╣реИред  

MSAL рдХрдИ рднрд╛рд╖рд╛рдУрдВ рдФрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдлреНрд░реЗрдорд╡рд░реНрдХреНрд╕ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ, рдЬреИрд╕реЗ .NET, JavaScript/TypeScript, Python, Java, Go, рдФрд░ рдореЛрдмрд╛рдЗрд▓ рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдЬреИрд╕реЗ iOS рдФрд░ Androidред рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдЖрдк рдкреВрд░реЗ рддрдХрдиреАрдХреА рд╕реНрдЯреИрдХ рдореЗрдВ рдПрдХ рд╕рдорд╛рди рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдкреИрдЯрд░реНрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

MSAL рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк рдЖрдзрд┐рдХрд╛рд░рд┐рдХ [MSAL рдЕрд╡рд▓реЛрдХрди рджрд╕реНрддрд╛рд╡реЗрдЬрд╝](https://learn.microsoft.com/entra/identity-platform/msal-overview) рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВред

---

## Entra ID рдХреЗ рд╕рд╛рде рдЕрдкрдиреЗ MCP рд╕рд░реНрд╡рд░ рдХреА рд╕реБрд░рдХреНрд╖рд╛: рдЪрд░рдг-рджрд░-рдЪрд░рдг рдорд╛рд░реНрдЧрджрд░реНрд╢рд┐рдХрд╛  

рдЕрдм, рдЪрд▓рд┐рдП рджреЗрдЦрддреЗ рд╣реИрдВ рдХрд┐ рд╕реНрдерд╛рдиреАрдп MCP рд╕рд░реНрд╡рд░ (рдЬреЛ `stdio` рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рдВрдЪрд╛рд░ рдХрд░рддрд╛ рд╣реИ) рдХреЛ Entra ID рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреИрд╕реЗ рд╕реБрд░рдХреНрд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПред рдпрд╣ рдЙрджрд╛рд╣рд░рдг рдПрдХ **рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХреНрд▓рд╛рдЗрдВрдЯ** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдХрдВрдкреНрдпреВрдЯрд░ рдкрд░ рдЪрд▓рдиреЗ рд╡рд╛рд▓реЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЬреИрд╕реЗ рдбреЗрд╕реНрдХрдЯреЙрдк рдРрдк рдпрд╛ рд╕реНрдерд╛рдиреАрдп рд╡рд┐рдХрд╛рд╕ рд╕рд░реНрд╡рд░ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╣реИред

### рдкрд░рд┐рджреГрд╢реНрдп 1: рд╕реНрдерд╛рдиреАрдп MCP рд╕рд░реНрд╡рд░ рдХреА рд╕реБрд░рдХреНрд╖рд╛ (рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЗ рд╕рд╛рде)  

рдЗрд╕ рдкрд░рд┐рджреГрд╢реНрдп рдореЗрдВ, рд╣рдо рдПрдХ рдРрд╕реЗ MCP рд╕рд░реНрд╡рд░ рдХреЛ рджреЗрдЦреЗрдВрдЧреЗ рдЬреЛ рд╕реНрдерд╛рдиреАрдп рд░реВрдк рд╕реЗ рдЪрд▓рддрд╛ рд╣реИ, `stdio` рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рдВрдЪрд╛рд░ рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдкреНрд░рдорд╛рдгрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП Entra ID рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ рддрд╛рдХрд┐ рдЙрд╕рдХреЗ рдЯреВрд▓реНрд╕ рддрдХ рдкрд╣реБрдВрдЪ рджреА рдЬрд╛ рд╕рдХреЗред рд╕рд░реНрд╡рд░ рдореЗрдВ рдПрдХ рдЯреВрд▓ рд╣реЛрдЧрд╛ рдЬреЛ Microsoft Graph API рд╕реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИред

#### 1. Entra ID рдореЗрдВ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реЗрдЯрдЕрдк рдХрд░рдирд╛  

рдХреЛрдб рд▓рд┐рдЦрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдЖрдкрдХреЛ Microsoft Entra ID рдореЗрдВ рдЕрдкрдирд╛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд░рдЬрд┐рд╕реНрдЯрд░ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред рдпрд╣ Entra ID рдХреЛ рдЖрдкрдХреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрддрд╛рддрд╛ рд╣реИ рдФрд░ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕реЗрд╡рд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред

1. **[Microsoft Entra рдкреЛрд░реНрдЯрд▓](https://entra.microsoft.com/)** рдкрд░ рдЬрд╛рдПрдВред  
2. **App registrations** рдореЗрдВ рдЬрд╛рдПрдВ рдФрд░ **New registration** рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред  
3. рдЕрдкрдиреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдПрдХ рдирд╛рдо рджреЗрдВ (рдЬреИрд╕реЗ "My Local MCP Server")ред  
4. **Supported account types** рдореЗрдВ рд╕реЗ **Accounts in this organizational directory only** рдЪреБрдиреЗрдВред  
5. рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП **Redirect URI** рдЦрд╛рд▓реА рдЫреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред  
6. **Register** рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред  

рд░рдЬрд┐рд╕реНрдЯрд░ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, **Application (client) ID** рдФрд░ **Directory (tenant) ID** рдиреЛрдЯ рдХрд░ рд▓реЗрдВред рдЖрдкрдХреЛ рдЗрдиреНрд╣реЗрдВ рдЕрдкрдиреЗ рдХреЛрдб рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред

#### 2. рдХреЛрдб: рдПрдХ рдЕрд╡рд▓реЛрдХрди  

рдЖрдЗрдП рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЛ рд╕рдВрднрд╛рд▓рдиреЗ рд╡рд╛рд▓реЗ рдХреЛрдб рдХреЗ рдореБрдЦреНрдп рднрд╛рдЧреЛрдВ рдХреЛ рджреЗрдЦреЗрдВред рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдХрд╛ рдкреВрд░рд╛ рдХреЛрдб [Entra ID - Local - WAM](https://github.com/Azure-Samples/mcp-auth-servers/tree/main/src/entra-id-local-wam) рдлреЛрд▓реНрдбрд░ рдореЗрдВ рдЙрдкрд▓рдмреНрдз рд╣реИ, рдЬреЛ [mcp-auth-servers GitHub рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА](https://github.com/Azure-Samples/mcp-auth-servers) рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИред

**`AuthenticationService.cs`**  

рдпрд╣ рдХреНрд▓рд╛рд╕ Entra ID рдХреЗ рд╕рд╛рде рдЗрдВрдЯрд░реИрдХреНрд╢рди рдХреЛ рд╕рдВрднрд╛рд▓рддреА рд╣реИред

- **`CreateAsync`**: рдпрд╣ рдореЗрдердб MSAL рдХреА `PublicClientApplication` рдХреЛ рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝ рдХрд░рддрд╛ рд╣реИред рдЗрд╕реЗ рдЖрдкрдХреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ `clientId` рдФрд░ `tenantId` рдХреЗ рд╕рд╛рде рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  
- **`WithBroker`**: рдпрд╣ рдмреНрд░реЛрдХрд░реНрд╕ (рдЬреИрд╕реЗ Windows Web Account Manager) рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдЕрдзрд┐рдХ рд╕реБрд░рдХреНрд╖рд┐рдд рдФрд░ рд╕рд╣рдЬ рд╕рд┐рдВрдЧрд▓ рд╕рд╛рдЗрди-рдСрди рдЕрдиреБрднрд╡ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред  
- **`AcquireTokenAsync`**: рдпрд╣ рдореБрдЦреНрдп рдореЗрдердб рд╣реИред рдпрд╣ рдкрд╣рд▓реЗ рдЪреБрдкрдЪрд╛рдк (silent) рдЯреЛрдХрди рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддрд╛ рд╣реИ (рдЬрд┐рд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдпрджрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкрд╣рд▓реЗ рд╕реЗ рд╕рд╛рдЗрди-рдЗрди рд╣реИ рддреЛ рдкреБрдирдГ рд╕рд╛рдЗрди-рдЗрди рдХреА рдЬрд░реВрд░рдд рдирд╣реАрдВ)ред рдпрджрд┐ рдЪреБрдкрдЪрд╛рдк рдЯреЛрдХрди рдирд╣реАрдВ рдорд┐рд▓рддрд╛, рддреЛ рдпрд╣ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдЗрдВрдЯрд░реИрдХреНрдЯрд┐рд╡ рд░реВрдк рд╕реЗ рд╕рд╛рдЗрди-рдЗрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░реЗрд░рд┐рдд рдХрд░рддрд╛ рд╣реИред  

```csharp
// Simplified for clarity
public static async Task<AuthenticationService> CreateAsync(ILogger<AuthenticationService> logger)
{
    var msalClient = PublicClientApplicationBuilder
        .Create(_clientId) // Your Application (client) ID
        .WithAuthority(AadAuthorityAudience.AzureAdMyOrg)
        .WithTenantId(_tenantId) // Your Directory (tenant) ID
        .WithBroker(new BrokerOptions(BrokerOptions.OperatingSystems.Windows))
        .Build();

    // ... cache registration ...

    return new AuthenticationService(logger, msalClient);
}

public async Task<string> AcquireTokenAsync()
{
    try
    {
        // Try silent authentication first
        var accounts = await _msalClient.GetAccountsAsync();
        var account = accounts.FirstOrDefault();

        AuthenticationResult? result = null;

        if (account != null)
        {
            result = await _msalClient.AcquireTokenSilent(_scopes, account).ExecuteAsync();
        }
        else
        {
            // If no account, or silent fails, go interactive
            result = await _msalClient.AcquireTokenInteractive(_scopes).ExecuteAsync();
        }

        return result.AccessToken;
    }
    catch (Exception ex)
    {
        _logger.LogError(ex, "An error occurred while acquiring the token.");
        throw; // Optionally rethrow the exception for higher-level handling
    }
}
```

**`Program.cs`**  

рдпрд╣рд╛рдБ MCP рд╕рд░реНрд╡рд░ рд╕реЗрдЯрдЕрдк рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕реЗрд╡рд╛ рдХреЛ рдЗрдВрдЯреАрдЧреНрд░реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

- **`AddSingleton<AuthenticationService>`**: рдпрд╣ `AuthenticationService` рдХреЛ рдбрд┐рдкреЗрдВрдбреЗрдВрд╕реА рдЗрдВрдЬреЗрдХреНрд╢рди рдХрдВрдЯреЗрдирд░ рдореЗрдВ рд░рдЬрд┐рд╕реНрдЯрд░ рдХрд░рддрд╛ рд╣реИ, рддрд╛рдХрд┐ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдЕрдиреНрдп рд╣рд┐рд╕реНрд╕реЗ (рдЬреИрд╕реЗ рд╣рдорд╛рд░рд╛ рдЯреВрд▓) рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХреЗрдВред  
- **`GetUserDetailsFromGraph` рдЯреВрд▓**: рдЗрд╕ рдЯреВрд▓ рдХреЛ `AuthenticationService` рдХрд╛ рдПрдХ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдЪрд╛рд╣рд┐рдПред рдпрд╣ рдХреБрдЫ рднреА рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ `authService.AcquireTokenAsync()` рдХреЛ рдХреЙрд▓ рдХрд░рддрд╛ рд╣реИ рддрд╛рдХрд┐ рдПрдХ рд╡реИрдз рдПрдХреНрд╕реЗрд╕ рдЯреЛрдХрди рдорд┐рд▓ рд╕рдХреЗред рдпрджрд┐ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдпрд╣ рдЯреЛрдХрди рдХрд╛ рдЙрдкрдпреЛрдЧ Microsoft Graph API рдХреЛ рдХреЙрд▓ рдХрд░рдиреЗ рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд╡рд┐рд╡рд░рдг рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░рддрд╛ рд╣реИред  

```csharp
// Simplified for clarity
[McpServerTool(Name = "GetUserDetailsFromGraph")]
public static async Task<string> GetUserDetailsFromGraph(
    AuthenticationService authService)
{
    try
    {
        // This will trigger the authentication flow
        var accessToken = await authService.AcquireTokenAsync();

        // Use the token to create a GraphServiceClient
        var graphClient = new GraphServiceClient(
            new BaseBearerTokenAuthenticationProvider(new TokenProvider(authService)));

        var user = await graphClient.Me.GetAsync();

        return System.Text.Json.JsonSerializer.Serialize(user);
    }
    catch (Exception ex)
    {
        return $"Error: {ex.Message}";
    }
}
```

#### 3. рдпрд╣ рд╕рдм рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ  

1. рдЬрдм MCP рдХреНрд▓рд╛рдЗрдВрдЯ `GetUserDetailsFromGraph` рдЯреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддрд╛ рд╣реИ, рддреЛ рдЯреВрд▓ рдкрд╣рд▓реЗ `AcquireTokenAsync` рдХреЛ рдХреЙрд▓ рдХрд░рддрд╛ рд╣реИред  
2. `AcquireTokenAsync` MSAL рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреЛ рд╡реИрдз рдЯреЛрдХрди рдХреЗ рд▓рд┐рдП рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рддрд╛ рд╣реИред  
3. рдпрджрд┐ рдХреЛрдИ рдЯреЛрдХрди рдирд╣реАрдВ рдорд┐рд▓рддрд╛, рддреЛ MSAL рдмреНрд░реЛрдХрд░реНрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ Entra ID рдЦрд╛рддреЗ рд╕реЗ рд╕рд╛рдЗрди-рдЗрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░реЗрд░рд┐рдд рдХрд░рддрд╛ рд╣реИред  
4. рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕рд╛рдЗрди-рдЗрди рдХрд░рддрд╛ рд╣реИ, рдФрд░ Entra ID рдПрдХ рдПрдХреНрд╕реЗрд╕ рдЯреЛрдХрди рдЬрд╛рд░реА рдХрд░рддрд╛ рд╣реИред  
5. рдЯреВрд▓ рдЯреЛрдХрди рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ Microsoft Graph API рдХреЛ рд╕реБрд░рдХреНрд╖рд┐рдд рдХреЙрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░рддрд╛ рд╣реИред  
6. рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХрд╛ рд╡рд┐рд╡рд░рдг MCP рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЛ рд╡рд╛рдкрд╕ рднреЗрдЬрд╛ рдЬрд╛рддрд╛ рд╣реИред  

рдпрд╣ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддреА рд╣реИ рдХрд┐ рдХреЗрд╡рд▓ рдкреНрд░рдорд╛рдгрд┐рдд рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╣реА рдЯреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХреЗрдВ, рдЬрд┐рд╕рд╕реЗ рдЖрдкрдХрд╛ рд╕реНрдерд╛рдиреАрдп MCP рд╕рд░реНрд╡рд░ рд╕реБрд░рдХреНрд╖рд┐рдд рд░рд╣рддрд╛ рд╣реИред

### рдкрд░рд┐рджреГрд╢реНрдп 2: рд░рд┐рдореЛрдЯ MCP рд╕рд░реНрд╡рд░ рдХреА рд╕реБрд░рдХреНрд╖рд╛ (рдЧреЛрдкрдиреАрдп рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЗ рд╕рд╛рде)  

рдЬрдм рдЖрдкрдХрд╛ MCP рд╕рд░реНрд╡рд░ рдХрд┐рд╕реА рд░рд┐рдореЛрдЯ рдорд╢реАрди (рдЬреИрд╕реЗ рдХреНрд▓рд╛рдЙрдб рд╕рд░реНрд╡рд░) рдкрд░ рдЪрд▓рддрд╛ рд╣реИ рдФрд░ HTTP Streaming рдЬреИрд╕реЗ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рдВрдЪрд╛рд░ рдХрд░рддрд╛ рд╣реИ, рддреЛ рд╕реБрд░рдХреНрд╖рд╛ рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдБ рдЕрд▓рдЧ рд╣реЛрддреА рд╣реИрдВред рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ, рдЖрдкрдХреЛ **рдЧреЛрдкрдиреАрдп рдХреНрд▓рд╛рдЗрдВрдЯ** рдФрд░ **Authorization Code Flow** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред рдпрд╣ рдЕрдзрд┐рдХ рд╕реБрд░рдХреНрд╖рд┐рдд рддрд░реАрдХрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд╕реАрдХреНрд░реЗрдЯреНрд╕ рдХрднреА рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреЛ рдирд╣реАрдВ рджрд┐рдЦрд╛рдП рдЬрд╛рддреЗред

рдпрд╣ рдЙрджрд╛рд╣рд░рдг рдПрдХ TypeScript-рдЖрдзрд╛рд░рд┐рдд MCP рд╕рд░реНрд╡рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ рдЬреЛ Express.js рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ HTTP рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рд╕рдВрднрд╛рд▓рддрд╛ рд╣реИред

#### 1. Entra ID рдореЗрдВ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реЗрдЯрдЕрдк рдХрд░рдирд╛  

Entra ID рдореЗрдВ рд╕реЗрдЯрдЕрдк рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЗ рд╕рдорд╛рди рд╣реИ, рд▓реЗрдХрд┐рди рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЕрдВрддрд░ рд╣реИ: рдЖрдкрдХреЛ рдПрдХ **client secret** рдмрдирд╛рдирд╛ рд╣реЛрдЧрд╛ред

1. **[Microsoft Entra рдкреЛрд░реНрдЯрд▓](https://entra.microsoft.com/)** рдкрд░ рдЬрд╛рдПрдВред  
2. рдЕрдкрдиреЗ рдРрдк рд░рдЬрд┐рд╕реНрдЯреНрд░реЗрд╢рди рдореЗрдВ, **Certificates & secrets** рдЯреИрдм рдкрд░ рдЬрд╛рдПрдВред  
3. **New client secret** рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ, рдПрдХ рд╡рд┐рд╡рд░рдг рджреЗрдВ, рдФрд░ **Add** рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред  
4. **рдорд╣рддреНрд╡рдкреВрд░реНрдг:** рд╕реАрдХреНрд░реЗрдЯ рд╡реИрд▓реНрдпреВ рдХреЛ рддреБрд░рдВрдд рдХреЙрдкреА рдХрд░ рд▓реЗрдВред рдЖрдк рдЗрд╕реЗ рдмрд╛рдж рдореЗрдВ рдирд╣реАрдВ рджреЗрдЦ рдкрд╛рдПрдВрдЧреЗред  
5. рдЖрдкрдХреЛ рдПрдХ **Redirect URI** рднреА рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред **Authentication** рдЯреИрдм рдкрд░ рдЬрд╛рдПрдВ, **Add a platform** рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ, **Web** рдЪреБрдиреЗрдВ, рдФрд░ рдЕрдкрдиреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд▓рд┐рдП Redirect URI рджрд░реНрдЬ рдХрд░реЗрдВ (рдЬреИрд╕реЗ `http://localhost:3001/auth/callback`)ред  

> **тЪая╕П рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╕реБрд░рдХреНрд╖рд╛ рдиреЛрдЯ:** рдкреНрд░реЛрдбрдХреНрд╢рди рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд▓рд┐рдП, Microsoft рджреГрдврд╝рддрд╛ рд╕реЗ **secretless authentication** рд╡рд┐рдзрд┐рдпреЛрдВ рдЬреИрд╕реЗ **Managed Identity** рдпрд╛ **Workload Identity Federation** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреЗрддрд╛ рд╣реИ, рдмрдЬрд╛рдп client secrets рдХреЗред рдХреНрд▓рд╛рдЗрдВрдЯ рд╕реАрдХреНрд░реЗрдЯреНрд╕ рд╕реБрд░рдХреНрд╖рд╛ рдЬреЛрдЦрд┐рдо рдкреИрджрд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХреНрдпреЛрдВрдХрд┐ рд╡реЗ рдЙрдЬрд╛рдЧрд░ рдпрд╛ рд╕рдордЭреМрддрд╛ рдХрд┐рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВред рдореИрдиреЗрдЬреНрдб рдЖрдЗрдбреЗрдВрдЯрд┐рдЯреАрдЬ рдПрдХ рдЕрдзрд┐рдХ рд╕реБрд░рдХреНрд╖рд┐рдд рддрд░реАрдХрд╛ рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИрдВ рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕рд╕реЗ рдЖрдкрдХреЗ рдХреЛрдб рдпрд╛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдореЗрдВ рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рд╕реНрдЯреЛрд░ рдХрд░рдиреЗ рдХреА рдЬрд░реВрд░рдд рдирд╣реАрдВ рд╣реЛрддреАред  
>  
> рдореИрдиреЗрдЬреНрдб рдЖрдЗрдбреЗрдВрдЯрд┐рдЯреАрдЬ рдФрд░ рдЙрдиреНрд╣реЗрдВ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП, рджреЗрдЦреЗрдВ [Managed identities for Azure resources overview](https://learn.microsoft.com/entra/identity/managed-identities-azure-resources/overview)ред  

#### 2. рдХреЛрдб: рдПрдХ рдЕрд╡рд▓реЛрдХрди  

рдпрд╣ рдЙрджрд╛рд╣рд░рдг рд╕реЗрд╢рди-рдЖрдзрд╛рд░рд┐рдд рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред рдЬрдм рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХрд░рддрд╛ рд╣реИ, рддреЛ рд╕рд░реНрд╡рд░ рдПрдХреНрд╕реЗрд╕ рдЯреЛрдХрди рдФрд░ рд░рд┐рдлреНрд░реЗрд╢ рдЯреЛрдХрди рдХреЛ рд╕реЗрд╢рди рдореЗрдВ рд╕реНрдЯреЛрд░ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдПрдХ рд╕реЗрд╢рди рдЯреЛрдХрди рджреЗрддрд╛ рд╣реИред рдмрд╛рдж рдХреЗ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЗ рд▓рд┐рдП рдпрд╣ рд╕реЗрд╢рди рдЯреЛрдХрди рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдХрд╛ рдкреВрд░рд╛ рдХреЛрдб [Entra ID - Confidential client](https://github.com/Azure-Samples/mcp-auth-servers/tree/main/src/entra-id-cca-session) рдлреЛрд▓реНрдбрд░ рдореЗрдВ рдЙрдкрд▓рдмреНрдз рд╣реИ, рдЬреЛ [mcp-auth-servers GitHub рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА](https://github.com/Azure-Samples/mcp-auth-servers) рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИред

**`Server.ts`**  

рдпрд╣ рдлрд╛рдЗрд▓ Express рд╕рд░реНрд╡рд░ рдФрд░ MCP рдЯреНрд░рд╛рдВрд╕рдкреЛрд░реНрдЯ рд▓реЗрдпрд░ рд╕реЗрдЯрдЕрдк рдХрд░рддреА рд╣реИред

- **`requireBearerAuth`**: рдпрд╣ рдорд┐рдбрд▓рд╡реЗрдпрд░ `/sse` рдФрд░ `/message` рдПрдВрдбрдкреЙрдЗрдВрдЯреНрд╕ рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдХрд░рддрд╛ рд╣реИред рдпрд╣ рдЕрдиреБрд░реЛрдз рдХреЗ `Authorization` рд╣реЗрдбрд░ рдореЗрдВ рд╡реИрдз рдмреЗрдпрд░рд░ рдЯреЛрдХрди рдХреА рдЬрд╛рдВрдЪ рдХрд░рддрд╛ рд╣реИред  
- **`EntraIdServerAuthProvider`**: рдпрд╣ рдПрдХ рдХрд╕реНрдЯрдо рдХреНрд▓рд╛рд╕ рд╣реИ рдЬреЛ `McpServerAuthorizationProvider` рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рддрд╛ рд╣реИред рдпрд╣ OAuth 2.0 рдлреНрд▓реЛ рдХреЛ рд╕рдВрднрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИред  
- **`/auth/callback`**: рдпрд╣ рдПрдВрдбрдкреЙрдЗрдВрдЯ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рдмрд╛рдж Entra ID рд╕реЗ рд░реАрдбрд╛рдпрд░реЗрдХреНрдЯ рдХреЛ рд╕рдВрднрд╛рд▓рддрд╛ рд╣реИред рдпрд╣ рдСрдерд░рд╛рдЗрдЬреЗрд╢рди рдХреЛрдб рдХреЛ рдПрдХреНрд╕реЗрд╕ рдЯреЛрдХрди рдФрд░ рд░рд┐рдлреНрд░реЗрд╢ рдЯреЛрдХрди рдореЗрдВ рдПрдХреНрд╕рдЪреЗрдВрдЬ рдХрд░рддрд╛ рд╣реИред  

```typescript
// Simplified for clarity
const app = express();
const { server } = createServer();
const provider = new EntraIdServerAuthProvider();

// Protect the SSE endpoint
app.get("/sse", requireBearerAuth({
  provider,
  requiredScopes: ["User.Read"]
}), async (req, res) => {
  // ... connect to the transport ...
});

// Protect the message endpoint
app.post("/message", requireBearerAuth({
  provider,
  requiredScopes: ["User.Read"]
}), async (req, res) => {
  // ... handle the message ...
});

// Handle the OAuth 2.0 callback
app.get("/auth/callback", (req, res) => {
  provider.handleCallback(req.query.code, req.query.state)
    .then(result => {
      // ... handle success or failure ...
    });
});
```

**`Tools.ts`**  

рдпрд╣ рдлрд╛рдЗрд▓ MCP рд╕рд░реНрд╡рд░ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рджрд╛рди рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдЯреВрд▓реНрд╕ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреА рд╣реИред `getUserDetails` рдЯреВрд▓ рдкрд┐рдЫрд▓реЗ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд╕рдорд╛рди рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдПрдХреНрд╕реЗрд╕ рдЯреЛрдХрди рд╕реЗрд╢рди рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИред  

```typescript
// Simplified for clarity
server.setRequestHandler(CallToolRequestSchema, async (request) => {
  const { name } = request.params;
  const context = request.params?.context as { token?: string } | undefined;
  const sessionToken = context?.token;

  if (name === ToolName.GET_USER_DETAILS) {
    if (!sessionToken) {
      throw new AuthenticationError("Authentication token is missing or invalid. Ensure the token is provided in the request context.");
    }

    // Get the Entra ID token from the session store
    const tokenData = tokenStore.getToken(sessionToken);
    const entraIdToken = tokenData.accessToken;

    const graphClient = Client.init({
      authProvider: (done) => {
        done(null, entraIdToken);
      }
    });

    const user = await graphClient.api('/me').get();

    // ... return user details ...
  }
});
```

**`auth/EntraIdServerAuthProvider.ts`**  

рдпрд╣ рдХреНрд▓рд╛рд╕ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд▓реЙрдЬрд┐рдХ рдХреЛ рд╕рдВрднрд╛рд▓рддреА рд╣реИ:

- рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ Entra ID рд╕рд╛рдЗрди-рдЗрди рдкреЗрдЬ рдкрд░ рд░реАрдбрд╛рдпрд░реЗрдХреНрдЯ рдХрд░рдирд╛ред  
- рдСрдерд░рд╛рдЗрдЬреЗрд╢рди рдХреЛрдб рдХреЛ рдПрдХреНрд╕реЗрд╕ рдЯреЛрдХрди рдореЗрдВ рдПрдХреНрд╕рдЪреЗрдВрдЬ рдХрд░рдирд╛ред  
- рдЯреЛрдХрди рдХреЛ `tokenStore` рдореЗрдВ рд╕реНрдЯреЛрд░ рдХрд░рдирд╛ред  
- рдПрдХреНрд╕реЗрд╕ рдЯреЛрдХрди рдХреА рдЕрд╡рдзрд┐ рд╕рдорд╛рдкреНрдд рд╣реЛрдиреЗ рдкрд░ рдЙрд╕реЗ рд░рд┐рдлреНрд░реЗрд╢ рдХрд░рдирд╛ред  

#### 3. рдпрд╣ рд╕рдм рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ  

1. рдЬрдм рдХреЛрдИ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкрд╣рд▓реА рдмрд╛рд░ MCP рд╕рд░реНрд╡рд░ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддрд╛ рд╣реИ, рддреЛ `requireBearerAuth` рдорд┐рдбрд▓рд╡реЗрдпрд░ рджреЗрдЦрддрд╛ рд╣реИ рдХрд┐ рдЙрд╕рдХреЗ рдкрд╛рд╕ рд╡реИрдз рд╕реЗрд╢рди рдирд╣реАрдВ рд╣реИ рдФрд░ рдЙрд╕реЗ Entra ID рд╕рд╛рдЗрди-рдЗрди рдкреЗрдЬ рдкрд░ рд░реАрдбрд╛рдпрд░реЗрдХреНрдЯ рдХрд░ рджреЗрддрд╛ рд╣реИред  
2. рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЕрдкрдиреЗ Entra ID рдЦрд╛рддреЗ рд╕реЗ рд╕рд╛рдЗрди-рдЗрди рдХрд░рддрд╛ рд╣реИред  
3. Entra ID рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ `/auth/callback` рдПрдВрдбрдкреЙрдЗрдВрдЯ рдкрд░ рдСрдерд░рд╛рдЗрдЬреЗрд╢рди рдХреЛрдб рдХреЗ рд╕рд╛рде рд░реАрдбрд╛рдпрд░реЗрдХреНрдЯ рдХрд░рддрд╛ рд╣реИред
4. рд╕рд░реНрд╡рд░ рдХреЛрдб рдХреЛ рдПрдХреНрд╕реЗрд╕ рдЯреЛрдХрди рдФрд░ рд░рд┐рдлреНрд░реЗрд╢ рдЯреЛрдХрди рдХреЗ рд▓рд┐рдП рдПрдХреНрд╕рдЪреЗрдВрдЬ рдХрд░рддрд╛ рд╣реИ, рдЙрдиреНрд╣реЗрдВ рд╕реНрдЯреЛрд░ рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдПрдХ рд╕реЗрд╢рди рдЯреЛрдХрди рдмрдирд╛рддрд╛ рд╣реИ рдЬрд┐рд╕реЗ рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЛ рднреЗрдЬрд╛ рдЬрд╛рддрд╛ рд╣реИред  
5. рдХреНрд▓рд╛рдЗрдВрдЯ рдЕрдм рдЗрд╕ рд╕реЗрд╢рди рдЯреЛрдХрди рдХрд╛ рдЙрдкрдпреЛрдЧ `Authorization` рд╣реЗрдбрд░ рдореЗрдВ рд╕рднреА рднрд╡рд┐рд╖реНрдп рдХреЗ MCP рд╕рд░реНрд╡рд░ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЗ рд▓рд┐рдП рдХрд░ рд╕рдХрддрд╛ рд╣реИред  
6. рдЬрдм `getUserDetails` рдЯреВрд▓ рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдпрд╣ рд╕реЗрд╢рди рдЯреЛрдХрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ Entra ID рдПрдХреНрд╕реЗрд╕ рдЯреЛрдХрди рдХреЛ рдЦреЛрдЬрддрд╛ рд╣реИ рдФрд░ рдлрд┐рд░ Microsoft Graph API рдХреЛ рдХреЙрд▓ рдХрд░рддрд╛ рд╣реИред  

рдпрд╣ рдлреНрд▓реЛ рдкрдмреНрд▓рд┐рдХ рдХреНрд▓рд╛рдЗрдВрдЯ рдлреНрд▓реЛ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рд╣реИ, рд▓реЗрдХрд┐рди рдЗрдВрдЯрд░рдиреЗрдЯ-рдлреЗрд╕рд┐рдВрдЧ рдПрдВрдбрдкреЙрдЗрдВрдЯреНрд╕ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИред рдЪреВрдВрдХрд┐ рд░рд┐рдореЛрдЯ MCP рд╕рд░реНрд╡рд░ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдЗрдВрдЯрд░рдиреЗрдЯ рдкрд░ рдЙрдкрд▓рдмреНрдз рд╣реЛрддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдЙрдиреНрд╣реЗрдВ рдЕрдирдзрд┐рдХреГрдд рдкрд╣реБрдВрдЪ рдФрд░ рд╕рдВрднрд╛рд╡рд┐рдд рд╣рдорд▓реЛрдВ рд╕реЗ рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рд▓рд┐рдП рдордЬрдмреВрдд рд╕реБрд░рдХреНрд╖рд╛ рдЙрдкрд╛рдпреЛрдВ рдХреА рдЬрд░реВрд░рдд рд╣реЛрддреА рд╣реИред  


## Security Best Practices

- **рд╣рдореЗрд╢рд╛ HTTPS рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ**: рдХреНрд▓рд╛рдЗрдВрдЯ рдФрд░ рд╕рд░реНрд╡рд░ рдХреЗ рдмреАрдЪ рд╕рдВрдЪрд╛рд░ рдХреЛ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдХрд░реЗрдВ рддрд╛рдХрд┐ рдЯреЛрдХрди рдЗрдВрдЯрд░рд╕реЗрдкреНрдЯ рди рд╣реЛ рд╕рдХреЗрдВред  
- **Role-Based Access Control (RBAC) рд▓рд╛рдЧреВ рдХрд░реЗрдВ**: рдХреЗрд╡рд▓ рдпрд╣ рди рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкреНрд░рдорд╛рдгрд┐рдд рд╣реИ рдпрд╛ рдирд╣реАрдВ; рдпрд╣ рднреА рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ рд╡реЗ рдХреНрдпрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХреГрдд рд╣реИрдВред рдЖрдк Entra ID рдореЗрдВ рд░реЛрд▓реНрд╕ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдЕрдкрдиреЗ MCP рд╕рд░реНрд╡рд░ рдореЗрдВ рдЬрд╛рдВрдЪ рд╕рдХрддреЗ рд╣реИрдВред  
- **рдореЙрдирд┐рдЯрд░ рдФрд░ рдСрдбрд┐рдЯ рдХрд░реЗрдВ**: рд╕рднреА рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдШрдЯрдирд╛рдУрдВ рдХреЛ рд▓реЙрдЧ рдХрд░реЗрдВ рддрд╛рдХрд┐ рдЖрдк рд╕рдВрджрд┐рдЧреНрдз рдЧрддрд┐рд╡рд┐рдзрд┐ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛ рд╕рдХреЗрдВ рдФрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рджреЗ рд╕рдХреЗрдВред  
- **рд░реЗрдЯ рд▓рд┐рдорд┐рдЯрд┐рдВрдЧ рдФрд░ рдереНрд░реЙрдЯрд▓рд┐рдВрдЧ рдХреЛ рд╕рдВрднрд╛рд▓реЗрдВ**: Microsoft Graph рдФрд░ рдЕрдиреНрдп APIs рджреБрд░реБрдкрдпреЛрдЧ рдХреЛ рд░реЛрдХрдиреЗ рдХреЗ рд▓рд┐рдП рд░реЗрдЯ рд▓рд┐рдорд┐рдЯрд┐рдВрдЧ рд▓рд╛рдЧреВ рдХрд░рддреЗ рд╣реИрдВред рдЕрдкрдиреЗ MCP рд╕рд░реНрд╡рд░ рдореЗрдВ рдПрдХреНрд╕рдкреЛрдиреЗрдВрд╢рд┐рдпрд▓ рдмреИрдХрдСрдл рдФрд░ рд░рд┐рдЯреНрд░рд╛рдИ рд▓реЙрдЬрд┐рдХ рд▓рд╛рдЧреВ рдХрд░реЗрдВ рддрд╛рдХрд┐ HTTP 429 (Too Many Requests) рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рд╕рд╣рдЬрддрд╛ рд╕реЗ рд╕рдВрднрд╛рд▓рд╛ рдЬрд╛ рд╕рдХреЗред рдЕрдХреНрд╕рд░ рдПрдХреНрд╕реЗрд╕ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдбреЗрдЯрд╛ рдХреЛ рдХреИрд╢ рдХрд░рдиреЗ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ рддрд╛рдХрд┐ API рдХреЙрд▓ рдХрдо рд╣реЛрдВред  
- **рдЯреЛрдХрди рд╕реНрдЯреЛрд░реЗрдЬ рдХреЛ рд╕реБрд░рдХреНрд╖рд┐рдд рд░рдЦреЗрдВ**: рдПрдХреНрд╕реЗрд╕ рдЯреЛрдХрди рдФрд░ рд░рд┐рдлреНрд░реЗрд╢ рдЯреЛрдХрди рдХреЛ рд╕реБрд░рдХреНрд╖рд┐рдд рд░реВрдк рд╕реЗ рд╕реНрдЯреЛрд░ рдХрд░реЗрдВред рд▓реЛрдХрд▓ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд▓рд┐рдП, рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд╕реБрд░рдХреНрд╖рд┐рдд рд╕реНрдЯреЛрд░реЗрдЬ рдореИрдХреЗрдирд┐рдЬреНрдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред рд╕рд░реНрд╡рд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд▓рд┐рдП, рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рд╕реНрдЯреЛрд░реЗрдЬ рдпрд╛ Azure Key Vault рдЬреИрд╕реЗ рд╕реБрд░рдХреНрд╖рд┐рдд рдХреА рдореИрдиреЗрдЬрдореЗрдВрдЯ рд╕рд░реНрд╡рд┐рд╕реЗрдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред  
- **рдЯреЛрдХрди рдПрдХреНрд╕рдкрд╛рдпрд░реА рд╣реИрдВрдбрд▓рд┐рдВрдЧ**: рдПрдХреНрд╕реЗрд╕ рдЯреЛрдХрди рдХреА рд╕реАрдорд┐рдд рдЕрд╡рдзрд┐ рд╣реЛрддреА рд╣реИред рд░рд┐рдлреНрд░реЗрд╢ рдЯреЛрдХрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЯреЛрдХрди рд░рд┐рдлреНрд░реЗрд╢ рд▓рд╛рдЧреВ рдХрд░реЗрдВ рддрд╛рдХрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдмрд╛рд░-рдмрд╛рд░ рдкреБрдирдГ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рди рдХрд░рдирд╛ рдкрдбрд╝реЗред  
- **Azure API Management рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ**: рдЬрдмрдХрд┐ рд╕реАрдзреЗ рдЕрдкрдиреЗ MCP рд╕рд░реНрд╡рд░ рдореЗрдВ рд╕реБрд░рдХреНрд╖рд╛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рд╕реЗ рдЖрдкрдХреЛ рд╕реВрдХреНрд╖реНрдо рдирд┐рдпрдВрддреНрд░рдг рдорд┐рд▓рддрд╛ рд╣реИ, API рдЧреЗрдЯрд╡реЗ рдЬреИрд╕реЗ Azure API Management рдХрдИ рд╕реБрд░рдХреНрд╖рд╛ рдЪрд┐рдВрддрд╛рдУрдВ рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд╕рдВрднрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рдирдореЗрдВ рдкреНрд░рдорд╛рдгреАрдХрд░рдг, рдкреНрд░рд╛рдзрд┐рдХрд░рдг, рд░реЗрдЯ рд▓рд┐рдорд┐рдЯрд┐рдВрдЧ рдФрд░ рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред рдпреЗ рдЖрдкрдХреЗ рдХреНрд▓рд╛рдЗрдВрдЯреНрд╕ рдФрд░ MCP рд╕рд░реНрд╡рд░реНрд╕ рдХреЗ рдмреАрдЪ рдПрдХ рдХреЗрдВрджреНрд░реАрдХреГрдд рд╕реБрд░рдХреНрд╖рд╛ рдкрд░рдд рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВред MCP рдХреЗ рд╕рд╛рде API рдЧреЗрдЯрд╡реЗ рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП рджреЗрдЦреЗрдВ [Azure API Management Your Auth Gateway For MCP Servers](https://techcommunity.microsoft.com/blog/integrationsonazureblog/azure-api-management-your-auth-gateway-for-mcp-servers/4402690)ред  


## Key Takeaways

- рдЕрдкрдиреЗ MCP рд╕рд░реНрд╡рд░ рдХреЛ рд╕реБрд░рдХреНрд╖рд┐рдд рдмрдирд╛рдирд╛ рдЖрдкрдХреЗ рдбреЗрдЯрд╛ рдФрд░ рдЯреВрд▓реНрд╕ рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рд▓рд┐рдП рдмреЗрд╣рдж рдЬрд░реВрд░реА рд╣реИред  
- Microsoft Entra ID рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдФрд░ рдкреНрд░рд╛рдзрд┐рдХрд░рдг рдХреЗ рд▓рд┐рдП рдПрдХ рдордЬрдмреВрдд рдФрд░ рд╕реНрдХреЗрд▓реЗрдмрд▓ рд╕рдорд╛рдзрд╛рди рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред  
- рд▓реЛрдХрд▓ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд▓рд┐рдП **public client** рдФрд░ рд░рд┐рдореЛрдЯ рд╕рд░реНрд╡рд░реНрд╕ рдХреЗ рд▓рд┐рдП **confidential client** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред  
- рд╡реЗрдм рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд▓рд┐рдП **Authorization Code Flow** рд╕рдмрд╕реЗ рд╕реБрд░рдХреНрд╖рд┐рдд рд╡рд┐рдХрд▓реНрдк рд╣реИред  


## Exercise

1. рд╕реЛрдЪреЗрдВ рдХрд┐ рдЖрдк рдПрдХ MCP рд╕рд░реНрд╡рд░ рдмрдирд╛рдПрдВрдЧреЗред рдХреНрдпрд╛ рд╡рд╣ рд▓реЛрдХрд▓ рд╕рд░реНрд╡рд░ рд╣реЛрдЧрд╛ рдпрд╛ рд░рд┐рдореЛрдЯ рд╕рд░реНрд╡рд░?  
2. рдЕрдкрдиреЗ рдЙрддреНрддрд░ рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рдХреНрдпрд╛ рдЖрдк public client рдпрд╛ confidential client рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗ?  
3. Microsoft Graph рдХреЗ рдЦрд┐рд▓рд╛рдл рдХреНрд░рд┐рдпрд╛рдПрдВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХрд╛ MCP рд╕рд░реНрд╡рд░ рдХреМрди-рд╕реА рдЕрдиреБрдорддрд┐ рдорд╛рдВрдЧреЗрдЧрд╛?  


## Hands-on Exercises

### Exercise 1: Entra ID рдореЗрдВ рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд░рдЬрд┐рд╕реНрдЯрд░ рдХрд░реЗрдВ  
Microsoft Entra рдкреЛрд░реНрдЯрд▓ рдкрд░ рдЬрд╛рдПрдВред  
рдЕрдкрдиреЗ MCP рд╕рд░реНрд╡рд░ рдХреЗ рд▓рд┐рдП рдПрдХ рдирдпрд╛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд░рдЬрд┐рд╕реНрдЯрд░ рдХрд░реЗрдВред  
Application (client) ID рдФрд░ Directory (tenant) ID рдиреЛрдЯ рдХрд░реЗрдВред  

### Exercise 2: рд▓реЛрдХрд▓ MCP рд╕рд░реНрд╡рд░ рдХреЛ рд╕реБрд░рдХреНрд╖рд┐рдд рдХрд░реЗрдВ (Public Client)  
- рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рд▓рд┐рдП MSAL (Microsoft Authentication Library) рдХреЛ рдЗрдВрдЯреАрдЧреНрд░реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдб рдЙрджрд╛рд╣рд░рдг рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВред  
- Microsoft Graph рд╕реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╡рд┐рд╡рд░рдг рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рд╡рд╛рд▓реЗ MCP рдЯреВрд▓ рдХреЛ рдХреЙрд▓ рдХрд░рдХреЗ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдлреНрд▓реЛ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВред  

### Exercise 3: рд░рд┐рдореЛрдЯ MCP рд╕рд░реНрд╡рд░ рдХреЛ рд╕реБрд░рдХреНрд╖рд┐рдд рдХрд░реЗрдВ (Confidential Client)  
- Entra ID рдореЗрдВ рдПрдХ confidential client рд░рдЬрд┐рд╕реНрдЯрд░ рдХрд░реЗрдВ рдФрд░ рдПрдХ client secret рдмрдирд╛рдПрдВред  
- рдЕрдкрдиреЗ Express.js MCP рд╕рд░реНрд╡рд░ рдХреЛ Authorization Code Flow рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВред  
- рд╕реБрд░рдХреНрд╖рд┐рдд рдПрдВрдбрдкреЙрдЗрдВрдЯреНрд╕ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВ рдФрд░ рдЯреЛрдХрди-рдЖрдзрд╛рд░рд┐рдд рдПрдХреНрд╕реЗрд╕ рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░реЗрдВред  

### Exercise 4: Security Best Practices рд▓рд╛рдЧреВ рдХрд░реЗрдВ  
- рдЕрдкрдиреЗ рд▓реЛрдХрд▓ рдпрд╛ рд░рд┐рдореЛрдЯ рд╕рд░реНрд╡рд░ рдХреЗ рд▓рд┐рдП HTTPS рд╕рдХреНрд╖рдо рдХрд░реЗрдВред  
- рдЕрдкрдиреЗ рд╕рд░реНрд╡рд░ рд▓реЙрдЬрд┐рдХ рдореЗрдВ role-based access control (RBAC) рд▓рд╛рдЧреВ рдХрд░реЗрдВред  
- рдЯреЛрдХрди рдПрдХреНрд╕рдкрд╛рдпрд░реА рд╣реИрдВрдбрд▓рд┐рдВрдЧ рдФрд░ рд╕реБрд░рдХреНрд╖рд┐рдд рдЯреЛрдХрди рд╕реНрдЯреЛрд░реЗрдЬ рдЬреЛрдбрд╝реЗрдВред  


## Resources

1. **MSAL Overview Documentation**  
   рдЬрд╛рдиреЗрдВ рдХрд┐ Microsoft Authentication Library (MSAL) рдХреИрд╕реЗ рдкреНрд▓реЗрдЯрдлреЙрд░реНрдореНрд╕ рдкрд░ рд╕реБрд░рдХреНрд╖рд┐рдд рдЯреЛрдХрди рдЕрдзрд┐рдЧреНрд░рд╣рдг рд╕рдХреНрд╖рдо рдХрд░рддрд╛ рд╣реИ:  
   [MSAL Overview on Microsoft Learn](https://learn.microsoft.com/en-gb/entra/msal/overview)  

2. **Azure-Samples/mcp-auth-servers GitHub Repository**  
   MCP рд╕рд░реНрд╡рд░реНрд╕ рдХреЗ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдлреНрд▓реЛрдЬрд╝ рдХреЗ рд╕рдВрджрд░реНрдн рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди:  
   [Azure-Samples/mcp-auth-servers on GitHub](https://github.com/Azure-Samples/mcp-auth-servers)  

3. **Managed Identities for Azure Resources Overview**  
   рд╕рд┐рд╕реНрдЯрдо рдпрд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛-рдЖрдзрд╛рд░рд┐рдд рдкреНрд░рдмрдВрдзрд┐рдд рдкрд╣рдЪрд╛рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реАрдХреНрд░реЗрдЯреНрд╕ рдХреЛ рдЦрддреНрдо рдХрд░рдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕рдордЭреЗрдВ:  
   [Managed Identities Overview on Microsoft Learn](https://learn.microsoft.com/en-us/entra/identity/managed-identities-azure-resources/)  

4. **Azure API Management: Your Auth Gateway for MCP Servers**  
   MCP рд╕рд░реНрд╡рд░реНрд╕ рдХреЗ рд▓рд┐рдП APIM рдХреЛ рдПрдХ рд╕реБрд░рдХреНрд╖рд┐рдд OAuth2 рдЧреЗрдЯрд╡реЗ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рдЧрд╣рд░рд╛ рдкрд░рд┐рдЪрдп:  
   [Azure API Management Your Auth Gateway For MCP Servers](https://techcommunity.microsoft.com/blog/integrationsonazureblog/azure-api-management-your-auth-gateway-for-mcp-servers/4402690)  

5. **Microsoft Graph Permissions Reference**  
   Microsoft Graph рдХреЗ рд▓рд┐рдП рдкреНрд░рддрд┐рдирд┐рдзрд┐ рдФрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреА рд╡реНрдпрд╛рдкрдХ рд╕реВрдЪреА:  
   [Microsoft Graph Permissions Reference](https://learn.microsoft.com/zh-tw/graph/permissions-reference)  


## Learning Outcomes  
рдЗрд╕ рдЕрдиреБрднрд╛рдЧ рдХреЛ рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдк рд╕рдХреНрд╖рдо рд╣реЛрдВрдЧреЗ:  

- рдпрд╣ рд╕рдордЭрд╛рдиреЗ рдореЗрдВ рдХрд┐ MCP рд╕рд░реНрд╡рд░реНрд╕ рдФрд░ AI рд╡рд░реНрдХрдлрд╝реНрд▓реЛрдЬрд╝ рдХреЗ рд▓рд┐рдП рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреНрдпреЛрдВ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред  
- рд▓реЛрдХрд▓ рдФрд░ рд░рд┐рдореЛрдЯ MCP рд╕рд░реНрд╡рд░ рдкрд░рд┐рджреГрд╢реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП Entra ID рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕реЗрдЯрдЕрдк рдФрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдореЗрдВред  
- рдЕрдкрдиреЗ рд╕рд░реНрд╡рд░ рдХреА рддреИрдирд╛рддреА рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдЙрдкрдпреБрдХреНрдд рдХреНрд▓рд╛рдЗрдВрдЯ рдкреНрд░рдХрд╛рд░ (public рдпрд╛ confidential) рдЪреБрдирдиреЗ рдореЗрдВред  
- рд╕реБрд░рдХреНрд╖рд┐рдд рдХреЛрдбрд┐рдВрдЧ рдкреНрд░рдерд╛рдУрдВ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдореЗрдВ, рдЬрд┐рд╕рдореЗрдВ рдЯреЛрдХрди рд╕реНрдЯреЛрд░реЗрдЬ рдФрд░ рд░реЛрд▓-рдЖрдзрд╛рд░рд┐рдд рдкреНрд░рд╛рдзрд┐рдХрд░рдг рд╢рд╛рдорд┐рд▓ рд╣реИрдВред  
- рдЕрдкрдиреЗ MCP рд╕рд░реНрд╡рд░ рдФрд░ рдЙрд╕рдХреЗ рдЯреВрд▓реНрд╕ рдХреЛ рдЕрдирдзрд┐рдХреГрдд рдкрд╣реБрдВрдЪ рд╕реЗ рдЖрддреНрдорд╡рд┐рд╢реНрд╡рд╛рд╕ рдХреЗ рд╕рд╛рде рд╕реБрд░рдХреНрд╖рд┐рдд рд░рдЦрдиреЗ рдореЗрдВред  


## What's next  

- [5.13 Model Context Protocol (MCP) Integration with Azure AI Foundry](../mcp-foundry-agent-integration/README.md)

**рдЕрд╕реНрд╡реАрдХрд░рдг**:  
рдпрд╣ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ AI рдЕрдиреБрд╡рд╛рдж рд╕реЗрд╡рд╛ [Co-op Translator](https://github.com/Azure/co-op-translator) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдЬрдмрдХрд┐ рд╣рдо рд╕рдЯреАрдХрддрд╛ рдХреЗ рд▓рд┐рдП рдкреНрд░рдпрд╛рд╕рд░рдд рд╣реИрдВ, рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдЕрдиреБрд╡рд╛рджреЛрдВ рдореЗрдВ рддреНрд░реБрдЯрд┐рдпрд╛рдБ рдпрд╛ рдЕрд╢реБрджреНрдзрд┐рдпрд╛рдБ рд╣реЛ рд╕рдХрддреА рд╣реИрдВред рдореВрд▓ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдЕрдкрдиреА рдореВрд▓ рднрд╛рд╖рд╛ рдореЗрдВ рд╣реА рдЕрдзрд┐рдХрд╛рд░рд┐рдХ рд╕реНрд░реЛрдд рдорд╛рдирд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП, рдкреЗрд╢реЗрд╡рд░ рдорд╛рдирд╡ рдЕрдиреБрд╡рд╛рдж рдХреА рд╕рд▓рд╛рд╣ рджреА рдЬрд╛рддреА рд╣реИред рдЗрд╕ рдЕрдиреБрд╡рд╛рдж рдХреЗ рдЙрдкрдпреЛрдЧ рд╕реЗ рдЙрддреНрдкрдиреНрди рдХрд┐рд╕реА рднреА рдЧрд▓рддрдлрд╣рдореА рдпрд╛ рдЧрд▓рдд рд╡реНрдпрд╛рдЦреНрдпрд╛ рдХреЗ рд▓рд┐рдП рд╣рдо рдЬрд┐рдореНрдореЗрджрд╛рд░ рдирд╣реАрдВ рд╣реИрдВред