<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "69372338676e01a2c97f42f70fdfbf42",
  "translation_date": "2025-08-26T20:26:04+00:00",
  "source_file": "03-GettingStarted/05-stdio-server/solution/dotnet/README.md",
  "language_code": "sr"
}
-->
# MCP stdio сервер - .NET решење

> **⚠️ Важно**: Ово решење је ажурирано да користи **stdio транспорт** како је препоручено у MCP спецификацији 2025-06-18. Првобитни SSE транспорт је застарео.

## Преглед

Ово .NET решење показује како изградити MCP сервер користећи тренутни stdio транспорт. Stdio транспорт је једноставнији, безбеднији и пружа боље перформансе од застарелог SSE приступа.

## Предуслови

- .NET 9.0 SDK или новији
- Основно разумевање .NET dependency injection-а

## Упутства за подешавање

### Корак 1: Вратите зависности

```bash
dotnet restore
```

### Корак 2: Изградите пројекат

```bash
dotnet build
```

## Покретање сервера

Stdio сервер ради другачије од старог HTTP-базираног сервера. Уместо покретања веб сервера, комуницира преко stdin/stdout:

```bash
dotnet run
```

**Важно**: Сервер ће изгледати као да је "заглавио" - то је нормално! Чека JSON-RPC поруке са stdin-а.

## Тестирање сервера

### Метод 1: Коришћење MCP Inspector-а (Препоручено)

```bash
npx @modelcontextprotocol/inspector dotnet run
```

Ово ће:
1. Покренути ваш сервер као подпроцес
2. Отворити веб интерфејс за тестирање
3. Омогућити интерактивно тестирање свих алата сервера

### Метод 2: Директно тестирање преко командне линије

Можете тестирати и директним покретањем Inspector-а:

```bash
npx @modelcontextprotocol/inspector dotnet run --project .
```

### Доступни алати

Сервер пружа следеће алате:

- **AddNumbers(a, b)**: Сабира два броја
- **MultiplyNumbers(a, b)**: Множи два броја  
- **GetGreeting(name)**: Генерише персонализовану поруку добродошлице
- **GetServerInfo()**: Добија информације о серверу

### Тестирање са Claude Desktop-ом

Да бисте користили овај сервер са Claude Desktop-ом, додајте ову конфигурацију у ваш `claude_desktop_config.json`:

```json
{
  "mcpServers": {
    "example-stdio-server": {
      "command": "dotnet",
      "args": ["run", "--project", "path/to/server.csproj"]
    }
  }
}
```

## Структура пројекта

```
dotnet/
├── Program.cs           # Main server setup and configuration
├── Tools.cs            # Tool implementations
├── server.csproj       # Project file with dependencies
├── server.sln         # Solution file
├── Properties/         # Project properties
└── README.md          # This file
```

## Кључне разлике између HTTP/SSE

**Stdio транспорт (Тренутни):**
- ✅ Једноставније подешавање - није потребан веб сервер
- ✅ Боља безбедност - нема HTTP крајњих тачака
- ✅ Користи `Host.CreateApplicationBuilder()` уместо `WebApplication.CreateBuilder()`
- ✅ `WithStdioTransport()` уместо `WithHttpTransport()`
- ✅ Конзолна апликација уместо веб апликације
- ✅ Боље перформансе

**HTTP/SSE транспорт (Застарео):**
- ❌ Захтевао ASP.NET Core веб сервер
- ❌ Потребно `app.MapMcp()` подешавање рутирања
- ❌ Комплекснија конфигурација и зависности
- ❌ Додатни безбедносни аспекти
- ❌ Сада застарео у MCP 2025-06-18

## Карактеристике развоја

- **Dependency Injection**: Потпуна подршка за DI за сервисе и логовање
- **Структурисано логовање**: Правилно логовање на stderr користећи `ILogger<T>`
- **Атрибути алата**: Чисто дефинисање алата користећи `[McpServerTool]` атрибуте
- **Подршка за асинхрони рад**: Сви алати подржавају асинхроне операције
- **Руковање грешкама**: Елегантно руковање грешкама и логовање

## Савети за развој

- Користите `ILogger` за логовање (никада не пишите директно на stdout)
- Изградите пројекат са `dotnet build` пре тестирања
- Тестирајте са Inspector-ом за визуелно отклањање грешака
- Све логовање иде аутоматски на stderr
- Сервер обрађује сигнале за елегантно гашење

Ово решење прати тренутну MCP спецификацију и демонстрира најбоље праксе за имплементацију stdio транспорта користећи .NET.

---

**Одрицање од одговорности**:  
Овај документ је преведен коришћењем услуге за превођење помоћу вештачке интелигенције [Co-op Translator](https://github.com/Azure/co-op-translator). Иако настојимо да обезбедимо тачност, молимо вас да имате у виду да аутоматски преводи могу садржати грешке или нетачности. Оригинални документ на изворном језику треба сматрати ауторитативним извором. За критичне информације препоручује се професионални превод од стране људи. Не сносимо одговорност за било каква неспоразумевања или погрешна тумачења која могу произаћи из коришћења овог превода.