<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "68cd055621b3370948a5a1dff7bedc9a",
  "translation_date": "2025-08-26T20:36:48+00:00",
  "source_file": "03-GettingStarted/05-stdio-server/solution/python/README.md",
  "language_code": "bg"
}
-->
# MCP stdio Server - Python Решение

> **⚠️ Важно**: Това решение е актуализирано, за да използва **stdio транспорт**, както е препоръчано в MCP Спецификация 2025-06-18. Оригиналният SSE транспорт е остарял.

## Обща информация

Това Python решение демонстрира как да изградите MCP сървър, използвайки текущия stdio транспорт. Stdio транспортът е по-прост, по-сигурен и осигурява по-добра производителност в сравнение с остарелия SSE подход.

## Предварителни изисквания

- Python 3.8 или по-нова версия
- Препоръчително е да инсталирате `uv` за управление на пакети, вижте [инструкциите](https://docs.astral.sh/uv/#highlights)

## Инструкции за настройка

### Стъпка 1: Създайте виртуална среда

```bash
python -m venv venv
```

### Стъпка 2: Активирайте виртуалната среда

**Windows:**
```bash
venv\Scripts\activate
```

**macOS/Linux:**
```bash
source venv/bin/activate
```

### Стъпка 3: Инсталирайте зависимостите

```bash
pip install mcp
```

## Стартиране на сървъра

Stdio сървърът работи по различен начин от стария SSE сървър. Вместо да стартира уеб сървър, той комуникира чрез stdin/stdout:

```bash
python server.py
```

**Важно**: Сървърът ще изглежда като че ли е "замръзнал" - това е нормално! Той чака JSON-RPC съобщения от stdin.

## Тестване на сървъра

### Метод 1: Използване на MCP Inspector (Препоръчително)

```bash
npx @modelcontextprotocol/inspector python server.py
```

Това ще:
1. Стартира вашия сървър като подпроцес
2. Отвори уеб интерфейс за тестване
3. Позволи интерактивно тестване на всички инструменти на сървъра

### Метод 2: Директно тестване с JSON-RPC

Можете също да тествате, като изпращате JSON-RPC съобщения директно:

1. Стартирайте сървъра: `python server.py`
2. Изпратете JSON-RPC съобщение (пример):

```json
{"jsonrpc": "2.0", "id": 1, "method": "tools/list"}
```

3. Сървърът ще отговори с наличните инструменти

### Налични инструменти

Сървърът предоставя следните инструменти:

- **add(a, b)**: Събира две числа
- **multiply(a, b)**: Умножава две числа  
- **get_greeting(name)**: Генерира персонализиран поздрав
- **get_server_info()**: Получава информация за сървъра

### Тестване с Claude Desktop

За да използвате този сървър с Claude Desktop, добавете тази конфигурация към вашия `claude_desktop_config.json`:

```json
{
  "mcpServers": {
    "example-stdio-server": {
      "command": "python",
      "args": ["path/to/server.py"]
    }
  }
}
```

## Основни разлики от SSE

**Stdio транспорт (Текущ):**
- ✅ По-проста настройка - не е необходим уеб сървър
- ✅ По-добра сигурност - няма HTTP крайни точки
- ✅ Комуникация на база подпроцеси
- ✅ JSON-RPC чрез stdin/stdout
- ✅ По-добра производителност

**SSE транспорт (Остарял):**
- ❌ Изискваше настройка на HTTP сървър
- ❌ Нуждаеше се от уеб фреймуърк (Starlette/FastAPI)
- ❌ По-сложно управление на маршрутизацията и сесиите
- ❌ Допълнителни съображения за сигурност
- ❌ Вече е остарял в MCP 2025-06-18

## Съвети за отстраняване на проблеми

- Използвайте `stderr` за логване (никога `stdout`)
- Тествайте с Inspector за визуално отстраняване на грешки
- Уверете се, че всички JSON съобщения са разделени с нов ред
- Проверете дали сървърът стартира без грешки

Това решение следва текущата MCP спецификация и демонстрира най-добрите практики за имплементация на stdio транспорт.

---

**Отказ от отговорност**:  
Този документ е преведен с помощта на AI услуга за превод [Co-op Translator](https://github.com/Azure/co-op-translator). Въпреки че се стремим към точност, моля, имайте предвид, че автоматизираните преводи може да съдържат грешки или неточности. Оригиналният документ на неговия роден език трябва да се счита за авторитетен източник. За критична информация се препоръчва професионален човешки превод. Не носим отговорност за недоразумения или погрешни интерпретации, произтичащи от използването на този превод.