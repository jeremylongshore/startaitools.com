<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "9d799c4a30a8383e0a74af9153262972",
  "translation_date": "2025-08-26T20:13:46+00:00",
  "source_file": "03-GettingStarted/05-stdio-server/solution/typescript/README.md",
  "language_code": "bg"
}
-->
# MCP stdio Server - TypeScript Решение

> **⚠️ Важно**: Това решение е актуализирано да използва **stdio транспорт**, както е препоръчано в MCP Спецификация 2025-06-18. Оригиналният SSE транспорт е остарял.

## Общ преглед

Това TypeScript решение демонстрира как да изградите MCP сървър, използвайки текущия stdio транспорт. Stdio транспортът е по-прост, по-сигурен и осигурява по-добра производителност в сравнение с остарелия SSE подход.

## Предпоставки

- Node.js 18+ или по-нова версия
- npm или yarn пакетен мениджър

## Инструкции за настройка

### Стъпка 1: Инсталирайте зависимостите

```bash
npm install
```

### Стъпка 2: Компилирайте проекта

```bash
npm run build
```

## Стартиране на сървъра

Stdio сървърът работи по различен начин от стария SSE сървър. Вместо да стартира уеб сървър, той комуникира чрез stdin/stdout:

```bash
npm start
```

**Важно**: Сървърът ще изглежда като че ли е блокирал - това е нормално! Той чака JSON-RPC съобщения от stdin.

## Тестване на сървъра

### Метод 1: Използване на MCP Inspector (Препоръчително)

```bash
npm run inspector
```

Това ще:
1. Стартира вашия сървър като подпроцес
2. Отвори уеб интерфейс за тестване
3. Позволи интерактивно тестване на всички инструменти на сървъра

### Метод 2: Директно тестване от командния ред

Можете също да тествате, като стартирате Inspector директно:

```bash
npx @modelcontextprotocol/inspector node build/index.js
```

### Налични инструменти

Сървърът предоставя следните инструменти:

- **add(a, b)**: Събира две числа
- **multiply(a, b)**: Умножава две числа  
- **get_greeting(name)**: Генерира персонализирано приветствие
- **get_server_info()**: Получава информация за сървъра

### Тестване с Claude Desktop

За да използвате този сървър с Claude Desktop, добавете тази конфигурация към вашия `claude_desktop_config.json`:

```json
{
  "mcpServers": {
    "example-stdio-server": {
      "command": "node",
      "args": ["path/to/build/index.js"]
    }
  }
}
```

## Структура на проекта

```
typescript/
├── src/
│   └── index.ts          # Main server implementation
├── build/                # Compiled JavaScript (generated)
├── package.json          # Project configuration
├── tsconfig.json         # TypeScript configuration
└── README.md            # This file
```

## Основни разлики от SSE

**Stdio транспорт (Текущ):**
- ✅ По-проста настройка - не е необходим HTTP сървър
- ✅ По-добра сигурност - няма HTTP крайни точки
- ✅ Комуникация, базирана на подпроцеси
- ✅ JSON-RPC чрез stdin/stdout
- ✅ По-добра производителност

**SSE транспорт (Остарял):**
- ❌ Изискваше настройка на Express сървър
- ❌ Нуждаеше се от сложен маршрутизационен и сесиен мениджмънт
- ❌ Повече зависимости (Express, HTTP обработка)
- ❌ Допълнителни съображения за сигурност
- ❌ Вече остарял в MCP 2025-06-18

## Съвети за разработка

- Използвайте `console.error()` за логване (никога `console.log()`, тъй като пише към stdout)
- Компилирайте с `npm run build` преди тестване
- Тествайте с Inspector за визуално дебъгване
- Уверете се, че всички JSON съобщения са правилно форматирани
- Сървърът автоматично обработва плавно изключване при SIGINT/SIGTERM

Това решение следва текущата MCP спецификация и демонстрира най-добрите практики за имплементация на stdio транспорт с TypeScript.

---

**Отказ от отговорност**:  
Този документ е преведен с помощта на AI услуга за превод [Co-op Translator](https://github.com/Azure/co-op-translator). Въпреки че се стремим към точност, моля, имайте предвид, че автоматизираните преводи може да съдържат грешки или неточности. Оригиналният документ на неговия изходен език трябва да се счита за авторитетен източник. За критична информация се препоръчва професионален превод от човек. Ние не носим отговорност за каквито и да е недоразумения или погрешни интерпретации, произтичащи от използването на този превод.