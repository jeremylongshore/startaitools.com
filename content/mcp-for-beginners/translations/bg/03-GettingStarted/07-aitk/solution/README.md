<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "e9490aedc71f99bc774af57b207a7adb",
  "translation_date": "2025-07-13T21:55:10+00:00",
  "source_file": "03-GettingStarted/07-aitk/solution/README.md",
  "language_code": "bg"
}
-->
# 📘 Решение на задачата: Разширяване на вашия MCP сървър за калкулатор с инструмент за квадратен корен

## Преглед
В тази задача разширихте вашия MCP сървър за калкулатор, като добавихте нов инструмент, който изчислява квадратния корен на число. Това допълнение позволява на вашия AI агент да обработва по-сложни математически заявки, като например „Какъв е квадратният корен на 16?“ или „Изчисли √49“, използвайки естествени езикови команди.

## 🛠️ Имплементиране на инструмента за квадратен корен
За да добавите тази функционалност, дефинирахте нова функция за инструмента във файла server.py. Ето реализацията:

```python
"""
Sample MCP Calculator Server implementation in Python.

This module demonstrates how to create a simple MCP server with calculator tools
that can perform basic arithmetic operations (add, subtract, multiply, divide).
"""

from mcp.server.fastmcp import FastMCP
import math

server = FastMCP("calculator")

@server.tool()
def add(a: float, b: float) -> float:
    """Add two numbers together and return the result."""
    return a + b

@server.tool()
def subtract(a: float, b: float) -> float:
    """Subtract b from a and return the result."""
    return a - b

@server.tool()
def multiply(a: float, b: float) -> float:
    """Multiply two numbers together and return the result."""
    return a * b

@server.tool()
def divide(a: float, b: float) -> float:
    """
    Divide a by b and return the result.
    
    Raises:
        ValueError: If b is zero
    """
    if b == 0:
        raise ValueError("Cannot divide by zero")
    return a / b

@server.tool()
def sqrt(a: float) -> float:
    """
    Return the square root of a.

    Raises:
        ValueError: If a is negative.
    """
    if a < 0:
        raise ValueError("Cannot compute the square root of a negative number.")
    return math.sqrt(a)
```

## 🔍 Как работи

- **Импортиране на модула `math`**: За извършване на математически операции извън основната аритметика, Python предоставя вградения модул `math`. Този модул включва разнообразни математически функции и константи. Като го импортирате с `import math`, получавате достъп до функции като `math.sqrt()`, която изчислява квадратния корен на число.
- **Дефиниция на функцията**: Декораторът `@server.tool()` регистрира функцията `sqrt` като инструмент, достъпен за вашия AI агент.
- **Входен параметър**: Функцията приема един аргумент `a` от тип `float`.
- **Обработка на грешки**: Ако `a` е отрицателно, функцията вдига `ValueError`, за да предотврати изчисляването на квадратен корен на отрицателно число, което не се поддържа от функцията `math.sqrt()`.
- **Връщана стойност**: За неотрицателни входни стойности функцията връща квадратния корен на `a`, използвайки вградената в Python функция `math.sqrt()`.

## 🔄 Рестартиране на сървъра
След добавянето на новия инструмент `sqrt` е важно да рестартирате MCP сървъра, за да може агентът да разпознае и използва новата функционалност.

## 💬 Примерни заявки за тестване на новия инструмент
Ето няколко естествени езикови заявки, които можете да използвате, за да тествате функционалността за квадратен корен:

- „Какъв е квадратният корен на 25?“
- „Изчисли квадратния корен на 81.“
- „Намери квадратния корен на 0.“
- „Какъв е квадратният корен на 2.25?“

Тези заявки трябва да задействат агента да извика инструмента `sqrt` и да върне правилните резултати.

## ✅ Обобщение
С изпълнението на тази задача вие:

- Разширихте вашия MCP сървър за калкулатор с новия инструмент `sqrt`.
- Позволихте на вашия AI агент да извършва изчисления на квадратен корен чрез естествени езикови заявки.
- Практикувахте добавянето на нови инструменти и рестартирането на сървъра за интегриране на допълнителни функционалности.

Не се колебайте да експериментирате допълнително, като добавяте още математически инструменти, като степенуване или логаритмични функции, за да продължите да развивате възможностите на вашия агент!

**Отказ от отговорност**:  
Този документ е преведен с помощта на AI преводаческа услуга [Co-op Translator](https://github.com/Azure/co-op-translator). Въпреки че се стремим към точност, моля, имайте предвид, че автоматизираните преводи могат да съдържат грешки или неточности. Оригиналният документ на неговия език трябва да се счита за авторитетен източник. За критична информация се препоръчва професионален човешки превод. Ние не носим отговорност за каквито и да е недоразумения или неправилни тълкувания, произтичащи от използването на този превод.