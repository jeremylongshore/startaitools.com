<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "68cd055621b3370948a5a1dff7bedc9a",
  "translation_date": "2025-08-26T20:28:41+00:00",
  "source_file": "03-GettingStarted/05-stdio-server/solution/python/README.md",
  "language_code": "ar"
}
-->
# MCP stdio Server - حل Python

> **⚠️ مهم**: تم تحديث هذا الحل لاستخدام **stdio transport** كما هو موصى به في مواصفات MCP بتاريخ 2025-06-18. تم إيقاف استخدام النقل القديم SSE.

## نظرة عامة

يُظهر هذا الحل باستخدام Python كيفية بناء خادم MCP باستخدام النقل الحالي stdio. يعتبر النقل stdio أبسط وأكثر أمانًا ويوفر أداءً أفضل مقارنةً بالطريقة القديمة SSE.

## المتطلبات الأساسية

- Python 3.8 أو أحدث
- يُوصى بتثبيت `uv` لإدارة الحزم، انظر [التعليمات](https://docs.astral.sh/uv/#highlights)

## تعليمات الإعداد

### الخطوة 1: إنشاء بيئة افتراضية

```bash
python -m venv venv
```

### الخطوة 2: تفعيل البيئة الافتراضية

**Windows:**
```bash
venv\Scripts\activate
```

**macOS/Linux:**
```bash
source venv/bin/activate
```

### الخطوة 3: تثبيت التبعيات

```bash
pip install mcp
```

## تشغيل الخادم

يعمل خادم stdio بشكل مختلف عن خادم SSE القديم. بدلاً من بدء تشغيل خادم ويب، يتواصل عبر stdin/stdout:

```bash
python server.py
```

**مهم**: سيبدو أن الخادم متوقف - هذا طبيعي! إنه ينتظر رسائل JSON-RPC من stdin.

## اختبار الخادم

### الطريقة الأولى: باستخدام MCP Inspector (موصى به)

```bash
npx @modelcontextprotocol/inspector python server.py
```

هذا سيقوم بـ:
1. تشغيل الخادم كعملية فرعية
2. فتح واجهة ويب للاختبار
3. السماح لك باختبار جميع أدوات الخادم بشكل تفاعلي

### الطريقة الثانية: اختبار JSON-RPC المباشر

يمكنك أيضًا الاختبار عن طريق إرسال رسائل JSON-RPC مباشرة:

1. قم بتشغيل الخادم: `python server.py`
2. أرسل رسالة JSON-RPC (مثال):

```json
{"jsonrpc": "2.0", "id": 1, "method": "tools/list"}
```

3. سيرد الخادم بالأدوات المتاحة

### الأدوات المتاحة

يوفر الخادم هذه الأدوات:

- **add(a, b)**: جمع رقمين معًا
- **multiply(a, b)**: ضرب رقمين معًا  
- **get_greeting(name)**: إنشاء تحية شخصية
- **get_server_info()**: الحصول على معلومات حول الخادم

### الاختبار باستخدام Claude Desktop

لاستخدام هذا الخادم مع Claude Desktop، أضف هذا التكوين إلى ملف `claude_desktop_config.json` الخاص بك:

```json
{
  "mcpServers": {
    "example-stdio-server": {
      "command": "python",
      "args": ["path/to/server.py"]
    }
  }
}
```

## الفروقات الرئيسية بين SSE و stdio

**stdio transport (الحالي):**
- ✅ إعداد أبسط - لا حاجة لخادم ويب
- ✅ أمان أفضل - لا توجد نقاط نهاية HTTP
- ✅ اتصال يعتمد على العمليات الفرعية
- ✅ JSON-RPC عبر stdin/stdout
- ✅ أداء أفضل

**SSE transport (الموقوف):**
- ❌ يتطلب إعداد خادم HTTP
- ❌ يحتاج إلى إطار عمل ويب (Starlette/FastAPI)
- ❌ إدارة التوجيه والجلسات أكثر تعقيدًا
- ❌ اعتبارات أمان إضافية
- ❌ تم إيقافه في MCP بتاريخ 2025-06-18

## نصائح التصحيح

- استخدم `stderr` لتسجيل الأخطاء (لا تستخدم `stdout`)
- اختبر باستخدام Inspector للحصول على تصحيح بصري
- تأكد من أن جميع رسائل JSON مفصولة بخط جديد
- تحقق من أن الخادم يبدأ بدون أخطاء

يتبع هذا الحل مواصفات MCP الحالية ويُظهر أفضل الممارسات لتنفيذ النقل stdio.

---

**إخلاء المسؤولية**:  
تم ترجمة هذا المستند باستخدام خدمة الترجمة بالذكاء الاصطناعي [Co-op Translator](https://github.com/Azure/co-op-translator). بينما نسعى لتحقيق الدقة، يرجى العلم أن الترجمات الآلية قد تحتوي على أخطاء أو معلومات غير دقيقة. يجب اعتبار المستند الأصلي بلغته الأصلية المصدر الرسمي. للحصول على معلومات حاسمة، يُوصى بالاستعانة بترجمة بشرية احترافية. نحن غير مسؤولين عن أي سوء فهم أو تفسيرات خاطئة تنشأ عن استخدام هذه الترجمة.