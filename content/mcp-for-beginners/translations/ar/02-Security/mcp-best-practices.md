<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "b2b9e15e78b9d9a2b3ff3e8fd7d1f434",
  "translation_date": "2025-08-18T13:42:58+00:00",
  "source_file": "02-Security/mcp-best-practices.md",
  "language_code": "ar"
}
-->
# أفضل ممارسات أمان MCP لعام 2025

يقدم هذا الدليل الشامل أفضل الممارسات الأمنية الأساسية لتطبيق أنظمة **بروتوكول سياق النموذج (MCP)** استنادًا إلى أحدث مواصفات **MCP 2025-06-18** والمعايير الصناعية الحالية. تعالج هذه الممارسات المخاوف الأمنية التقليدية بالإضافة إلى التهديدات الخاصة بالذكاء الاصطناعي التي تميز عمليات نشر MCP.

## المتطلبات الأمنية الأساسية

### الضوابط الأمنية الإلزامية (متطلبات MUST)

1. **التحقق من الرموز (Tokens)**: يجب على خوادم MCP **عدم قبول** أي رموز لم يتم إصدارها صراحةً للخادم نفسه.
2. **التحقق من التفويض**: يجب على خوادم MCP التي تنفذ التفويض **التحقق من جميع الطلبات الواردة** و**عدم استخدام الجلسات** للمصادقة.
3. **موافقة المستخدم**: يجب على خوادم الوكيل MCP التي تستخدم معرفات عملاء ثابتة **الحصول على موافقة صريحة من المستخدم** لكل عميل يتم تسجيله ديناميكيًا.
4. **معرفات الجلسة الآمنة**: يجب على خوادم MCP استخدام معرفات جلسة آمنة مشفرة وغير حتمية يتم إنشاؤها باستخدام مولدات أرقام عشوائية آمنة.

## الممارسات الأمنية الأساسية

### 1. التحقق من المدخلات وتنقيتها
- **التحقق الشامل من المدخلات**: تحقق من جميع المدخلات وقم بتنقيتها لمنع هجمات الحقن، ومشاكل الوكيل المربك، وثغرات حقن التعليمات.
- **فرض مخططات المعلمات**: قم بتنفيذ التحقق الصارم من مخططات JSON لجميع معلمات الأدوات ومدخلات واجهات البرمجة.
- **تصفية المحتوى**: استخدم Microsoft Prompt Shields وAzure Content Safety لتصفية المحتوى الضار في التعليمات والاستجابات.
- **تنقية المخرجات**: تحقق من جميع مخرجات النماذج وقم بتنقيتها قبل عرضها على المستخدمين أو الأنظمة الأخرى.

### 2. التميز في المصادقة والتفويض
- **مزودو الهوية الخارجيون**: قم بتفويض المصادقة لمزودي الهوية المعروفين (مثل Microsoft Entra ID وOAuth 2.1) بدلاً من تنفيذ مصادقة مخصصة.
- **الأذونات الدقيقة**: قم بتنفيذ أذونات دقيقة خاصة بالأدوات وفقًا لمبدأ أقل الامتيازات.
- **إدارة دورة حياة الرموز**: استخدم رموز وصول قصيرة العمر مع التدوير الآمن والتحقق المناسب من الجمهور.
- **المصادقة متعددة العوامل**: قم بفرض المصادقة متعددة العوامل لجميع الوصول الإداري والعمليات الحساسة.

### 3. بروتوكولات الاتصال الآمنة
- **أمان طبقة النقل**: استخدم HTTPS/TLS 1.3 لجميع اتصالات MCP مع التحقق المناسب من الشهادات.
- **التشفير من النهاية إلى النهاية**: قم بتنفيذ طبقات تشفير إضافية للبيانات الحساسة أثناء النقل وفي حالة السكون.
- **إدارة الشهادات**: قم بإدارة دورة حياة الشهادات بشكل صحيح مع عمليات التجديد التلقائية.
- **فرض إصدار البروتوكول**: استخدم إصدار بروتوكول MCP الحالي (2025-06-18) مع التفاوض المناسب على الإصدار.

### 4. تحديد المعدلات وحماية الموارد
- **تحديد المعدلات متعدد الطبقات**: قم بتنفيذ تحديد المعدلات على مستوى المستخدم والجلسة والأداة والموارد لمنع إساءة الاستخدام.
- **تحديد المعدلات التكيفي**: استخدم تحديد المعدلات المستند إلى التعلم الآلي الذي يتكيف مع أنماط الاستخدام ومؤشرات التهديد.
- **إدارة حصص الموارد**: قم بتعيين حدود مناسبة للموارد الحسابية واستخدام الذاكرة ووقت التنفيذ.
- **حماية DDoS**: قم بنشر أنظمة حماية شاملة من هجمات DDoS وتحليل حركة المرور.

### 5. التسجيل والمراقبة الشاملة
- **تسجيل التدقيق المنظم**: قم بتنفيذ سجلات مفصلة وقابلة للبحث لجميع عمليات MCP وتنفيذ الأدوات والأحداث الأمنية.
- **المراقبة الأمنية في الوقت الفعلي**: قم بنشر أنظمة SIEM مع اكتشاف الشذوذ المدعوم بالذكاء الاصطناعي لأعباء عمل MCP.
- **التسجيل المتوافق مع الخصوصية**: قم بتسجيل الأحداث الأمنية مع احترام متطلبات الخصوصية واللوائح.
- **تكامل الاستجابة للحوادث**: قم بتوصيل أنظمة التسجيل بسير عمل الاستجابة للحوادث المؤتمتة.

### 6. ممارسات التخزين الآمن المحسنة
- **وحدات أمان الأجهزة (HSM)**: استخدم تخزين المفاتيح المدعوم من HSM (مثل Azure Key Vault وAWS CloudHSM) للعمليات التشفيرية الحرجة.
- **إدارة مفاتيح التشفير**: قم بتنفيذ تدوير المفاتيح بشكل صحيح، وفصلها، وتطبيق ضوابط الوصول.
- **إدارة الأسرار**: قم بتخزين جميع مفاتيح API والرموز والبيانات السرية في أنظمة إدارة الأسرار المخصصة.
- **تصنيف البيانات**: صنف البيانات بناءً على مستويات الحساسية وطبق تدابير الحماية المناسبة.

### 7. إدارة الرموز المتقدمة
- **منع تمرير الرموز**: قم بحظر أنماط تمرير الرموز التي تتجاوز الضوابط الأمنية بشكل صريح.
- **التحقق من الجمهور**: تحقق دائمًا من أن مطالبات الجمهور في الرموز تتطابق مع هوية خادم MCP المقصود.
- **التفويض المستند إلى المطالبات**: قم بتنفيذ التفويض الدقيق استنادًا إلى مطالبات الرموز وسمات المستخدم.
- **ربط الرموز**: اربط الرموز بجلسات أو مستخدمين أو أجهزة محددة عند الاقتضاء.

### 8. إدارة الجلسات الآمنة
- **معرفات الجلسة المشفرة**: قم بإنشاء معرفات الجلسة باستخدام مولدات أرقام عشوائية آمنة (غير متسلسلة أو متوقعة).
- **الربط بالمستخدم**: اربط معرفات الجلسة بمعلومات محددة للمستخدم باستخدام تنسيقات آمنة مثل `<user_id>:<session_id>`.
- **ضوابط دورة حياة الجلسة**: قم بتنفيذ آليات انتهاء صلاحية الجلسة وتدويرها وإبطالها بشكل صحيح.
- **رؤوس أمان الجلسة**: استخدم رؤوس HTTP الأمنية المناسبة لحماية الجلسات.

### 9. ضوابط أمان خاصة بالذكاء الاصطناعي
- **الدفاع ضد حقن التعليمات**: قم بنشر Microsoft Prompt Shields باستخدام تقنيات مثل تسليط الضوء والفواصل وعلامات البيانات.
- **منع تسميم الأدوات**: تحقق من بيانات تعريف الأدوات، وراقب التغييرات الديناميكية، وتحقق من سلامة الأدوات.
- **التحقق من مخرجات النماذج**: افحص مخرجات النماذج بحثًا عن تسرب البيانات المحتمل أو المحتوى الضار أو انتهاكات السياسات الأمنية.
- **حماية نافذة السياق**: قم بتنفيذ ضوابط لمنع تسميم نافذة السياق وهجمات التلاعب.

### 10. أمان تنفيذ الأدوات
- **عزل التنفيذ**: قم بتشغيل تنفيذ الأدوات في بيئات معزولة ومقيدة الموارد.
- **فصل الامتيازات**: قم بتنفيذ الأدوات بأقل الامتيازات المطلوبة باستخدام حسابات خدمة منفصلة.
- **عزل الشبكة**: قم بتنفيذ تقسيم الشبكة لبيئات تنفيذ الأدوات.
- **مراقبة التنفيذ**: راقب تنفيذ الأدوات بحثًا عن السلوك الشاذ واستخدام الموارد والانتهاكات الأمنية.

### 11. التحقق الأمني المستمر
- **اختبار الأمان المؤتمت**: قم بدمج اختبارات الأمان في خطوط CI/CD باستخدام أدوات مثل GitHub Advanced Security.
- **إدارة الثغرات الأمنية**: قم بمسح جميع التبعيات بانتظام، بما في ذلك نماذج الذكاء الاصطناعي والخدمات الخارجية.
- **اختبار الاختراق**: قم بإجراء تقييمات أمان منتظمة تستهدف تطبيقات MCP.
- **مراجعات الكود الأمنية**: قم بتنفيذ مراجعات أمان إلزامية لجميع تغييرات الكود المتعلقة بـ MCP.

### 12. أمان سلسلة التوريد للذكاء الاصطناعي
- **التحقق من المكونات**: تحقق من مصدر وسلامة وأمان جميع مكونات الذكاء الاصطناعي (النماذج، التضمينات، واجهات البرمجة).
- **إدارة التبعيات**: احتفظ بقوائم محدثة لجميع التبعيات البرمجية والذكاء الاصطناعي مع تتبع الثغرات.
- **المستودعات الموثوقة**: استخدم مصادر موثوقة لجميع النماذج والمكتبات والأدوات.
- **مراقبة سلسلة التوريد**: راقب باستمرار أي اختراقات في مزودي خدمات الذكاء الاصطناعي ومستودعات النماذج.

## أنماط الأمان المتقدمة

### بنية الثقة الصفرية لـ MCP
- **عدم الثقة مطلقًا، التحقق دائمًا**: قم بتنفيذ التحقق المستمر لجميع المشاركين في MCP.
- **التقسيم الدقيق**: قم بعزل مكونات MCP باستخدام ضوابط دقيقة للشبكة والهوية.
- **الوصول الشرطي**: قم بتنفيذ ضوابط وصول تستند إلى المخاطر تتكيف مع السياق والسلوك.
- **التقييم المستمر للمخاطر**: قم بتقييم الوضع الأمني ديناميكيًا بناءً على مؤشرات التهديد الحالية.

### تنفيذ الذكاء الاصطناعي مع الحفاظ على الخصوصية
- **تقليل البيانات**: قم بالكشف عن الحد الأدنى الضروري من البيانات لكل عملية MCP.
- **الخصوصية التفاضلية**: قم بتنفيذ تقنيات تحافظ على الخصوصية لمعالجة البيانات الحساسة.
- **التشفير المتماثل**: استخدم تقنيات التشفير المتقدمة للحساب الآمن على البيانات المشفرة.
- **التعلم الفيدرالي**: قم بتنفيذ أساليب التعلم الموزعة التي تحافظ على خصوصية البيانات.

### الاستجابة للحوادث في أنظمة الذكاء الاصطناعي
- **إجراءات الحوادث الخاصة بالذكاء الاصطناعي**: قم بتطوير إجراءات استجابة للحوادث مخصصة للتهديدات الخاصة بـ MCP والذكاء الاصطناعي.
- **الاستجابة المؤتمتة**: قم بتنفيذ الاحتواء والمعالجة المؤتمتة للحوادث الأمنية الشائعة في الذكاء الاصطناعي.
- **القدرات الجنائية**: احتفظ بالجاهزية الجنائية للتعامل مع اختراقات أنظمة الذكاء الاصطناعي وتسرب البيانات.
- **إجراءات الاسترداد**: قم بوضع إجراءات لاستعادة الأنظمة من تسميم النماذج، وهجمات حقن التعليمات، واختراقات الخدمات.

## موارد التنفيذ والمعايير

### الوثائق الرسمية لـ MCP
- [MCP Specification 2025-06-18](https://spec.modelcontextprotocol.io/specification/2025-06-18/) - مواصفات بروتوكول MCP الحالية
- [MCP Security Best Practices](https://modelcontextprotocol.io/specification/2025-06-18/basic/security_best_practices) - إرشادات الأمان الرسمية
- [MCP Authorization Specification](https://modelcontextprotocol.io/specification/2025-06-18/basic/authorization) - أنماط المصادقة والتفويض
- [MCP Transport Security](https://modelcontextprotocol.io/specification/2025-06-18/transports/) - متطلبات أمان طبقة النقل

### حلول الأمان من Microsoft
- [Microsoft Prompt Shields](https://learn.microsoft.com/azure/ai-services/content-safety/concepts/jailbreak-detection) - حماية متقدمة من حقن التعليمات
- [Azure Content Safety](https://learn.microsoft.com/azure/ai-services/content-safety/) - تصفية شاملة لمحتوى الذكاء الاصطناعي
- [Microsoft Entra ID](https://learn.microsoft.com/entra/identity-platform/v2-oauth2-auth-code-flow) - إدارة الهوية والوصول للمؤسسات
- [Azure Key Vault](https://learn.microsoft.com/azure/key-vault/general/basic-concepts) - إدارة آمنة للأسرار والبيانات السرية
- [GitHub Advanced Security](https://github.com/security/advanced-security) - فحص أمان سلسلة التوريد والكود

### المعايير والأطر الأمنية
- [OAuth 2.1 Security Best Practices](https://datatracker.ietf.org/doc/html/draft-ietf-oauth-security-topics) - إرشادات أمان OAuth الحالية
- [OWASP Top 10](https://owasp.org/www-project-top-ten/) - مخاطر أمان تطبيقات الويب
- [OWASP Top 10 for LLMs](https://genai.owasp.org/download/43299/?tmstv=1731900559) - مخاطر أمان خاصة بالذكاء الاصطناعي
- [NIST AI Risk Management Framework](https://www.nist.gov/itl/ai-risk-management-framework) - إدارة شاملة لمخاطر الذكاء الاصطناعي
- [ISO 27001:2022](https://www.iso.org/standard/27001) - أنظمة إدارة أمان المعلومات

### أدلة التنفيذ والدروس التعليمية
- [Azure API Management as MCP Auth Gateway](https://techcommunity.microsoft.com/blog/integrationsonazureblog/azure-api-management-your-auth-gateway-for-mcp-servers/4402690) - أنماط المصادقة المؤسسية
- [Microsoft Entra ID with MCP Servers](https://den.dev/blog/mcp-server-auth-entra-id-session/) - تكامل مزود الهوية
- [Secure Token Storage Implementation](https://youtu.be/uRdX37EcCwg?si=6fSChs1G4glwXRy2) - أفضل ممارسات إدارة الرموز
- [End-to-End Encryption for AI](https://learn.microsoft.com/azure/architecture/example-scenario/confidential/end-to-end-encryption) - أنماط التشفير المتقدمة

### موارد الأمان المتقدمة
- [Microsoft Security Development Lifecycle](https://www.microsoft.com/sdl) - ممارسات التطوير الآمن
- [AI Red Team Guidance](https://learn.microsoft.com/security/ai-red-team/) - اختبارات أمان خاصة بالذكاء الاصطناعي
- [Threat Modeling for AI Systems](https://learn.microsoft.com/security/adoption/approach/threats-ai) - منهجية نمذجة التهديدات للذكاء الاصطناعي
- [Privacy Engineering for AI](https://www.microsoft.com/security/blog/2021/07/13/microsofts-pet-project-privacy-enhancing-technologies-in-action/) - تقنيات الذكاء الاصطناعي التي تحافظ على الخصوصية

### الامتثال والحوكمة
- [GDPR Compliance for AI](https://learn.microsoft.com/compliance/regulatory/gdpr-data-protection-impact-assessments) - الامتثال للخصوصية في أنظمة الذكاء الاصطناعي
- [AI Governance Framework](https://learn.microsoft.com/azure/architecture/guide/responsible-ai/responsible-ai-overview) - تنفيذ الذكاء الاصطناعي المسؤول
- [SOC 2 for AI Services](https://learn.microsoft.com/compliance/regulatory/offering-soc) - ضوابط الأمان لمزودي خدمات الذكاء الاصطناعي
- [HIPAA Compliance for AI](https://learn.microsoft.com/compliance/regulatory/offering-hipaa-hitech) - متطلبات الامتثال للذكاء الاصطناعي في الرعاية الصحية

### DevSecOps والأتمتة
- [DevSecOps Pipeline for AI](https://learn.microsoft.com/azure/devops/migrate/security-validation-cicd-pipeline) - خطوط تطوير آمنة للذكاء الاصطناعي
- [Automated Security Testing](https://learn.microsoft.com/security/engineering/devsecops) - التحقق الأمني المستمر
- [Infrastructure as Code Security](https://learn.microsoft.com/security/engineering/infrastructure-security) - نشر البنية التحتية الآمنة
- [Container Security for AI](https://learn.microsoft.com/azure/container-instances/container-instances-image-security) - أمان حاويات أعباء عمل الذكاء الاصطناعي

### المراقبة والاستجابة للحوادث
- [Azure Monitor for AI Workloads](https://learn.microsoft.com/azure/azure-monitor/overview) - حلول مراقبة شاملة
- [AI Security Incident Response](https://learn.microsoft.com/security/compass/incident-response-playbooks) - إجراءات حوادث خاصة بالذكاء الاصطناعي
- [SIEM for AI Systems](https://learn.microsoft.com/azure/sentinel/overview) - إدارة معلومات الأمان والأحداث
- [Threat Intelligence for AI](https://learn.microsoft.com/security/compass/security-operations-videos-and-decks#threat-intelligence) - مصادر استخبارات التهديدات للذكاء الاصطناعي

## 🔄 التحسين المستمر

### مواكبة المعايير المتطورة
- **تحديثات مواصفات MCP**: تابع تغييرات مواصفات MCP الرسمية وإشعارات الأمان.
- **استخبارات التهديدات**: اشترك في تغذيات تهديدات أمان الذكاء الاصطناعي وقواعد بيانات الثغرات.
- **المشاركة المجتمعية**: شارك في مناقشات مجتمع أمان MCP ومجموعات العمل.
- **التقييم المنتظم**: قم بإجراء تقييمات ربع سنوية للوضع الأمني وقم بتحديث الممارسات وفقًا لذلك.

### المساهمة في أمان MCP
- **البحث الأمني**: ساهم في أبحاث أمان MCP وبرامج الكشف عن الثغرات.
- **مشاركة أفضل الممارسات**: شارك تطبيقات الأمان والدروس المستفادة مع المجتمع.
- **تطوير المعايير**: شارك في تطوير مواصفات MCP وإنشاء معايير الأمان.
- **تطوير الأدوات**: تطوير ومشاركة أدوات ومكتبات الأمان لنظام MCP

---

*يعكس هذا المستند أفضل ممارسات الأمان لنظام MCP اعتبارًا من 18 أغسطس 2025، بناءً على مواصفات MCP بتاريخ 18-06-2025. يجب مراجعة وتحديث ممارسات الأمان بانتظام مع تطور البروتوكول ومشهد التهديدات.*

**إخلاء المسؤولية**:  
تمت ترجمة هذا المستند باستخدام خدمة الترجمة الآلية [Co-op Translator](https://github.com/Azure/co-op-translator). بينما نسعى لتحقيق الدقة، يرجى العلم أن الترجمات الآلية قد تحتوي على أخطاء أو عدم دقة. يجب اعتبار المستند الأصلي بلغته الأصلية المصدر الموثوق. للحصول على معلومات حساسة أو هامة، يُوصى بالاستعانة بترجمة بشرية احترافية. نحن غير مسؤولين عن أي سوء فهم أو تفسيرات خاطئة تنشأ عن استخدام هذه الترجمة.