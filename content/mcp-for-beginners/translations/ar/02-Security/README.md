<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "1c767a35642f753127dc08545c25a290",
  "translation_date": "2025-08-18T13:40:49+00:00",
  "source_file": "02-Security/README.md",
  "language_code": "ar"
}
-->
# أمان MCP: حماية شاملة لأنظمة الذكاء الاصطناعي

[![أفضل ممارسات أمان MCP](../../../translated_images/03.175aed6dedae133f9d41e49cefd0f0a9a39c3317e1eaa7ef7182696af7534308.ar.png)](https://youtu.be/88No8pw706o)

_(انقر على الصورة أعلاه لمشاهدة فيديو هذا الدرس)_

الأمان هو عنصر أساسي في تصميم أنظمة الذكاء الاصطناعي، ولهذا السبب نوليه الأولوية في القسم الثاني. يتماشى هذا مع مبدأ **الأمان في التصميم** من مبادرة [المستقبل الآمن](https://www.microsoft.com/security/blog/2025/04/17/microsofts-secure-by-design-journey-one-year-of-success/) من مايكروسوفت.

يجلب بروتوكول سياق النموذج (MCP) قدرات جديدة قوية للتطبيقات المدعومة بالذكاء الاصطناعي، ولكنه يقدم أيضًا تحديات أمان فريدة تتجاوز المخاطر التقليدية للبرمجيات. تواجه أنظمة MCP مخاوف أمان معروفة (مثل البرمجة الآمنة، أقل الامتيازات، أمان سلسلة التوريد) بالإضافة إلى تهديدات جديدة خاصة بالذكاء الاصطناعي مثل حقن التعليمات، تسميم الأدوات، اختطاف الجلسات، هجمات الوكيل المربك، ثغرات تمرير الرموز، وتعديل القدرات الديناميكي.

يستكشف هذا الدرس أخطر المخاطر الأمنية في تنفيذات MCP—بما في ذلك المصادقة، التفويض، الأذونات الزائدة، حقن التعليمات غير المباشر، أمان الجلسات، مشاكل الوكيل المربك، إدارة الرموز، وثغرات سلسلة التوريد. ستتعلم تدابير قابلة للتنفيذ وأفضل الممارسات للتخفيف من هذه المخاطر مع الاستفادة من حلول مايكروسوفت مثل Prompt Shields، Azure Content Safety، وGitHub Advanced Security لتعزيز نشر MCP الخاص بك.

## أهداف التعلم

بنهاية هذا الدرس، ستكون قادرًا على:

- **تحديد التهديدات الخاصة بـ MCP**: التعرف على المخاطر الأمنية الفريدة في أنظمة MCP بما في ذلك حقن التعليمات، تسميم الأدوات، الأذونات الزائدة، اختطاف الجلسات، مشاكل الوكيل المربك، ثغرات تمرير الرموز، ومخاطر سلسلة التوريد
- **تطبيق تدابير الأمان**: تنفيذ تدابير تخفيف فعالة بما في ذلك المصادقة القوية، الوصول بأقل الامتيازات، إدارة الرموز الآمنة، تدابير أمان الجلسات، والتحقق من سلسلة التوريد
- **الاستفادة من حلول أمان مايكروسوفت**: فهم ونشر Microsoft Prompt Shields، Azure Content Safety، وGitHub Advanced Security لحماية أعباء عمل MCP
- **التحقق من أمان الأدوات**: التعرف على أهمية التحقق من بيانات تعريف الأدوات، مراقبة التغييرات الديناميكية، والدفاع ضد هجمات حقن التعليمات غير المباشر
- **دمج أفضل الممارسات**: الجمع بين أساسيات الأمان المعروفة (البرمجة الآمنة، تقوية الخوادم، الثقة الصفرية) مع تدابير خاصة بـ MCP لتحقيق حماية شاملة

# بنية أمان MCP وتدابيره

تتطلب تنفيذات MCP الحديثة نهجًا أمنيًا متعدد الطبقات يعالج كلًا من أمان البرمجيات التقليدي والتهديدات الخاصة بالذكاء الاصطناعي. يستمر تطور مواصفات MCP بسرعة في تحسين تدابير الأمان، مما يتيح تكاملًا أفضل مع بنى الأمان المؤسسية وأفضل الممارسات المعروفة.

تُظهر الأبحاث من [تقرير الدفاع الرقمي لمايكروسوفت](https://aka.ms/mddr) أن **98% من الاختراقات المبلغ عنها يمكن منعها من خلال ممارسات أمان قوية**. تجمع استراتيجية الحماية الأكثر فعالية بين ممارسات الأمان الأساسية وتدابير خاصة بـ MCP—حيث تظل تدابير الأمان الأساسية المثبتة الأكثر تأثيرًا في تقليل المخاطر الأمنية العامة.

## المشهد الأمني الحالي

> **ملاحظة:** تعكس هذه المعلومات معايير أمان MCP اعتبارًا من **18 أغسطس 2025**. يستمر بروتوكول MCP في التطور بسرعة، وقد تقدم التنفيذات المستقبلية أنماط مصادقة جديدة وتدابير محسنة. يُرجى دائمًا الرجوع إلى [مواصفات MCP الحالية](https://spec.modelcontextprotocol.io/)، [مستودع GitHub الخاص بـ MCP](https://github.com/modelcontextprotocol)، و[وثائق أفضل الممارسات الأمنية](https://modelcontextprotocol.io/specification/2025-06-18/basic/security_best_practices) للحصول على أحدث الإرشادات.

### تطور مصادقة MCP

شهدت مواصفات MCP تطورًا كبيرًا في نهجها للمصادقة والتفويض:

- **النهج الأصلي**: تطلبت المواصفات المبكرة من المطورين تنفيذ خوادم مصادقة مخصصة، حيث تعمل خوادم MCP كخوادم تفويض OAuth 2.0 تدير المصادقة للمستخدمين مباشرة
- **المعيار الحالي (2025-06-18)**: تسمح المواصفات المحدثة لخوادم MCP بتفويض المصادقة لمزودي الهوية الخارجيين (مثل Microsoft Entra ID)، مما يحسن الوضع الأمني ويقلل من تعقيد التنفيذ
- **أمان طبقة النقل**: دعم محسّن لآليات النقل الآمن مع أنماط مصادقة مناسبة لكل من الاتصالات المحلية (STDIO) والبعيدة (Streamable HTTP)

## أمان المصادقة والتفويض

### التحديات الأمنية الحالية

تواجه تنفيذات MCP الحديثة العديد من التحديات المتعلقة بالمصادقة والتفويض:

### المخاطر ونواقل التهديد

- **منطق التفويض المُعد بشكل خاطئ**: يمكن أن يؤدي تنفيذ التفويض بشكل غير صحيح في خوادم MCP إلى كشف بيانات حساسة وتطبيق ضوابط وصول غير صحيحة
- **اختراق رموز OAuth**: يمكن أن يؤدي سرقة الرموز المحلية لخوادم MCP إلى تمكين المهاجمين من انتحال شخصية الخوادم والوصول إلى الخدمات التابعة
- **ثغرات تمرير الرموز**: يؤدي التعامل غير السليم مع الرموز إلى تجاوز ضوابط الأمان وخلق فجوات في المساءلة
- **الأذونات الزائدة**: تؤدي خوادم MCP ذات الامتيازات الزائدة إلى انتهاك مبدأ أقل الامتيازات وتوسيع سطح الهجوم

#### تمرير الرموز: نمط مضاد حرج

**تمرير الرموز محظور بشكل صريح** في مواصفات التفويض الحالية لـ MCP بسبب تداعياته الأمنية الخطيرة:

##### تجاوز ضوابط الأمان
- تعتمد خوادم MCP وواجهات برمجة التطبيقات التابعة على ضوابط أمان حاسمة (مثل تحديد المعدل، التحقق من الطلبات، مراقبة الحركة) تعتمد على التحقق الصحيح من الرموز
- يؤدي الاستخدام المباشر للرموز من العميل إلى واجهة برمجة التطبيقات إلى تجاوز هذه الحمايات الأساسية، مما يقوض بنية الأمان

##### تحديات المساءلة والتدقيق  
- لا تستطيع خوادم MCP التمييز بين العملاء الذين يستخدمون الرموز الصادرة من أعلى، مما يؤدي إلى كسر سجلات التدقيق
- تُظهر سجلات خوادم الموارد التابعة أصول طلبات مضللة بدلاً من الوسطاء الفعليين لخوادم MCP
- تصبح التحقيقات في الحوادث والتدقيق في الامتثال أكثر صعوبة بشكل كبير

##### مخاطر استخراج البيانات
- تمكّن الادعاءات غير المُتحقق منها في الرموز الجهات الخبيثة التي تمتلك رموزًا مسروقة من استخدام خوادم MCP كوسطاء لاستخراج البيانات
- تؤدي انتهاكات حدود الثقة إلى أنماط وصول غير مصرح بها تتجاوز ضوابط الأمان المقصودة

##### نواقل الهجوم متعددة الخدمات
- تمكّن الرموز المخترقة المقبولة من قبل خدمات متعددة من التحرك الجانبي عبر الأنظمة المتصلة
- قد يتم انتهاك افتراضات الثقة بين الخدمات عندما لا يمكن التحقق من أصول الرموز

### تدابير الأمان والتخفيف

**متطلبات الأمان الحاسمة:**

> **إلزامي**: يجب على خوادم MCP **عدم قبول** أي رموز لم تُصدر صراحةً لخادم MCP

#### تدابير المصادقة والتفويض

- **مراجعة شاملة للتفويض**: إجراء عمليات تدقيق شاملة لمنطق التفويض في خوادم MCP لضمان وصول المستخدمين والعملاء المقصودين فقط إلى الموارد الحساسة
  - **دليل التنفيذ**: [إدارة واجهات برمجة التطبيقات في Azure كبوابة مصادقة لخوادم MCP](https://techcommunity.microsoft.com/blog/integrationsonazureblog/azure-api-management-your-auth-gateway-for-mcp-servers/4402690)
  - **تكامل الهوية**: [استخدام Microsoft Entra ID لمصادقة خوادم MCP](https://den.dev/blog/mcp-server-auth-entra-id-session/)

- **إدارة الرموز الآمنة**: تنفيذ [أفضل الممارسات لمايكروسوفت للتحقق من الرموز ودورة حياتها](https://learn.microsoft.com/en-us/entra/identity-platform/access-tokens)
  - التحقق من أن ادعاءات الجمهور في الرموز تتطابق مع هوية خادم MCP
  - تنفيذ سياسات تدوير الرموز وانتهاء صلاحيتها بشكل صحيح
  - منع هجمات إعادة استخدام الرموز والاستخدام غير المصرح به

- **تخزين الرموز المحمي**: تأمين تخزين الرموز باستخدام التشفير أثناء الراحة وأثناء النقل
  - **أفضل الممارسات**: [إرشادات تخزين الرموز الآمن والتشفير](https://youtu.be/uRdX37EcCwg?si=6fSChs1G4glwXRy2)

#### تنفيذ ضوابط الوصول

- **مبدأ أقل الامتيازات**: منح خوادم MCP الحد الأدنى من الأذونات المطلوبة للوظائف المقصودة
  - مراجعات الأذونات الدورية والتحديثات لمنع تراكم الامتيازات
  - **وثائق مايكروسوفت**: [الوصول الآمن بأقل الامتيازات](https://learn.microsoft.com/entra/identity-platform/secure-least-privileged-access)

- **التحكم في الوصول القائم على الأدوار (RBAC)**: تنفيذ تعيينات أدوار دقيقة
  - تحديد نطاق الأدوار بشكل دقيق للموارد والإجراءات المحددة
  - تجنب الأذونات الواسعة أو غير الضرورية التي توسع سطح الهجوم

- **مراقبة الأذونات المستمرة**: تنفيذ عمليات تدقيق ومراقبة مستمرة للوصول
  - مراقبة أنماط استخدام الأذونات للكشف عن الشذوذ
  - معالجة الامتيازات الزائدة أو غير المستخدمة على الفور

## تهديدات الأمان الخاصة بالذكاء الاصطناعي

### هجمات حقن التعليمات والتلاعب بالأدوات

تواجه تنفيذات MCP الحديثة نواقل هجوم متقدمة خاصة بالذكاء الاصطناعي لا يمكن للتدابير الأمنية التقليدية معالجتها بالكامل:

#### **حقن التعليمات غير المباشر (حقن التعليمات عبر النطاقات)**

يمثل **حقن التعليمات غير المباشر** واحدة من أخطر الثغرات في أنظمة الذكاء الاصطناعي المدعومة بـ MCP. يقوم المهاجمون بإدخال تعليمات خبيثة داخل محتوى خارجي—مثل المستندات، صفحات الويب، رسائل البريد الإلكتروني، أو مصادر البيانات—والتي تعالجها أنظمة الذكاء الاصطناعي لاحقًا كأوامر شرعية.

**سيناريوهات الهجوم:**
- **حقن قائم على المستندات**: تعليمات خبيثة مخفية في المستندات المعالجة تؤدي إلى إجراءات غير مقصودة من الذكاء الاصطناعي
- **استغلال محتوى الويب**: صفحات ويب مخترقة تحتوي على تعليمات مدمجة تManipulate AI behavior when scraped
- **توليد جلسات آمنة**: استخدم معرفات جلسات غير حتمية وآمنة من الناحية التشفيرية يتم إنشاؤها باستخدام مولدات أرقام عشوائية آمنة  
- **ربط مخصص للمستخدم**: اربط معرفات الجلسات بمعلومات مخصصة للمستخدم باستخدام تنسيقات مثل `<user_id>:<session_id>` لمنع إساءة استخدام الجلسات بين المستخدمين  
- **إدارة دورة حياة الجلسة**: قم بتنفيذ انتهاء صلاحية، تدوير، وإبطال مناسب للحد من نوافذ الثغرات  
- **أمان النقل**: HTTPS إلزامي لجميع الاتصالات لمنع اعتراض معرفات الجلسات  

### مشكلة النائب المرتبك  

تحدث **مشكلة النائب المرتبك** عندما تعمل خوادم MCP كوسطاء مصادقة بين العملاء والخدمات الخارجية، مما يخلق فرصًا لتجاوز التفويض من خلال استغلال معرفات العملاء الثابتة.  

#### **آليات الهجوم والمخاطر**  

- **تجاوز الموافقة باستخدام ملفات تعريف الارتباط**: المصادقة السابقة للمستخدم تنشئ ملفات تعريف ارتباط للموافقة يستغلها المهاجمون من خلال طلبات تفويض خبيثة مع عناوين URI معاد توجيهها  
- **سرقة رموز التفويض**: ملفات تعريف الارتباط الحالية قد تؤدي إلى تخطي شاشات الموافقة من قبل خوادم التفويض، مما يعيد توجيه الرموز إلى نقاط نهاية يتحكم بها المهاجم  
- **الوصول غير المصرح به إلى واجهات برمجة التطبيقات**: الرموز المسروقة تمكن من تبادل الرموز وانتحال هوية المستخدم دون موافقة صريحة  

#### **استراتيجيات التخفيف**  

**ضوابط إلزامية:**  
- **متطلبات الموافقة الصريحة**: يجب على خوادم MCP التي تستخدم معرفات العملاء الثابتة الحصول على موافقة المستخدم لكل عميل مسجل ديناميكيًا  
- **تنفيذ أمان OAuth 2.1**: اتبع أفضل الممارسات الأمنية الحالية لـ OAuth بما في ذلك PKCE (إثبات المفتاح لتبادل الرموز) لجميع طلبات التفويض  
- **التحقق الصارم من العملاء**: قم بتنفيذ تحقق صارم لعناوين URI المعاد توجيهها ومعرفات العملاء لمنع الاستغلال  

### ثغرات تمرير الرموز  

**تمرير الرموز** يمثل نمطًا مضادًا صريحًا حيث تقبل خوادم MCP رموز العملاء دون تحقق مناسب وتقوم بتمريرها إلى واجهات برمجة التطبيقات التابعة، مما ينتهك مواصفات تفويض MCP.  

#### **الآثار الأمنية**  

- **تجاوز الضوابط**: استخدام الرموز مباشرة بين العميل وواجهة برمجة التطبيقات يتجاوز ضوابط التحديد، التحقق، والمراقبة الحرجة  
- **فساد سجل التدقيق**: الرموز الصادرة من الأعلى تجعل تحديد هوية العميل مستحيلًا، مما يعطل قدرات التحقيق في الحوادث  
- **استخراج البيانات عبر الوكيل**: الرموز غير المحققة تمكن الجهات الخبيثة من استخدام الخوادم كوسطاء للوصول غير المصرح به إلى البيانات  
- **انتهاكات حدود الثقة**: افتراضات الثقة للخدمات التابعة قد تُنتهك عندما لا يمكن التحقق من أصول الرموز  
- **توسع الهجوم متعدد الخدمات**: الرموز المخترقة المقبولة عبر خدمات متعددة تمكن من الحركة الجانبية  

#### **الضوابط الأمنية المطلوبة**  

**متطلبات غير قابلة للتفاوض:**  
- **التحقق من الرموز**: يجب ألا تقبل خوادم MCP الرموز التي لم تصدر صراحة لخادم MCP  
- **التحقق من الجمهور**: تحقق دائمًا من أن ادعاءات جمهور الرموز تتطابق مع هوية خادم MCP  
- **دورة حياة الرموز المناسبة**: قم بتنفيذ رموز وصول قصيرة العمر مع ممارسات تدوير آمنة  

## أمان سلسلة التوريد لأنظمة الذكاء الاصطناعي  

تطور أمان سلسلة التوريد ليشمل النظام البيئي الكامل للذكاء الاصطناعي، متجاوزًا الاعتماد على البرمجيات التقليدية. يجب على تطبيقات MCP الحديثة التحقق بدقة ومراقبة جميع المكونات المتعلقة بالذكاء الاصطناعي، حيث أن كل منها يقدم ثغرات محتملة قد تهدد سلامة النظام.  

### مكونات سلسلة توريد الذكاء الاصطناعي الموسعة  

**اعتماد البرمجيات التقليدية:**  
- المكتبات والإطارات مفتوحة المصدر  
- صور الحاويات وأنظمة الأساس  
- أدوات التطوير وخطوط أنابيب البناء  
- مكونات البنية التحتية والخدمات  

**عناصر سلسلة توريد الذكاء الاصطناعي:**  
- **نماذج الأساس**: نماذج مدربة مسبقًا من مزودين مختلفين تتطلب التحقق من المصدر  
- **خدمات التضمين**: خدمات خارجية للتوجيه الدلالي والبحث  
- **مزودو السياق**: مصادر البيانات، قواعد المعرفة، ومستودعات الوثائق  
- **واجهات برمجة التطبيقات الخارجية**: خدمات الذكاء الاصطناعي الخارجية، خطوط أنابيب التعلم الآلي، ونقاط معالجة البيانات  
- **قطع النماذج**: الأوزان، التكوينات، والنماذج المعدلة  
- **مصادر بيانات التدريب**: مجموعات البيانات المستخدمة لتدريب النماذج وتعديلها  

### استراتيجية شاملة لأمان سلسلة التوريد  

#### **التحقق من المكونات والثقة**  
- **التحقق من المصدر**: تحقق من الأصل، الترخيص، وسلامة جميع مكونات الذكاء الاصطناعي قبل الدمج  
- **تقييم الأمان**: قم بإجراء فحوصات الثغرات ومراجعات الأمان للنماذج، مصادر البيانات، وخدمات الذكاء الاصطناعي  
- **تحليل السمعة**: تقييم سجل الأمان وممارسات مزودي خدمات الذكاء الاصطناعي  
- **التحقق من الامتثال**: تأكد من أن جميع المكونات تفي بمتطلبات الأمان والتنظيم الخاصة بالمؤسسة  

#### **خطوط أنابيب النشر الآمنة**  
- **أمان CI/CD الآلي**: دمج فحص الأمان عبر خطوط أنابيب النشر الآلية  
- **سلامة القطع**: تنفيذ التحقق التشفيري لجميع القطع المنشورة (الكود، النماذج، التكوينات)  
- **النشر المرحلي**: استخدام استراتيجيات النشر التدريجي مع التحقق الأمني في كل مرحلة  
- **مستودعات القطع الموثوقة**: النشر فقط من سجلات ومستودعات القطع الموثوقة والآمنة  

#### **المراقبة المستمرة والاستجابة**  
- **فحص الاعتماد**: مراقبة مستمرة للثغرات لجميع الاعتماد البرمجي ومكونات الذكاء الاصطناعي  
- **مراقبة النماذج**: تقييم مستمر لسلوك النماذج، انحراف الأداء، والشذوذ الأمني  
- **تتبع صحة الخدمات**: مراقبة خدمات الذكاء الاصطناعي الخارجية للتوافر، الحوادث الأمنية، وتغيرات السياسات  
- **دمج معلومات التهديدات**: تضمين تغذيات التهديدات الخاصة بمخاطر الذكاء الاصطناعي والتعلم الآلي  

#### **التحكم في الوصول والامتياز الأدنى**  
- **أذونات على مستوى المكونات**: تقييد الوصول إلى النماذج، البيانات، والخدمات بناءً على الضرورة العملية  
- **إدارة حسابات الخدمة**: تنفيذ حسابات خدمة مخصصة بأقل الأذونات المطلوبة  
- **تجزئة الشبكة**: عزل مكونات الذكاء الاصطناعي وتقييد الوصول الشبكي بين الخدمات  
- **ضوابط بوابة واجهات برمجة التطبيقات**: استخدام بوابات واجهات برمجة التطبيقات المركزية للتحكم ومراقبة الوصول إلى خدمات الذكاء الاصطناعي الخارجية  

#### **الاستجابة للحوادث والتعافي**  
- **إجراءات استجابة سريعة**: عمليات محددة لتصحيح أو استبدال مكونات الذكاء الاصطناعي المخترقة  
- **تدوير بيانات الاعتماد**: أنظمة آلية لتدوير الأسرار، مفاتيح واجهات برمجة التطبيقات، وبيانات اعتماد الخدمة  
- **قدرات التراجع**: القدرة على العودة بسرعة إلى الإصدارات السابقة المعروفة بأنها جيدة من مكونات الذكاء الاصطناعي  
- **استجابة لاختراق سلسلة التوريد**: إجراءات محددة للاستجابة لاختراق خدمات الذكاء الاصطناعي الخارجية  

### أدوات أمان Microsoft والتكامل  

**GitHub Advanced Security** يوفر حماية شاملة لسلسلة التوريد بما في ذلك:  
- **فحص الأسرار**: الكشف التلقائي عن بيانات الاعتماد، مفاتيح واجهات برمجة التطبيقات، والرموز في المستودعات  
- **فحص الاعتماد**: تقييم الثغرات للاعتماد مفتوح المصدر والمكتبات  
- **تحليل CodeQL**: تحليل الكود الثابت للثغرات الأمنية ومشاكل البرمجة  
- **رؤى سلسلة التوريد**: رؤية لحالة الاعتماد الصحية والأمنية  

**تكامل Azure DevOps وAzure Repos:**  
- تكامل فحص الأمان بسلاسة عبر منصات تطوير Microsoft  
- فحوصات أمان تلقائية في خطوط أنابيب Azure لأعباء عمل الذكاء الاصطناعي  
- فرض السياسات لنشر مكونات الذكاء الاصطناعي الآمنة  

**ممارسات Microsoft الداخلية:**  
تطبق Microsoft ممارسات أمان سلسلة التوريد الشاملة عبر جميع المنتجات. تعرف على النهج المثبت في [رحلة تأمين سلسلة توريد البرمجيات في Microsoft](https://devblogs.microsoft.com/engineering-at-microsoft/the-journey-to-secure-the-software-supply-chain-at-microsoft/).  

## أفضل الممارسات الأمنية الأساسية  

تستند تطبيقات MCP إلى وتعزز وضع الأمان الحالي لمؤسستك. تعزيز الممارسات الأمنية الأساسية يعزز بشكل كبير أمان أنظمة الذكاء الاصطناعي وتطبيقات MCP.  

### أساسيات الأمان الأساسية  

#### **ممارسات التطوير الآمن**  
- **الامتثال لـ OWASP**: الحماية ضد [OWASP Top 10](https://owasp.org/www-project-top-ten/) ثغرات تطبيقات الويب  
- **حمايات محددة للذكاء الاصطناعي**: تنفيذ ضوابط لـ [OWASP Top 10 للـ LLMs](https://genai.owasp.org/download/43299/?tmstv=1731900559)  
- **إدارة الأسرار الآمنة**: استخدام خزائن مخصصة للرموز، مفاتيح واجهات برمجة التطبيقات، وبيانات التكوين الحساسة  
- **التشفير من البداية إلى النهاية**: تنفيذ اتصالات آمنة عبر جميع مكونات التطبيق وتدفقات البيانات  
- **التحقق من المدخلات**: التحقق الصارم من جميع مدخلات المستخدم، معلمات واجهات برمجة التطبيقات، ومصادر البيانات  

#### **تقوية البنية التحتية**  
- **المصادقة متعددة العوامل**: MFA إلزامية لجميع الحسابات الإدارية وحسابات الخدمة  
- **إدارة التصحيحات**: تصحيح تلقائي وفي الوقت المناسب لأنظمة التشغيل، الإطارات، والاعتماد  
- **تكامل مزود الهوية**: إدارة الهوية المركزية من خلال مزودي الهوية المؤسسية (Microsoft Entra ID، Active Directory)  
- **تجزئة الشبكة**: العزل المنطقي لمكونات MCP للحد من الحركة الجانبية المحتملة  
- **مبدأ الامتياز الأدنى**: أقل الأذونات المطلوبة لجميع مكونات النظام والحسابات  

#### **المراقبة الأمنية والكشف**  
- **التسجيل الشامل**: تسجيل مفصل لأنشطة تطبيقات الذكاء الاصطناعي، بما في ذلك تفاعلات العميل والخادم MCP  
- **تكامل SIEM**: إدارة معلومات وأحداث الأمان المركزية للكشف عن الشذوذ  
- **تحليلات السلوك**: مراقبة مدعومة بالذكاء الاصطناعي للكشف عن أنماط غير عادية في سلوك النظام والمستخدم  
- **معلومات التهديدات**: دمج تغذيات التهديدات الخارجية ومؤشرات الاختراق (IOCs)  
- **الاستجابة للحوادث**: إجراءات محددة جيدًا للكشف عن الحوادث الأمنية، الاستجابة، والتعافي  

#### **هندسة الثقة الصفرية**  
- **لا تثق أبدًا، تحقق دائمًا**: التحقق المستمر من المستخدمين، الأجهزة، واتصالات الشبكة  
- **التجزئة الدقيقة**: ضوابط الشبكة الدقيقة التي تعزل أعباء العمل والخدمات الفردية  
- **الأمان المرتكز على الهوية**: سياسات الأمان بناءً على الهويات التي تم التحقق منها بدلاً من موقع الشبكة  
- **تقييم المخاطر المستمر**: تقييم ديناميكي لوضع الأمان بناءً على السياق والسلوك الحالي  
- **الوصول المشروط**: ضوابط الوصول التي تتكيف بناءً على عوامل الخطر، الموقع، وثقة الجهاز  

### أنماط التكامل المؤسسي  

#### **تكامل نظام أمان Microsoft**  
- **Microsoft Defender for Cloud**: إدارة شاملة لوضع أمان السحابة  
- **Azure Sentinel**: قدرات SIEM وSOAR الأصلية للسحابة لحماية أعباء عمل الذكاء الاصطناعي  
- **Microsoft Entra ID**: إدارة الهوية والوصول المؤسسية مع سياسات الوصول المشروط  
- **Azure Key Vault**: إدارة الأسرار المركزية مع دعم وحدة أمان الأجهزة (HSM)  
- **Microsoft Purview**: حوكمة البيانات والامتثال لمصادر البيانات وأعباء عمل الذكاء الاصطناعي  

#### **الامتثال والحوكمة**  
- **التوافق التنظيمي**: تأكد من أن تطبيقات MCP تفي بمتطلبات الامتثال الخاصة بالصناعة (GDPR، HIPAA، SOC 2)  
- **تصنيف البيانات**: التصنيف المناسب والتعامل مع البيانات الحساسة التي تتم معالجتها بواسطة أنظمة الذكاء الاصطناعي  
- **سجلات التدقيق**: تسجيل شامل للامتثال التنظيمي والتحقيق الجنائي  
- **ضوابط الخصوصية**: تنفيذ مبادئ الخصوصية حسب التصميم في هندسة أنظمة الذكاء الاصطناعي  
- **إدارة التغيير**: عمليات رسمية لمراجعات الأمان لتعديلات أنظمة الذكاء الاصطناعي  

تخلق هذه الممارسات الأساسية أساسًا أمنيًا قويًا يعزز فعالية ضوابط الأمان الخاصة بـ MCP ويوفر حماية شاملة للتطبيقات المدفوعة بالذكاء الاصطناعي.  

## النقاط الرئيسية للأمان  

- **نهج الأمان متعدد الطبقات**: اجمع بين الممارسات الأمنية الأساسية (البرمجة الآمنة، الامتياز الأدنى، التحقق من سلسلة التوريد، المراقبة المستمرة) مع ضوابط محددة للذكاء الاصطناعي للحصول على حماية شاملة  

- **مشهد التهديدات الخاص بالذكاء الاصطناعي**: تواجه أنظمة MCP مخاطر فريدة تشمل حقن التعليمات، تسميم الأدوات، اختطاف الجلسات، مشاكل النائب المرتبك، ثغرات تمرير الرموز، والأذونات الزائدة التي تتطلب تخفيفات متخصصة  

- **التفوق في المصادقة والتفويض**: قم بتنفيذ مصادقة قوية باستخدام مزودي الهوية الخارجية (Microsoft Entra ID)، فرض التحقق المناسب من الرموز، ولا تقبل الرموز التي لم تصدر صراحة لخادم MCP الخاص بك  

- **منع هجمات الذكاء الاصطناعي**: قم بنشر Microsoft Prompt Shields وAzure Content Safety للدفاع ضد حقن التعليمات غير المباشر وهجمات تسميم الأدوات، مع التحقق من بيانات الأدوات ومراقبة التغيرات الديناميكية  

- **أمان الجلسة والنقل**: استخدم معرفات جلسات غير حتمية وآمنة من الناحية التشفيرية مرتبطة بهويات المستخدمين، قم بتنفيذ إدارة دورة حياة الجلسة المناسبة، ولا تستخدم الجلسات للمصادقة  

- **أفضل ممارسات أمان OAuth**: منع هجمات النائب المرتبك من خلال موافقة المستخدم الصريحة للعملاء المسجلين ديناميكيًا، تنفيذ OAuth 2.1 المناسب مع PKCE، والتحقق الصارم من عناوين URI المعاد توجيهها  

- **مبادئ أمان الرموز**: تجنب أنماط تمرير الرموز، تحقق من ادعاءات جمهور الرموز، قم بتنفيذ رموز قصيرة العمر مع تدوير آمن، وحافظ على حدود ثقة واضحة  

- **أمان سلسلة التوريد الشامل**: تعامل مع جميع مكونات النظام البيئي للذكاء الاصطناعي (النماذج، التضمينات، مزودو السياق، واجهات برمجة التطبيقات الخارجية) بنفس الصرامة الأمنية مثل الاعتماد البرمجي التقليدي  

- **التطور المستمر**: ابقَ على اطلاع بالمواصفات المتطورة لـ MCP، ساهم في معايير مجتمع الأمان، وحافظ على وضع أمني تكيفي مع نضوج البروتوكول  

- **تكامل أمان Microsoft**: استفد من نظام الأمان الشامل لـ Microsoft (Prompt Shields، Azure Content Safety، GitHub Advanced Security، Entra ID) لتعزيز حماية نشر MCP  

## موارد شاملة  

### **وثائق أمان MCP الرسمية**  
- [مواصفات MCP (الحالية: 2025-06-18)](https://spec.modelcontextprotocol.io/specification/2025-06-18/)  
- [أفضل ممارسات أمان MCP](https://modelcontextprotocol.io/specification/2025-06-18/basic/security_best_practices)  
- [مواصفات تفويض MCP](https://modelcontextprotocol.io/specification/2025-06-18/basic/authorization)  
- [مستودع GitHub لـ MCP](https://github.com/modelcontextprotocol)  

### **معايير الأمان وأفضل الممارسات**  
- [أفضل ممارسات أمان OAuth 2.0 (RFC 9700)](https://datatracker.ietf.org/doc/html/rfc9700)  
- [OWASP Top 10 أمان تطبيقات الويب](https://owasp.org/www-project-top-ten/)  
- [OWASP Top 10 للنماذج اللغوية الكبيرة](https://genai
### **حلول أمان Microsoft**
- [وثائق Microsoft Prompt Shields](https://learn.microsoft.com/azure/ai-services/content-safety/concepts/jailbreak-detection)
- [خدمة أمان المحتوى في Azure](https://learn.microsoft.com/azure/ai-services/content-safety/)
- [أمان Microsoft Entra ID](https://learn.microsoft.com/entra/identity-platform/secure-least-privileged-access)
- [أفضل الممارسات لإدارة الرموز المميزة في Azure](https://learn.microsoft.com/entra/identity-platform/access-tokens)
- [أمان GitHub المتقدم](https://github.com/security/advanced-security)

### **أدلة التنفيذ والدروس التعليمية**
- [إدارة واجهات برمجة التطبيقات في Azure كبوابة مصادقة MCP](https://techcommunity.microsoft.com/blog/integrationsonazureblog/azure-api-management-your-auth-gateway-for-mcp-servers/4402690)
- [مصادقة Microsoft Entra ID مع خوادم MCP](https://den.dev/blog/mcp-server-auth-entra-id-session/)
- [تخزين الرموز المميزة بشكل آمن والتشفير (فيديو)](https://youtu.be/uRdX37EcCwg?si=6fSChs1G4glwXRy2)

### **أمان DevOps وسلسلة التوريد**
- [أمان Azure DevOps](https://azure.microsoft.com/products/devops)
- [أمان Azure Repos](https://azure.microsoft.com/products/devops/repos/)
- [رحلة أمان سلسلة التوريد في Microsoft](https://devblogs.microsoft.com/engineering-at-microsoft/the-journey-to-secure-the-software-supply-chain-at-microsoft/)

## **وثائق أمان إضافية**

للحصول على إرشادات أمان شاملة، يُرجى الرجوع إلى هذه الوثائق المتخصصة في هذا القسم:

- **[أفضل ممارسات أمان MCP لعام 2025](./mcp-security-best-practices-2025.md)** - أفضل الممارسات الأمنية الكاملة لتطبيقات MCP  
- **[تنفيذ أمان المحتوى في Azure](./azure-content-safety-implementation.md)** - أمثلة عملية لتكامل أمان المحتوى في Azure  
- **[ضوابط أمان MCP لعام 2025](./mcp-security-controls-2025.md)** - أحدث الضوابط والتقنيات الأمنية لتطبيقات MCP  
- **[مرجع سريع لأفضل ممارسات MCP](./mcp-best-practices.md)** - دليل مرجعي سريع لأهم ممارسات أمان MCP  

---

## الخطوة التالية

التالي: [الفصل 3: البدء](../03-GettingStarted/README.md)

**إخلاء المسؤولية**:  
تمت ترجمة هذا المستند باستخدام خدمة الترجمة الآلية [Co-op Translator](https://github.com/Azure/co-op-translator). بينما نسعى لتحقيق الدقة، يرجى العلم أن الترجمات الآلية قد تحتوي على أخطاء أو معلومات غير دقيقة. يجب اعتبار المستند الأصلي بلغته الأصلية هو المصدر الموثوق. للحصول على معلومات حساسة، يُوصى بالاستعانة بترجمة بشرية احترافية. نحن غير مسؤولين عن أي سوء فهم أو تفسيرات خاطئة ناتجة عن استخدام هذه الترجمة.