<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "4d3415b9d2bf58bc69be07f945a69e07",
  "translation_date": "2025-07-14T05:54:28+00:00",
  "source_file": "09-CaseStudy/travelagentsample.md",
  "language_code": "ru"
}
-->
# Кейс: Azure AI Travel Agents – эталонная реализация

## Обзор

[Azure AI Travel Agents](https://github.com/Azure-Samples/azure-ai-travel-agents) — это комплексное эталонное решение от Microsoft, демонстрирующее, как создать многоагентное приложение для планирования путешествий с использованием Model Context Protocol (MCP), Azure OpenAI и Azure AI Search. Этот проект показывает лучшие практики по координации нескольких AI-агентов, интеграции корпоративных данных и созданию безопасной, расширяемой платформы для реальных сценариев.

## Основные возможности
- **Оркестрация нескольких агентов:** Использует MCP для координации специализированных агентов (например, для авиабилетов, отелей и маршрутов), которые совместно выполняют сложные задачи по планированию путешествий.
- **Интеграция корпоративных данных:** Подключается к Azure AI Search и другим корпоративным источникам данных, чтобы предоставлять актуальную и релевантную информацию для рекомендаций по путешествиям.
- **Безопасная и масштабируемая архитектура:** Использует сервисы Azure для аутентификации, авторизации и масштабируемого развертывания, следуя лучшим практикам корпоративной безопасности.
- **Расширяемые инструменты:** Реализует повторно используемые инструменты MCP и шаблоны подсказок, что позволяет быстро адаптироваться к новым областям или бизнес-требованиям.
- **Пользовательский опыт:** Обеспечивает разговорный интерфейс для взаимодействия пользователей с агентами, основанный на Azure OpenAI и MCP.

## Архитектура
![Architecture](https://raw.githubusercontent.com/Azure-Samples/azure-ai-travel-agents/main/docs/ai-travel-agents-architecture-diagram.png)

### Описание диаграммы архитектуры

Решение Azure AI Travel Agents спроектировано с учетом модульности, масштабируемости и безопасной интеграции нескольких AI-агентов и корпоративных источников данных. Основные компоненты и поток данных выглядят следующим образом:

- **Пользовательский интерфейс:** Пользователи взаимодействуют с системой через разговорный UI (например, веб-чат или бота в Teams), отправляя запросы и получая рекомендации по путешествиям.
- **MCP Server:** Центральный оркестратор, который принимает пользовательский ввод, управляет контекстом и координирует действия специализированных агентов (например, FlightAgent, HotelAgent, ItineraryAgent) через Model Context Protocol.
- **AI-агенты:** Каждый агент отвечает за свою область (авиабилеты, отели, маршруты) и реализован как инструмент MCP. Агенты используют шаблоны подсказок и логику для обработки запросов и генерации ответов.
- **Azure OpenAI Service:** Обеспечивает продвинутую обработку естественного языка, позволяя агентам понимать намерения пользователя и формировать разговорные ответы.
- **Azure AI Search и корпоративные данные:** Агенты обращаются к Azure AI Search и другим корпоративным источникам для получения актуальной информации о рейсах, отелях и вариантах путешествий.
- **Аутентификация и безопасность:** Интегрируется с Microsoft Entra ID для безопасной аутентификации и применяет принципы минимально необходимых прав доступа ко всем ресурсам.
- **Развертывание:** Предназначено для развертывания в Azure Container Apps, обеспечивая масштабируемость, мониторинг и эффективность эксплуатации.

Эта архитектура позволяет без проблем координировать работу нескольких AI-агентов, безопасно интегрировать корпоративные данные и создавать надежную, расширяемую платформу для построения специализированных AI-решений.

## Пошаговое объяснение диаграммы архитектуры
Представьте, что вы планируете большое путешествие и у вас есть команда экспертов, которые помогают с каждым его аспектом. Система Azure AI Travel Agents работает похожим образом, используя разные компоненты (как членов команды), каждый из которых выполняет свою задачу. Вот как это устроено:

### Пользовательский интерфейс (UI):
Это как ресепшн вашего туристического агента. Здесь вы (пользователь) задаёте вопросы или делаете запросы, например: «Найди мне рейс в Париж». Это может быть окно чата на сайте или в мессенджере.

### MCP Server (Координатор):
MCP Server — это менеджер, который принимает ваш запрос на ресепшене и решает, какой специалист должен заняться каждой частью. Он отслеживает ход разговора и следит, чтобы всё шло гладко.

### AI-агенты (Специалисты):
Каждый агент — эксперт в своей области: один знает всё о рейсах, другой — об отелях, третий — о планировании маршрутов. Когда вы делаете запрос, MCP Server направляет его нужному агенту(ам). Агенты используют свои знания и инструменты, чтобы найти для вас лучшие варианты.

### Azure OpenAI Service (Языковой эксперт):
Это как языковой специалист, который точно понимает, что вы хотите, независимо от того, как вы сформулировали запрос. Он помогает агентам понять ваши вопросы и отвечать естественным, разговорным языком.

### Azure AI Search и корпоративные данные (Информационная библиотека):
Представьте огромную, постоянно обновляемую библиотеку с самой свежей информацией о путешествиях — расписаниями рейсов, доступностью отелей и прочим. Агенты ищут в этой библиотеке, чтобы дать вам максимально точные ответы.

### Аутентификация и безопасность (Охранник):
Как охранник, который проверяет, кто может войти в определённые зоны, эта часть гарантирует, что доступ к конфиденциальной информации имеют только авторизованные пользователи и агенты. Это защищает ваши данные и сохраняет их конфиденциальность.

### Развертывание в Azure Container Apps (Здание):
Все эти помощники и инструменты работают вместе внутри безопасного, масштабируемого «здания» (облака). Это значит, что система может обслуживать много пользователей одновременно и всегда быть доступной, когда вы её нуждаетесь.

## Как всё работает вместе:

Вы начинаете с вопроса на ресепшене (UI).  
Менеджер (MCP Server) определяет, какой специалист (агент) вам поможет.  
Специалист использует языкового эксперта (OpenAI), чтобы понять ваш запрос, и библиотеку (AI Search), чтобы найти лучший ответ.  
Охранник (аутентификация) следит за безопасностью.  
Всё это происходит внутри надежного, масштабируемого «здания» (Azure Container Apps), обеспечивая плавный и безопасный опыт.  
Такое взаимодействие позволяет системе быстро и надежно помочь вам спланировать поездку, словно команда опытных туристических агентов работает вместе в современном офисе!

## Техническая реализация
- **MCP Server:** Хостит основную логику оркестрации, предоставляет инструменты агентов и управляет контекстом для многошаговых сценариев планирования путешествий.
- **Агенты:** Каждый агент (например, FlightAgent, HotelAgent) реализован как инструмент MCP со своими шаблонами подсказок и логикой.
- **Интеграция с Azure:** Использует Azure OpenAI для понимания естественного языка и Azure AI Search для получения данных.
- **Безопасность:** Интегрируется с Microsoft Entra ID для аутентификации и применяет принципы минимально необходимых прав доступа ко всем ресурсам.
- **Развертывание:** Поддерживает развертывание в Azure Container Apps для масштабируемости и эффективной эксплуатации.

## Результаты и влияние
- Демонстрирует, как MCP можно использовать для координации нескольких AI-агентов в реальном, промышленном сценарии.
- Ускоряет разработку решений, предоставляя повторно используемые шаблоны для координации агентов, интеграции данных и безопасного развертывания.
- Служит шаблоном для создания специализированных AI-приложений с использованием MCP и сервисов Azure.

## Ссылки
- [Azure AI Travel Agents GitHub Repository](https://github.com/Azure-Samples/azure-ai-travel-agents)
- [Azure OpenAI Service](https://azure.microsoft.com/en-us/products/ai-services/openai-service/)
- [Azure AI Search](https://azure.microsoft.com/en-us/products/ai-services/ai-search/)
- [Model Context Protocol (MCP)](https://modelcontextprotocol.io/)

**Отказ от ответственности**:  
Этот документ был переведен с помощью сервиса автоматического перевода [Co-op Translator](https://github.com/Azure/co-op-translator). Несмотря на наши усилия по обеспечению точности, просим учитывать, что автоматический перевод может содержать ошибки или неточности. Оригинальный документ на его исходном языке следует считать авторитетным источником. Для получения критически важной информации рекомендуется обращаться к профессиональному переводу, выполненному человеком. Мы не несем ответственности за любые недоразумения или неправильные толкования, возникшие в результате использования данного перевода.