<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "706b9b075dc484b73a053e6e9c709b4b",
  "translation_date": "2025-07-13T23:30:01+00:00",
  "source_file": "04-PracticalImplementation/samples/python/README.md",
  "language_code": "ru"
}
-->
# Протокол Контекста Модели (MCP) — реализация на Python

В этом репозитории представлена реализация протокола Model Context Protocol (MCP) на Python, демонстрирующая, как создать серверное и клиентское приложение, которые взаимодействуют по стандарту MCP.

## Обзор

Реализация MCP состоит из двух основных компонентов:

1. **MCP Server (`server.py`)** — сервер, который предоставляет:
   - **Инструменты**: функции, вызываемые удалённо
   - **Ресурсы**: данные, доступные для получения
   - **Подсказки**: шаблоны для генерации подсказок для языковых моделей

2. **MCP Client (`client.py`)** — клиентское приложение, подключающееся к серверу и использующее его возможности

## Возможности

Эта реализация демонстрирует несколько ключевых функций MCP:

### Инструменты
- `completion` — генерация текстовых дополнений с помощью ИИ-моделей (симуляция)
- `add` — простой калькулятор, складывающий два числа

### Ресурсы
- `models://` — возвращает информацию о доступных ИИ-моделях
- `greeting://{name}` — возвращает персонализированное приветствие для указанного имени

### Подсказки
- `review_code` — шаблон подсказки для обзора кода

## Установка

Чтобы использовать эту реализацию MCP, установите необходимые пакеты:

```powershell
pip install mcp-server mcp-client
```

## Запуск сервера и клиента

### Запуск сервера

Запустите сервер в одном окне терминала:

```powershell
python server.py
```

Сервер также можно запустить в режиме разработки с помощью MCP CLI:

```powershell
mcp dev server.py
```

Или установить в Claude Desktop (если доступно):

```powershell
mcp install server.py
```

### Запуск клиента

Запустите клиент в другом окне терминала:

```powershell
python client.py
```

Это подключится к серверу и продемонстрирует все доступные функции.

### Использование клиента

Клиент (`client.py`) демонстрирует все возможности MCP:

```powershell
python client.py
```

Это подключится к серверу и выполнит все функции, включая инструменты, ресурсы и подсказки. В выводе будет показано:

1. Результат работы калькулятора (5 + 7 = 12)
2. Ответ инструмента completion на запрос «What is the meaning of life?»
3. Список доступных ИИ-моделей
4. Персонализированное приветствие для «MCP Explorer»
5. Шаблон подсказки для обзора кода

## Детали реализации

Сервер реализован с использованием API `FastMCP`, который предоставляет высокоуровневые абстракции для определения MCP-сервисов. Вот упрощённый пример определения инструментов:

```python
@mcp.tool()
def add(a: int, b: int) -> int:
    """Add two numbers together
    
    Args:
        a: First number
        b: Second number
    
    Returns:
        The sum of the two numbers
    """
    logger.info(f"Adding {a} and {b}")
    return a + b
```

Клиент использует библиотеку MCP client для подключения и вызова сервера:

```python
async with stdio_client(server_params) as (reader, writer):
    async with ClientSession(reader, writer) as session:
        await session.initialize()
        result = await session.call_tool("add", arguments={"a": 5, "b": 7})
```

## Дополнительная информация

Для получения дополнительной информации о MCP посетите: https://modelcontextprotocol.io/

**Отказ от ответственности**:  
Этот документ был переведен с помощью сервиса автоматического перевода [Co-op Translator](https://github.com/Azure/co-op-translator). Несмотря на наши усилия по обеспечению точности, просим учитывать, что автоматический перевод может содержать ошибки или неточности. Оригинальный документ на исходном языке следует считать авторитетным источником. Для получения критически важной информации рекомендуется обращаться к профессиональному человеческому переводу. Мы не несем ответственности за любые недоразумения или неправильные толкования, возникшие в результате использования данного перевода.