<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "8358c13b5b6877e475674697cdc1a904",
  "translation_date": "2025-08-18T13:25:45+00:00",
  "source_file": "03-GettingStarted/02-client/complete_examples.md",
  "language_code": "ru"
}
-->
# Полные примеры клиентов MCP

Эта директория содержит полные, рабочие примеры клиентов MCP на разных языках программирования. Каждый клиент демонстрирует всю функциональность, описанную в основном руководстве README.md.

## Доступные клиенты

### 1. Клиент на Java (`client_example_java.java`)

- **Транспорт**: SSE (События, отправляемые сервером) через HTTP
- **Целевой сервер**: `http://localhost:8080`
- **Функции**:
  - Установление соединения и проверка связи (ping)
  - Список инструментов
  - Операции калькулятора (сложение, вычитание, умножение, деление, помощь)
  - Обработка ошибок и извлечение результатов

**Для запуска:**

```bash
# Ensure your MCP server is running on localhost:8080
javac client_example_java.java
java client_example_java
```

### 2. Клиент на C# (`client_example_csharp.cs`)

- **Транспорт**: Stdio (Стандартный ввод/вывод)
- **Целевой сервер**: Локальный .NET MCP сервер через dotnet run
- **Функции**:
  - Автоматический запуск сервера через транспорт stdio
  - Список инструментов и ресурсов
  - Операции калькулятора
  - Разбор результатов в формате JSON
  - Полная обработка ошибок

**Для запуска:**

```bash
dotnet run
```

### 3. Клиент на TypeScript (`client_example_typescript.ts`)

- **Транспорт**: Stdio (Стандартный ввод/вывод)
- **Целевой сервер**: Локальный Node.js MCP сервер
- **Функции**:
  - Полная поддержка протокола MCP
  - Операции с инструментами, ресурсами и запросами
  - Операции калькулятора
  - Чтение ресурсов и выполнение запросов
  - Надежная обработка ошибок

**Для запуска:**

```bash
# First compile TypeScript (if needed)
npm run build

# Then run the client
npm run client
# or
node client_example_typescript.js
```

### 4. Клиент на Python (`client_example_python.py`)

- **Транспорт**: Stdio (Стандартный ввод/вывод)  
- **Целевой сервер**: Локальный Python MCP сервер
- **Функции**:
  - Использование async/await для операций
  - Обнаружение инструментов и ресурсов
  - Тестирование операций калькулятора
  - Чтение содержимого ресурсов
  - Организация на основе классов

**Для запуска:**

```bash
python client_example_python.py
```

## Общие функции для всех клиентов

Каждая реализация клиента демонстрирует:

1. **Управление соединением**
   - Установление соединения с MCP сервером
   - Обработка ошибок соединения
   - Корректное завершение работы и управление ресурсами

2. **Обнаружение сервера**
   - Список доступных инструментов
   - Список доступных ресурсов (если поддерживается)
   - Список доступных запросов (если поддерживается)

3. **Вызов инструментов**
   - Базовые операции калькулятора (сложение, вычитание, умножение, деление)
   - Команда помощи для получения информации о сервере
   - Корректная передача аргументов и обработка результатов

4. **Обработка ошибок**
   - Ошибки соединения
   - Ошибки выполнения инструментов
   - Корректное завершение работы и обратная связь для пользователя

5. **Обработка результатов**
   - Извлечение текстового содержимого из ответов
   - Форматирование вывода для удобства чтения
   - Обработка различных форматов ответов

## Предварительные требования

Перед запуском этих клиентов убедитесь, что:

1. **Запущен соответствующий MCP сервер** (из `../01-first-server/`)
2. **Установлены необходимые зависимости** для выбранного языка
3. **Обеспечено корректное сетевое подключение** (для транспорта на основе HTTP)

## Основные различия между реализациями

| Язык       | Транспорт | Запуск сервера | Модель Async | Основные библиотеки |
|------------|-----------|----------------|--------------|---------------------|
| Java       | SSE/HTTP  | Внешний        | Синхронный   | WebFlux, MCP SDK    |
| C#         | Stdio     | Автоматический | Async/Await  | .NET MCP SDK        |
| TypeScript | Stdio     | Автоматический | Async/Await  | Node MCP SDK        |
| Python     | Stdio     | Автоматический | AsyncIO      | Python MCP SDK      |
| Rust       | Stdio     | Автоматический | Async/Await  | Rust MCP SDK, Tokio |

## Следующие шаги

После изучения этих примеров клиентов:

1. **Модифицируйте клиентов**, чтобы добавить новые функции или операции
2. **Создайте свой собственный сервер** и протестируйте его с этими клиентами
3. **Экспериментируйте с разными транспортами** (SSE и Stdio)
4. **Создайте более сложное приложение**, интегрирующее функциональность MCP

## Устранение неполадок

### Распространенные проблемы

1. **Отказ в подключении**: Убедитесь, что MCP сервер запущен на ожидаемом порту/пути
2. **Модуль не найден**: Установите необходимый MCP SDK для вашего языка
3. **Отказ в доступе**: Проверьте права доступа к файлам для транспорта stdio
4. **Инструмент не найден**: Убедитесь, что сервер реализует ожидаемые инструменты

### Советы по отладке

1. **Включите подробное логирование** в вашем MCP SDK
2. **Проверьте логи сервера** на наличие сообщений об ошибках
3. **Убедитесь, что имена и сигнатуры инструментов** совпадают между клиентом и сервером
4. **Сначала протестируйте с MCP Inspector**, чтобы проверить функциональность сервера

## Связанная документация

- [Основное руководство по клиенту](./README.md)
- [Примеры серверов MCP](../../../../03-GettingStarted/01-first-server)
- [MCP с интеграцией LLM](../../../../03-GettingStarted/03-llm-client)
- [Официальная документация MCP](https://modelcontextprotocol.io/)

**Отказ от ответственности**:  
Этот документ был переведен с использованием сервиса автоматического перевода [Co-op Translator](https://github.com/Azure/co-op-translator). Несмотря на наши усилия обеспечить точность, автоматические переводы могут содержать ошибки или неточности. Оригинальный документ на его исходном языке следует считать авторитетным источником. Для получения критически важной информации рекомендуется профессиональный перевод человеком. Мы не несем ответственности за любые недоразумения или неправильные интерпретации, возникшие в результате использования данного перевода.