<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "6e562d7e5a77c8982da4aa8f762ad1d8",
  "translation_date": "2025-07-14T03:21:13+00:00",
  "source_file": "05-AdvancedTopics/mcp-security-entra/README.md",
  "language_code": "uk"
}
-->
# –ó–∞—Ö–∏—Å—Ç AI-—Ä–æ–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤: –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è Entra ID –¥–ª—è —Å–µ—Ä–≤–µ—Ä—ñ–≤ Model Context Protocol

## –í—Å—Ç—É–ø  
–ó–∞—Ö–∏—Å—Ç –≤–∞—à–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ Model Context Protocol (MCP) —Ç–∞–∫ —Å–∞–º–æ –≤–∞–∂–ª–∏–≤–∏–π, —è–∫ —ñ –∑–∞–º–æ–∫ –Ω–∞ –≤—Ö—ñ–¥–Ω–∏—Ö –¥–≤–µ—Ä—è—Ö –≤–∞—à–æ–≥–æ –±—É–¥–∏–Ω–∫—É. –Ø–∫—â–æ –∑–∞–ª–∏—à–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä MCP –≤—ñ–¥–∫—Ä–∏—Ç–∏–º, –≤–∞—à—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —Ç–∞ –¥–∞–Ω—ñ –º–æ–∂—É—Ç—å —Å—Ç–∞—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω–∏–º–∏ –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, —â–æ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –ø–æ—Ä—É—à–µ–Ω—å –±–µ–∑–ø–µ–∫–∏. Microsoft Entra ID –ø—Ä–æ–ø–æ–Ω—É—î –Ω–∞–¥—ñ–π–Ω–µ —Ö–º–∞—Ä–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—î—é —Ç–∞ –¥–æ—Å—Ç—É–ø–æ–º, —è–∫–µ –¥–æ–ø–æ–º–∞–≥–∞—î –≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏, —â–æ –ª–∏—à–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ —Ç–∞ –¥–æ–¥–∞—Ç–∫–∏ –º–æ–∂—É—Ç—å –≤–∑–∞—î–º–æ–¥—ñ—è—Ç–∏ –∑ –≤–∞—à–∏–º —Å–µ—Ä–≤–µ—Ä–æ–º MCP. –£ —Ü—å–æ–º—É —Ä–æ–∑–¥—ñ–ª—ñ –≤–∏ –¥—ñ–∑–Ω–∞—î—Ç–µ—Å—è, —è–∫ –∑–∞—Ö–∏—Å—Ç–∏—Ç–∏ —Å–≤–æ—ó AI-—Ä–æ–±–æ—á—ñ –ø—Ä–æ—Ü–µ—Å–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó Entra ID.

## –¶—ñ–ª—ñ –Ω–∞–≤—á–∞–Ω–Ω—è  
–ü—ñ—Å–ª—è –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è —Ü—å–æ–≥–æ —Ä–æ–∑–¥—ñ–ª—É –≤–∏ –∑–º–æ–∂–µ—Ç–µ:

- –£—Å–≤—ñ–¥–æ–º–∏—Ç–∏ –≤–∞–∂–ª–∏–≤—ñ—Å—Ç—å –∑–∞—Ö–∏—Å—Ç—É —Å–µ—Ä–≤–µ—Ä—ñ–≤ MCP.  
- –ü–æ—è—Å–Ω–∏—Ç–∏ –æ—Å–Ω–æ–≤–∏ Microsoft Entra ID —Ç–∞ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó OAuth 2.0.  
- –†–æ–∑—Ä—ñ–∑–Ω—è—Ç–∏ –ø—É–±–ª—ñ—á–Ω–∏—Ö —ñ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤.  
- –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é Entra ID —É –ª–æ–∫–∞–ª—å–Ω–∏—Ö (–ø—É–±–ª—ñ—á–Ω–∏–π –∫–ª—ñ—î–Ω—Ç) —Ç–∞ –≤—ñ–¥–¥–∞–ª–µ–Ω–∏—Ö (–∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–∏–π –∫–ª—ñ—î–Ω—Ç) —Å—Ü–µ–Ω–∞—Ä—ñ—è—Ö —Ä–æ–±–æ—Ç–∏ MCP —Å–µ—Ä–≤–µ—Ä—ñ–≤.  
- –ó–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏ –Ω–∞–π–∫—Ä–∞—â—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏ –±–µ–∑–ø–µ–∫–∏ –ø—Ä–∏ —Ä–æ–∑—Ä–æ–±—Ü—ñ AI-—Ä–æ–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤.

## –ë–µ–∑–ø–µ–∫–∞ —Ç–∞ MCP  

–Ø–∫ —ñ –Ω–µ –∑–∞–ª–∏—à–∞—Ç–∏ –≤—Ö—ñ–¥–Ω—ñ –¥–≤–µ—Ä—ñ –±—É–¥–∏–Ω–∫—É –Ω–µ–∑–∞–º–∫–Ω–µ–Ω–∏–º–∏, –Ω–µ –≤–∞—Ä—Ç–æ –∑–∞–ª–∏—à–∞—Ç–∏ —Å–µ—Ä–≤–µ—Ä MCP –≤—ñ–¥–∫—Ä–∏—Ç–∏–º –¥–ª—è –±—É–¥—å-–∫–æ–≥–æ. –ó–∞—Ö–∏—Å—Ç AI-—Ä–æ–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤ —î –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–º –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–∞–¥—ñ–π–Ω–∏—Ö, –¥–æ–≤—ñ—Ä–µ–Ω–∏—Ö —ñ –±–µ–∑–ø–µ—á–Ω–∏—Ö –¥–æ–¥–∞—Ç–∫—ñ–≤. –£ —Ü—ñ–π –≥–ª–∞–≤—ñ –≤–∏ –¥—ñ–∑–Ω–∞—î—Ç–µ—Å—è, —è–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Microsoft Entra ID –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É —Å–µ—Ä–≤–µ—Ä—ñ–≤ MCP, —â–æ–± –ª–∏—à–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ —Ç–∞ –¥–æ–¥–∞—Ç–∫–∏ –º–æ–≥–ª–∏ –≤–∑–∞—î–º–æ–¥—ñ—è—Ç–∏ –∑ –≤–∞—à–∏–º–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ —Ç–∞ –¥–∞–Ω–∏–º–∏.

## –ß–æ–º—É –±–µ–∑–ø–µ–∫–∞ –≤–∞–∂–ª–∏–≤–∞ –¥–ª—è —Å–µ—Ä–≤–µ—Ä—ñ–≤ MCP  

–£—è–≤—ñ—Ç—å, —â–æ –≤–∞—à —Å–µ—Ä–≤–µ—Ä MCP –º–∞—î —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —è–∫–∏–π –º–æ–∂–µ –Ω–∞–¥—Å–∏–ª–∞—Ç–∏ –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ñ –ª–∏—Å—Ç–∏ –∞–±–æ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤. –Ø–∫—â–æ —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞—Ö–∏—â–µ–Ω–∏–π, –±—É–¥—å-—Ö—Ç–æ –º–æ–∂–µ —Å–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏—Å—è —Ü–∏–º —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º, —â–æ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ –Ω–µ—Å–∞–Ω–∫—Ü—ñ–æ–Ω–æ–≤–∞–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É –¥–æ –¥–∞–Ω–∏—Ö, —Å–ø–∞–º—É –∞–±–æ —ñ–Ω—à–∏—Ö —à–∫—ñ–¥–ª–∏–≤–∏—Ö –¥—ñ–π.

–í–ø—Ä–æ–≤–∞–¥–∂—É—é—á–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é, –≤–∏ –≥–∞—Ä–∞–Ω—Ç—É—î—Ç–µ, —â–æ –∫–æ–∂–µ–Ω –∑–∞–ø–∏—Ç –¥–æ —Å–µ—Ä–≤–µ—Ä–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è, –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—é—á–∏ –æ—Å–æ–±—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∞–±–æ –¥–æ–¥–∞—Ç–∫–∞, —è–∫–∏–π —Ä–æ–±–∏—Ç—å –∑–∞–ø–∏—Ç. –¶–µ –ø–µ—Ä—à–∏–π —ñ –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–∏–π –∫—Ä–æ–∫ —É –∑–∞—Ö–∏—Å—Ç—ñ –≤–∞—à–∏—Ö AI-—Ä–æ–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤.

## –í—Å—Ç—É–ø –¥–æ Microsoft Entra ID  

[**Microsoft Entra ID**](https://adoption.microsoft.com/microsoft-security/entra/) ‚Äî —Ü–µ —Ö–º–∞—Ä–Ω–∏–π —Å–µ—Ä–≤—ñ—Å —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—î—é —Ç–∞ –¥–æ—Å—Ç—É–ø–æ–º. –£—è–≤—ñ—Ç—å –π–æ–≥–æ —è–∫ —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –æ—Ö–æ—Ä–æ–Ω—Ü—è –±–µ–∑–ø–µ–∫–∏ –¥–ª—è –≤–∞—à–∏—Ö –¥–æ–¥–∞—Ç–∫—ñ–≤. –í—ñ–Ω –æ–±—Ä–æ–±–ª—è—î —Å–∫–ª–∞–¥–Ω–∏–π –ø—Ä–æ—Ü–µ—Å –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –æ—Å–æ–±–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (–∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è) —Ç–∞ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —ó—Ö–Ω—ñ—Ö –ø—Ä–∞–≤ (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è).

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ Entra ID, –≤–∏ –º–æ–∂–µ—Ç–µ:

- –ó–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –±–µ–∑–ø–µ—á–Ω–∏–π –≤—Ö—ñ–¥ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.  
- –ó–∞—Ö–∏—Å—Ç–∏—Ç–∏ API —Ç–∞ —Å–µ—Ä–≤—ñ—Å–∏.  
- –ö–µ—Ä—É–≤–∞—Ç–∏ –ø–æ–ª—ñ—Ç–∏–∫–∞–º–∏ –¥–æ—Å—Ç—É–ø—É –∑ —î–¥–∏–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä—É.

–î–ª—è —Å–µ—Ä–≤–µ—Ä—ñ–≤ MCP Entra ID –ø—Ä–æ–ø–æ–Ω—É—î –Ω–∞–¥—ñ–π–Ω–µ —Ç–∞ —à–∏—Ä–æ–∫–æ –≤–∏–∑–Ω–∞–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—é –¥–æ—Å—Ç—É–ø—É –¥–æ –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π –≤–∞—à–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.

---

## –†–æ–∑—É–º—ñ–Ω–Ω—è –ø—Ä–∏–Ω—Ü–∏–ø—É —Ä–æ–±–æ—Ç–∏: —è–∫ –ø—Ä–∞—Ü—é—î –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è Entra ID  

Entra ID –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –≤—ñ–¥–∫—Ä–∏—Ç—ñ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏, —Ç–∞–∫—ñ —è–∫ **OAuth 2.0**, –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó. –•–æ—á–∞ –¥–µ—Ç–∞–ª—ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ —Å–∫–ª–∞–¥–Ω–∏–º–∏, –æ—Å–Ω–æ–≤–Ω–∞ —ñ–¥–µ—è –ø—Ä–æ—Å—Ç–∞ —ñ –∑—Ä–æ–∑—É–º—ñ–ª–∞ —á–µ—Ä–µ–∑ –∞–Ω–∞–ª–æ–≥—ñ—é.

### –õ–µ–≥–∫–µ –∑–Ω–∞–π–æ–º—Å—Ç–≤–æ –∑ OAuth 2.0: –∫–ª—é—á –¥–ª—è –ø–∞—Ä–∫–æ–≤—â–∏–∫–∞  

–£—è–≤—ñ—Ç—å OAuth 2.0 —è–∫ —Å–µ—Ä–≤—ñ—Å –ø–∞—Ä–∫–æ–≤—â–∏–∫–∞ –¥–ª—è –≤–∞—à–æ–≥–æ –∞–≤—Ç–æ–º–æ–±—ñ–ª—è. –ö–æ–ª–∏ –≤–∏ –ø—Ä–∏—ó–∂–¥–∂–∞—î—Ç–µ –¥–æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—É, –≤–∏ –Ω–µ –¥–∞—î—Ç–µ –ø–∞—Ä–∫–æ–≤—â–∏–∫—É —Å–≤—ñ–π –≥–æ–ª–æ–≤–Ω–∏–π –∫–ª—é—á. –ù–∞—Ç–æ–º—ñ—Å—Ç—å –≤–∏ –ø–µ—Ä–µ–¥–∞—î—Ç–µ **–∫–ª—é—á –ø–∞—Ä–∫–æ–≤—â–∏–∫–∞**, —è–∫–∏–π –º–∞—î –æ–±–º–µ–∂–µ–Ω—ñ –ø—Ä–∞–≤–∞ ‚Äî –≤—ñ–Ω –º–æ–∂–µ –∑–∞–≤–µ—Å—Ç–∏ –º–∞—à–∏–Ω—É —ñ –∑–∞—á–∏–Ω–∏—Ç–∏ –¥–≤–µ—Ä—ñ, –∞–ª–µ –Ω–µ –º–æ–∂–µ –≤—ñ–¥–∫—Ä–∏—Ç–∏ –±–∞–≥–∞–∂–Ω–∏–∫ —á–∏ –±–∞—Ä–¥–∞—á–æ–∫.

–£ —Ü—ñ–π –∞–Ω–∞–ª–æ–≥—ñ—ó:

- **–í–∏** ‚Äî —Ü–µ **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á**.  
- **–í–∞—à –∞–≤—Ç–æ–º–æ–±—ñ–ª—å** ‚Äî —Ü–µ **—Å–µ—Ä–≤–µ—Ä MCP** –∑ —Ü—ñ–Ω–Ω–∏–º–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ —Ç–∞ –¥–∞–Ω–∏–º–∏.  
- **–ü–∞—Ä–∫–æ–≤—â–∏–∫** ‚Äî —Ü–µ **Microsoft Entra ID**.  
- **–ü—Ä–∞—Ü—ñ–≤–Ω–∏–∫ –ø–∞—Ä–∫—É–≤–∞–Ω–Ω—è** ‚Äî —Ü–µ **MCP –∫–ª—ñ—î–Ω—Ç** (–¥–æ–¥–∞—Ç–æ–∫, —â–æ –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ —Å–µ—Ä–≤–µ—Ä–∞).  
- **–ö–ª—é—á –ø–∞—Ä–∫–æ–≤—â–∏–∫–∞** ‚Äî —Ü–µ **Access Token**.

Access token ‚Äî —Ü–µ –∑–∞—Ö–∏—â–µ–Ω–∏–π —Ç–µ–∫—Å—Ç–æ–≤–∏–π —Ä—è–¥–æ–∫, —è–∫–∏–π MCP –∫–ª—ñ—î–Ω—Ç –æ—Ç—Ä–∏–º—É—î –≤—ñ–¥ Entra ID –ø—ñ—Å–ª—è –≤–∞—à–æ–≥–æ –≤—Ö–æ–¥—É. –ö–ª—ñ—î–Ω—Ç –ø–µ—Ä–µ–¥–∞—î —Ü–µ–π —Ç–æ–∫–µ–Ω —Å–µ—Ä–≤–µ—Ä—É MCP –∑ –∫–æ–∂–Ω–∏–º –∑–∞–ø–∏—Ç–æ–º. –°–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Ç–æ–∫–µ–Ω, —â–æ–± —É–ø–µ–≤–Ω–∏—Ç–∏—Å—è, —â–æ –∑–∞–ø–∏—Ç –ª–µ–≥—ñ—Ç–∏–º–Ω–∏–π —ñ –∫–ª—ñ—î–Ω—Ç –º–∞—î –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –ø—Ä–∞–≤–∞, –ø—Ä–∏ —Ü—å–æ–º—É –Ω–µ –æ–±—Ä–æ–±–ª—è—é—á–∏ –≤–∞—à—ñ —Ä–µ–∞–ª—å–Ω—ñ –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø–∞—Ä–æ–ª—å).

### –ü–æ—Ç—ñ–∫ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó  

–û—Å—å —è–∫ —Ü–µ–π –ø—Ä–æ—Ü–µ—Å –ø—Ä–∞—Ü—é—î –Ω–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ:

```mermaid
sequenceDiagram
    actor User as üë§ User
    participant Client as üñ•Ô∏è MCP Client
    participant Entra as üîê Microsoft Entra ID
    participant Server as üîß MCP Server

    Client->>+User: Please sign in to continue.
    User->>+Entra: Enters credentials (username/password).
    Entra-->>Client: Here is your access token.
    User-->>-Client: (Returns to the application)

    Client->>+Server: I need to use a tool. Here is my access token.
    Server->>+Entra: Is this access token valid?
    Entra-->>-Server: Yes, it is.
    Server-->>-Client: Token is valid. Here is the result of the tool.
```

### –ó–Ω–∞–π–æ–º—Å—Ç–≤–æ –∑ Microsoft Authentication Library (MSAL)  

–ü–µ—Ä–µ–¥ —Ç–∏–º, —è–∫ –ø–µ—Ä–µ–π—Ç–∏ –¥–æ –∫–æ–¥—É, –≤–∞–∂–ª–∏–≤–æ –ø–æ–∑–Ω–∞–π–æ–º–∏—Ç–∏—Å—è –∑ –∫–ª—é—á–æ–≤–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º, —è–∫–∏–π –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ —É –ø—Ä–∏–∫–ª–∞–¥–∞—Ö ‚Äî **Microsoft Authentication Library (MSAL)**.

MSAL ‚Äî —Ü–µ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞, —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–∞ Microsoft, —è–∫–∞ –∑–Ω–∞—á–Ω–æ —Å–ø—Ä–æ—â—É—î —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞–º —Ä–æ–±–æ—Ç—É –∑ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—î—é. –ó–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± –ø–∏—Å–∞—Ç–∏ —Å–∫–ª–∞–¥–Ω–∏–π –∫–æ–¥ –¥–ª—è –æ–±—Ä–æ–±–∫–∏ —Ç–æ–∫–µ–Ω—ñ–≤ –±–µ–∑–ø–µ–∫–∏, –∫–µ—Ä—É–≤–∞–Ω–Ω—è –≤—Ö–æ–¥–∞–º–∏ —Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–µ—Å—ñ–π, MSAL –≤–∏–∫–æ–Ω—É—î —Ü—é —Ä–æ–±–æ—Ç—É –∑–∞ –≤–∞—Å.

–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ MSAL –Ω–∞—Å—Ç—ñ–π–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è, –æ—Å–∫—ñ–ª—å–∫–∏:

- **–í–æ–Ω–∞ –±–µ–∑–ø–µ—á–Ω–∞:** —Ä–µ–∞–ª—ñ–∑—É—î —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–æ–≤–∞–Ω—ñ –ø—Ä–æ—Ç–æ–∫–æ–ª–∏ —Ç–∞ –Ω–∞–π–∫—Ä–∞—â—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏ –±–µ–∑–ø–µ–∫–∏, –∑–Ω–∏–∂—É—é—á–∏ —Ä–∏–∑–∏–∫ –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç–µ–π —É –≤–∞—à–æ–º—É –∫–æ–¥—ñ.  
- **–°–ø—Ä–æ—â—É—î —Ä–æ–∑—Ä–æ–±–∫—É:** –ø—Ä–∏—Ö–æ–≤—É—î —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª—ñ–≤ OAuth 2.0 —Ç–∞ OpenID Connect, –¥–æ–∑–≤–æ–ª—è—é—á–∏ –¥–æ–¥–∞—Ç–∏ –Ω–∞–¥—ñ–π–Ω—É –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é –¥–æ –≤–∞—à–æ–≥–æ –¥–æ–¥–∞—Ç–∫–∞ –≤—Å—å–æ–≥–æ –∫—ñ–ª—å–∫–æ–º–∞ —Ä—è–¥–∫–∞–º–∏ –∫–æ–¥—É.  
- **–ü—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è:** Microsoft –∞–∫—Ç–∏–≤–Ω–æ –ø—ñ–¥—Ç—Ä–∏–º—É—î —Ç–∞ –æ–Ω–æ–≤–ª—é—î MSAL, —â–æ–± –≤—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏ –Ω–æ–≤—ñ –∑–∞–≥—Ä–æ–∑–∏ –±–µ–∑–ø–µ—Ü—ñ —Ç–∞ –∑–º—ñ–Ω–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º.

MSAL –ø—ñ–¥—Ç—Ä–∏–º—É—î –±–∞–≥–∞—Ç–æ –º–æ–≤ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è —Ç–∞ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—ñ–≤, –≤–∫–ª—é—á–Ω–æ –∑ .NET, JavaScript/TypeScript, Python, Java, Go, –∞ —Ç–∞–∫–æ–∂ –º–æ–±—ñ–ª—å–Ω—ñ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏ iOS —Ç–∞ Android. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –æ–¥–Ω–∞–∫–æ–≤—ñ –ø–∞—Ç–µ—Ä–Ω–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —É –≤—Å—å–æ–º—É –≤–∞—à–æ–º—É —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–æ–º—É —Å—Ç–µ–∫—É.

–©–æ–± –¥—ñ–∑–Ω–∞—Ç–∏—Å—è –±—ñ–ª—å—à–µ –ø—Ä–æ MSAL, –ø–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –æ—Ñ—ñ—Ü—ñ–π–Ω—É [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é –æ–≥–ª—è–¥—É MSAL](https://learn.microsoft.com/entra/identity-platform/msal-overview).

---

## –ó–∞—Ö–∏—Å—Ç –≤–∞—à–æ–≥–æ MCP —Å–µ—Ä–≤–µ—Ä–∞ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Entra ID: –ø–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è  

–¢–µ–ø–µ—Ä —Ä–æ–∑–≥–ª—è–Ω–µ–º–æ, —è–∫ –∑–∞—Ö–∏—Å—Ç–∏—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–∏–π MCP —Å–µ—Ä–≤–µ—Ä (—è–∫–∏–π —Å–ø—ñ–ª–∫—É—î—Ç—å—Å—è —á–µ—Ä–µ–∑ `stdio`) –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Entra ID. –£ —Ü—å–æ–º—É –ø—Ä–∏–∫–ª–∞–¥—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è **–ø—É–±–ª—ñ—á–Ω–∏–π –∫–ª—ñ—î–Ω—Ç**, —â–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –¥–æ–¥–∞—Ç–∫—ñ–≤, —è–∫—ñ –ø—Ä–∞—Ü—é—é—Ç—å –Ω–∞ –º–∞—à–∏–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –Ω–∞—Å—Ç—ñ–ª—å–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫ –∞–±–æ –ª–æ–∫–∞–ª—å–Ω–∏–π —Å–µ—Ä–≤–µ—Ä —Ä–æ–∑—Ä–æ–±–∫–∏.

### –°—Ü–µ–Ω–∞—Ä—ñ–π 1: –ó–∞—Ö–∏—Å—Ç –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ MCP —Å–µ—Ä–≤–µ—Ä–∞ (–∑ –ø—É–±–ª—ñ—á–Ω–∏–º –∫–ª—ñ—î–Ω—Ç–æ–º)  

–£ —Ü—å–æ–º—É —Å—Ü–µ–Ω–∞—Ä—ñ—ó –º–∏ —Ä–æ–∑–≥–ª—è–Ω–µ–º–æ MCP —Å–µ—Ä–≤–µ—Ä, —è–∫–∏–π –ø—Ä–∞—Ü—é—î –ª–æ–∫–∞–ª—å–Ω–æ, —Å–ø—ñ–ª–∫—É—î—Ç—å—Å—è —á–µ—Ä–µ–∑ `stdio` —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Entra ID –¥–ª—è –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –ø–µ—Ä–µ–¥ –Ω–∞–¥–∞–Ω–Ω—è–º –¥–æ—Å—Ç—É–ø—É –¥–æ —Å–≤–æ—ó—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤. –°–µ—Ä–≤–µ—Ä –º–∞—Ç–∏–º–µ –æ–¥–∏–Ω —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —è–∫–∏–π –æ—Ç—Ä–∏–º—É—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ—Ñ—ñ–ª—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ Microsoft Graph API.

#### 1. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫–∞ –≤ Entra ID  

–ü–µ—Ä–µ–¥ –Ω–∞–ø–∏—Å–∞–Ω–Ω—è–º –∫–æ–¥—É –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏ –≤–∞—à –¥–æ–¥–∞—Ç–æ–∫ —É Microsoft Entra ID. –¶–µ –ø–æ–≤—ñ–¥–æ–º–ª—è—î Entra ID –ø—Ä–æ –≤–∞—à –¥–æ–¥–∞—Ç–æ–∫ —ñ –Ω–∞–¥–∞—î –π–æ–º—É –¥–æ–∑–≤—ñ–ª –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Å–µ—Ä–≤—ñ—Å –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó.

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **[–ø–æ—Ä—Ç–∞–ª—É Microsoft Entra](https://entra.microsoft.com/)**.  
2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ —Ä–æ–∑–¥—ñ–ª **App registrations** —ñ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å **New registration**.  
3. –í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É –¥–æ–¥–∞—Ç–∫–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, "My Local MCP Server").  
4. –î–ª—è **Supported account types** –≤–∏–±–µ—Ä—ñ—Ç—å **Accounts in this organizational directory only**.  
5. –î–ª—è —Ü—å–æ–≥–æ –ø—Ä–∏–∫–ª–∞–¥—É –ø–æ–ª–µ **Redirect URI** –º–æ–∂–Ω–∞ –∑–∞–ª–∏—à–∏—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ–º.  
6. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Register**.

–ü—ñ—Å–ª—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –∑–∞–ø–∏—à—ñ—Ç—å **Application (client) ID** —Ç–∞ **Directory (tenant) ID** ‚Äî –≤–æ–Ω–∏ –∑–Ω–∞–¥–æ–±–ª—è—Ç—å—Å—è —É –∫–æ–¥—ñ.

#### 2. –ö–æ–¥: —Ä–æ–∑–±—ñ—Ä  

–†–æ–∑–≥–ª—è–Ω–µ–º–æ –∫–ª—é—á–æ–≤—ñ —á–∞—Å—Ç–∏–Ω–∏ –∫–æ–¥—É, —è–∫—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å –∑–∞ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é. –ü–æ–≤–Ω–∏–π –∫–æ–¥ –ø—Ä–∏–∫–ª–∞–¥—É –¥–æ—Å—Ç—É–ø–Ω–∏–π —É –ø–∞–ø—Ü—ñ [Entra ID - Local - WAM](https://github.com/Azure-Samples/mcp-auth-servers/tree/main/src/entra-id-local-wam) —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é [mcp-auth-servers GitHub](https://github.com/Azure-Samples/mcp-auth-servers).

**`AuthenticationService.cs`**

–¶–µ–π –∫–ª–∞—Å –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –≤–∑–∞—î–º–æ–¥—ñ—é –∑ Entra ID.

- **`CreateAsync`**: —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î `PublicClientApplication` –∑ MSAL, –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π –∑ `clientId` —Ç–∞ `tenantId` –≤–∞—à–æ–≥–æ –¥–æ–¥–∞—Ç–∫–∞.  
- **`WithBroker`**: –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –±—Ä–æ–∫–µ—Ä (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Windows Web Account Manager), —â–æ –∑–∞–±–µ–∑–ø–µ—á—É—î –±—ñ–ª—å—à –±–µ–∑–ø–µ—á–Ω–∏–π —ñ –∑—Ä—É—á–Ω–∏–π –¥–æ—Å–≤—ñ–¥ —î–¥–∏–Ω–æ–≥–æ –≤—Ö–æ–¥—É.  
- **`AcquireTokenAsync`**: –æ—Å–Ω–æ–≤–Ω–∏–π –º–µ—Ç–æ–¥. –°–ø–æ—á–∞—Ç–∫—É –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ç–æ–∫–µ–Ω –±–µ–∑ –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º (—Ç–∏—Ö–æ). –Ø–∫—â–æ —Ü–µ –Ω–µ –≤–¥–∞—î—Ç—å—Å—è, –∑–∞–ø–∏—Ç—É—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —É–≤—ñ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ.

```csharp
// Simplified for clarity
public static async Task<AuthenticationService> CreateAsync(ILogger<AuthenticationService> logger)
{
    var msalClient = PublicClientApplicationBuilder
        .Create(_clientId) // Your Application (client) ID
        .WithAuthority(AadAuthorityAudience.AzureAdMyOrg)
        .WithTenantId(_tenantId) // Your Directory (tenant) ID
        .WithBroker(new BrokerOptions(BrokerOptions.OperatingSystems.Windows))
        .Build();

    // ... cache registration ...

    return new AuthenticationService(logger, msalClient);
}

public async Task<string> AcquireTokenAsync()
{
    try
    {
        // Try silent authentication first
        var accounts = await _msalClient.GetAccountsAsync();
        var account = accounts.FirstOrDefault();

        AuthenticationResult? result = null;

        if (account != null)
        {
            result = await _msalClient.AcquireTokenSilent(_scopes, account).ExecuteAsync();
        }
        else
        {
            // If no account, or silent fails, go interactive
            result = await _msalClient.AcquireTokenInteractive(_scopes).ExecuteAsync();
        }

        return result.AccessToken;
    }
    catch (Exception ex)
    {
        _logger.LogError(ex, "An error occurred while acquiring the token.");
        throw; // Optionally rethrow the exception for higher-level handling
    }
}
```

**`Program.cs`**

–¢—É—Ç –Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è MCP —Å–µ—Ä–≤–µ—Ä —ñ —ñ–Ω—Ç–µ–≥—Ä—É—î—Ç—å—Å—è —Å–µ—Ä–≤—ñ—Å –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó.

- **`AddSingleton<AuthenticationService>`**: —Ä–µ—î—Å—Ç—Ä—É—î `AuthenticationService` —É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π, —â–æ–± —ñ–Ω—à—ñ —á–∞—Å—Ç–∏–Ω–∏ –¥–æ–¥–∞—Ç–∫–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç) –º–æ–≥–ª–∏ –π–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏.  
- –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç **`GetUserDetailsFromGraph`** –ø–æ—Ç—Ä–µ–±—É—î –µ–∫–∑–µ–º–ø–ª—è—Ä `AuthenticationService`. –ü–µ—Ä–µ–¥ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è–º –≤—ñ–Ω –≤–∏–∫–ª–∏–∫–∞—î `authService.AcquireTokenAsync()`, —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥—ñ–π—Å–Ω–∏–π access token. –Ø–∫—â–æ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —É—Å–ø—ñ—à–Ω–∞, —Ç–æ–∫–µ–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –≤–∏–∫–ª–∏–∫—É Microsoft Graph API —ñ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

```csharp
// Simplified for clarity
[McpServerTool(Name = "GetUserDetailsFromGraph")]
public static async Task<string> GetUserDetailsFromGraph(
    AuthenticationService authService)
{
    try
    {
        // This will trigger the authentication flow
        var accessToken = await authService.AcquireTokenAsync();

        // Use the token to create a GraphServiceClient
        var graphClient = new GraphServiceClient(
            new BaseBearerTokenAuthenticationProvider(new TokenProvider(authService)));

        var user = await graphClient.Me.GetAsync();

        return System.Text.Json.JsonSerializer.Serialize(user);
    }
    catch (Exception ex)
    {
        return $"Error: {ex.Message}";
    }
}
```

#### 3. –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î —Ä–∞–∑–æ–º  

1. –ö–æ–ª–∏ MCP –∫–ª—ñ—î–Ω—Ç –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `GetUserDetailsFromGraph`, —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å–ø–æ—á–∞—Ç–∫—É –≤–∏–∫–ª–∏–∫–∞—î `AcquireTokenAsync`.  
2. `AcquireTokenAsync` –∑–∞–ø—É—Å–∫–∞—î MSAL –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –¥—ñ–π—Å–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞.  
3. –Ø–∫—â–æ —Ç–æ–∫–µ–Ω –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ, MSAL —á–µ—Ä–µ–∑ –±—Ä–æ–∫–µ—Ä –∑–∞–ø—Ä–æ–ø–æ–Ω—É—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É —É–≤—ñ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É Entra ID.  
4. –ü—ñ—Å–ª—è –≤—Ö–æ–¥—É Entra ID –≤–∏–¥–∞—î access token.  
5. –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ—Ç—Ä–∏–º—É—î —Ç–æ–∫–µ–Ω —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –π–æ–≥–æ –¥–ª—è –±–µ–∑–ø–µ—á–Ω–æ–≥–æ –≤–∏–∫–ª–∏–∫—É Microsoft Graph API.  
6. –î–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å—Å—è MCP –∫–ª—ñ—î–Ω—Ç—É.

–¶–µ–π –ø—Ä–æ—Ü–µ—Å –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –ª–∏—à–µ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–æ–≤–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –º–æ–∂—É—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∑–∞—Ö–∏—â–∞—é—á–∏ –≤–∞—à –ª–æ–∫–∞–ª—å–Ω–∏–π MCP —Å–µ—Ä–≤–µ—Ä.

### –°—Ü–µ–Ω–∞—Ä—ñ–π 2: –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥–¥–∞–ª–µ–Ω–æ–≥–æ MCP —Å–µ—Ä–≤–µ—Ä–∞ (–∑ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–∏–º –∫–ª—ñ—î–Ω—Ç–æ–º)  

–Ø–∫—â–æ –≤–∞—à MCP —Å–µ—Ä–≤–µ—Ä –ø—Ä–∞—Ü—é—î –Ω–∞ –≤—ñ–¥–¥–∞–ª–µ–Ω—ñ–π –º–∞—à–∏–Ω—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —É —Ö–º–∞—Ä—ñ) —ñ —Å–ø—ñ–ª–∫—É—î—Ç—å—Å—è —á–µ—Ä–µ–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª HTTP Streaming, –≤–∏–º–æ–≥–∏ –¥–æ –±–µ–∑–ø–µ–∫–∏ –≤—ñ–¥—Ä—ñ–∑–Ω—è—é—Ç—å—Å—è. –£ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É —Å–ª—ñ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **–∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ–≥–æ –∫–ª—ñ—î–Ω—Ç–∞** —Ç–∞ **Authorization Code Flow**. –¶–µ –±—ñ–ª—å—à –±–µ–∑–ø–µ—á–Ω–∏–π –º–µ—Ç–æ–¥, –æ—Å–∫—ñ–ª—å–∫–∏ —Å–µ–∫—Ä–µ—Ç–∏ –¥–æ–¥–∞—Ç–∫–∞ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—å—Å—è –±—Ä–∞—É–∑–µ—Ä—É.

–¶–µ–π –ø—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î MCP —Å–µ—Ä–≤–µ—Ä –Ω–∞ TypeScript, —è–∫–∏–π –æ–±—Ä–æ–±–ª—è—î HTTP-–∑–∞–ø–∏—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Express.js.

#### 1. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫–∞ –≤ Entra ID  

–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ Entra ID —Å—Ö–æ–∂–µ –Ω–∞ –ø—É–±–ª—ñ—á–Ω–æ–≥–æ –∫–ª—ñ—î–Ω—Ç–∞, –∞–ª–µ –∑ –æ–¥–Ω—ñ—î—é –≤–∞–∂–ª–∏–≤–æ—é –≤—ñ–¥–º—ñ–Ω–Ω—ñ—Å—Ç—é ‚Äî –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ **—Å–µ–∫—Ä–µ—Ç –∫–ª—ñ—î–Ω—Ç–∞**.

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **[–ø–æ—Ä—Ç–∞–ª—É Microsoft Entra](https://entra.microsoft.com/)**.  
2. –£ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –≤–∞—à–æ–≥–æ –¥–æ–¥–∞—Ç–∫–∞ –≤—ñ–¥–∫—Ä–∏–π—Ç–µ –≤–∫–ª–∞–¥–∫—É **Certificates & secrets**.  
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **New client secret**, –≤–≤–µ–¥—ñ—Ç—å –æ–ø–∏—Å —ñ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å **Add**.  
4. **–í–∞–∂–ª–∏–≤–æ:** –Ω–µ–≥–∞–π–Ω–æ —Å–∫–æ–ø—ñ—é–π—Ç–µ –∑–Ω–∞—á–µ–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç—É. –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –π–æ–≥–æ –±—ñ–ª—å—à–µ –Ω–µ –±—É–¥–µ –≤–∏–¥–Ω–æ.  
5. –¢–∞–∫–æ–∂ –ø–æ—Ç—Ä—ñ–±–Ω–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ **Redirect URI**. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Authentication**, –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å **Add a platform**, –≤–∏–±–µ—Ä—ñ—Ç—å **Web** —ñ –≤–≤–µ–¥—ñ—Ç—å redirect URI –≤–∞—à–æ–≥–æ –¥–æ–¥–∞—Ç–∫–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `http://localhost:3001/auth/callback`).

> **‚ö†Ô∏è –í–∞–∂–ª–∏–≤–∞ –ø—Ä–∏–º—ñ—Ç–∫–∞ –∑ –±–µ–∑–ø–µ–∫–∏:** –î–ª—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∏—Ö –¥–æ–¥–∞—Ç–∫—ñ–≤ Microsoft –Ω–∞—Å—Ç—ñ–π–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –º–µ—Ç–æ–¥–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –±–µ–∑ —Å–µ–∫—Ä–µ—Ç—ñ–≤, —Ç–∞–∫—ñ —è–∫ **Managed Identity** –∞–±–æ **Workload Identity Federation**, –∑–∞–º—ñ—Å—Ç—å —Å–µ–∫—Ä–µ—Ç—ñ–≤ –∫–ª—ñ—î–Ω—Ç–∞. –°–µ–∫—Ä–µ—Ç–∏ –∫–ª—ñ—î–Ω—Ç–∞ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤–∏–∫—Ä–∏—Ç—ñ –∞–±–æ —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–æ–≤–∞–Ω—ñ, —â–æ —Å—Ç–≤–æ—Ä—é—î —Ä–∏–∑–∏–∫–∏ –±–µ–∑–ø–µ–∫–∏. –ö–µ—Ä–æ–≤–∞–Ω—ñ —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ –∑–∞–±–µ–∑–ø–µ—á—É—é—Ç—å –±—ñ–ª—å—à –±–µ–∑–ø–µ—á–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥, —É—Å—É–≤–∞—é—á–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ—Å—Ç—å –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ —É –∫–æ–¥—ñ –∞–±–æ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó.  
>  
> –î–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –∫–µ—Ä–æ–≤–∞–Ω—ñ —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ —Ç–∞ —ó—Ö –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è –¥–∏–≤—ñ—Ç—å—Å—è [–û–≥–ª—è–¥ –∫–µ—Ä–æ–≤–∞–Ω–∏—Ö —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç–µ–π –¥–ª—è —Ä–µ—Å—É—Ä—Å—ñ–≤ Azure](https://learn.microsoft.com/entra/identity/managed-identities-azure-resources/overview).

#### 2. –ö–æ–¥: —Ä–æ–∑–±—ñ—Ä  

–¶–µ–π –ø—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø—ñ–¥—Ö—ñ–¥ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Å–µ—Å—ñ–π. –ö–æ–ª–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫—É—î—Ç—å—Å—è, —Å–µ—Ä–≤–µ—Ä –∑–±–µ—Ä—ñ–≥–∞—î access token —ñ refresh token —É —Å–µ—Å—ñ—ó —Ç–∞ –≤–∏–¥–∞—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É —Ç–æ–∫–µ–Ω —Å–µ—Å—ñ—ó. –¶–µ–π —Ç–æ–∫–µ–Ω —Å–µ—Å—ñ—ó –ø–æ—Ç—ñ–º –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤. –ü–æ–≤–Ω–∏–π –∫–æ–¥ –ø—Ä–∏–∫–ª–∞–¥—É –¥–æ—Å—Ç—É–ø–Ω–∏–π —É –ø–∞–ø—Ü—ñ [Entra ID - Confidential client](https://github.com/Azure-Samples/mcp-auth-servers/tree/main/src/entra-id-cca-session) —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é [mcp-auth-servers GitHub](https://github.com/Azure-Samples/mcp-auth-servers).

**`Server.ts`**

–¶–µ–π —Ñ–∞–π–ª –Ω–∞–ª–∞—à—Ç–æ–≤—É—î —Å–µ—Ä–≤–µ—Ä Express —ñ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∏–π —à–∞—Ä MCP.

- **`requireBearerAuth`**: —Ü–µ middleware, —è–∫–∏–π –∑–∞—Ö–∏—â–∞—î –∫—ñ–Ω—Ü–µ–≤—ñ —Ç–æ—á–∫–∏ `/sse` —Ç–∞ `/message`. –í—ñ–Ω –ø–µ—Ä–µ–≤—ñ—Ä—è—î –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –¥—ñ–π—Å–Ω–æ–≥–æ bearer —Ç–æ–∫–µ–Ω–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–∫—É `Authorization` –∑–∞–ø–∏—Ç—É.  
- **`EntraIdServerAuthProvider`**: —Ü–µ –∫–∞—Å—Ç–æ–º–Ω–∏–π –∫–ª–∞—Å, —è–∫–∏–π —Ä–µ–∞–ª—ñ–∑—É—î —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å `McpServerAuthorizationProvider`. –í—ñ–Ω –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –æ–±—Ä–æ–±–∫—É OAuth 2.0 –ø–æ—Ç–æ–∫—É.  
- **`/auth/callback`**: —Ü—è –∫—ñ–Ω—Ü–µ–≤–∞ —Ç–æ—á–∫–∞ –æ–±—Ä–æ–±–ª—è—î —Ä–µ–¥–∏—Ä–µ–∫—Ç –≤—ñ–¥ Entra ID –ø—ñ—Å–ª—è –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞. –í–æ–Ω–∞ –æ–±–º—ñ–Ω—é—î –∫–æ–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –Ω–∞ access token —ñ refresh token.

```typescript
// Simplified for clarity
const app = express();
const { server } = createServer();
const provider = new EntraIdServerAuthProvider();

// Protect the SSE endpoint
app.get("/sse", requireBearerAuth({
  provider,
  requiredScopes: ["User.Read"]
}), async (req, res) => {
  // ... connect to the transport ...
});

// Protect the message endpoint
app.post("/message", requireBearerAuth({
  provider,
  requiredScopes: ["User.Read"]
}), async (req, res) => {
  // ... handle the message ...
});

// Handle the OAuth 2.0 callback
app.get("/auth/callback", (req, res) => {
  provider.handleCallback(req.query.code, req.query.state)
    .then(result => {
      // ... handle success or failure ...
    });
});
```

**`Tools.ts`**

–¶–µ–π —Ñ–∞–π–ª –≤–∏–∑–Ω–∞—á–∞—î —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏, —è–∫—ñ –Ω–∞–¥–∞—î MCP —Å–µ—Ä–≤–µ—Ä. –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `getUserDetails` —Å—Ö–æ–∂–∏–π –Ω–∞ —Ç–æ–π, —â–æ –≤ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–º—É –ø—Ä–∏–∫–ª–∞–¥—ñ, –∞–ª–µ –æ—Ç—Ä–∏–º—É—î access token —ñ–∑ —Å–µ—Å—ñ—ó.

```typescript
// Simplified for clarity
server.setRequestHandler(CallToolRequestSchema, async (request) => {
  const { name } = request.params;
  const context = request.params?.context as { token?: string } | undefined;
  const sessionToken = context?.token;

  if (name === ToolName.GET_USER_DETAILS) {
    if (!sessionToken) {
      throw new AuthenticationError("Authentication token is missing or invalid. Ensure the token is provided in the request context.");
    }

    // Get the Entra ID token from the session store
    const tokenData = tokenStore.getToken(sessionToken);
    const entraIdToken = tokenData.accessToken;

    const graphClient = Client.init({
      authProvider: (done) => {
        done(null, entraIdToken);
      }
    });

    const user = await graphClient.api('/me').get();

    // ... return user details ...
  }
});
```

**`auth/EntraIdServerAuthProvider.ts`**

–¶–µ–π –∫–ª–∞—Å –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞:

- –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É –≤—Ö–æ–¥—É Entra ID.  
- –û–±–º—ñ–Ω –∫–æ–¥—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –Ω–∞ access token.  
- –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ç–æ–∫–µ–Ω—ñ–≤ —É `tokenStore`.  
- –û–Ω–æ–≤–ª–µ–Ω–Ω—è access token –ø—ñ—Å–ª—è –π–æ–≥–æ –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è.

#### 3. –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î —Ä–∞–∑–æ–º  

1. –ö–æ–ª–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–ø–µ—Ä—à–µ –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ MCP —Å–µ—Ä–≤–µ—Ä–∞, middleware `requireBearerAuth` –±–∞—á–∏—Ç—å, —â–æ —É –Ω—å–æ–≥–æ –Ω–µ–º–∞—î –¥—ñ–π—Å–Ω–æ—ó —Å–µ—Å—ñ—ó, —ñ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—î –π–æ–≥–æ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É –≤—Ö–æ–¥—É Entra ID.  
2. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤—Ö–æ–¥–∏—Ç—å —É —Å–∏—Å—Ç–µ–º—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å–≤–æ–≥–æ –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É Entra ID.  
3. Entra ID –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –Ω–∞–∑–∞–¥ –Ω–∞ –∫—ñ–Ω—Ü–µ–≤—É —Ç–æ—á–∫—É `/auth/callback` –∑ –∫–æ–¥–æ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó.
4. –°–µ—Ä–≤–µ—Ä –æ–±–º—ñ–Ω—é—î—Ç—å—Å—è –∫–æ–¥–æ–º –Ω–∞ access token —Ç–∞ refresh token, –∑–±–µ—Ä—ñ–≥–∞—î —ó—Ö —ñ —Å—Ç–≤–æ—Ä—é—î session token, —è–∫–∏–π –Ω–∞–¥—Å–∏–ª–∞—î—Ç—å—Å—è –∫–ª—ñ—î–Ω—Ç—É.  
5. –¢–µ–ø–µ—Ä –∫–ª—ñ—î–Ω—Ç –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ü–µ–π session token —É –∑–∞–≥–æ–ª–æ–≤–∫—É `Authorization` –¥–ª—è –≤—Å—ñ—Ö –ø–æ–¥–∞–ª—å—à–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ MCP —Å–µ—Ä–≤–µ—Ä–∞.  
6. –ö–æ–ª–∏ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `getUserDetails`, –≤—ñ–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î session token –¥–ª—è –ø–æ—à—É–∫—É access token Entra ID, –∞ –ø–æ—Ç—ñ–º –∑–∞ –π–æ–≥–æ –¥–æ–ø–æ–º–æ–≥–æ—é –≤–∏–∫–ª–∏–∫–∞—î Microsoft Graph API.

–¶–µ–π –ø—Ä–æ—Ü–µ—Å —Å–∫–ª–∞–¥–Ω—ñ—à–∏–π –∑–∞ –ø–æ—Ç—ñ–∫ –¥–ª—è –ø—É–±–ª—ñ—á–Ω–æ–≥–æ –∫–ª—ñ—î–Ω—Ç–∞, –∞–ª–µ –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–π –¥–ª—è —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç-–¥–æ—Å—Ç—É–ø–Ω–∏—Ö –∫—ñ–Ω—Ü–µ–≤–∏—Ö —Ç–æ—á–æ–∫. –û—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–¥–¥–∞–ª–µ–Ω—ñ MCP —Å–µ—Ä–≤–µ—Ä–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ —á–µ—Ä–µ–∑ –ø—É–±–ª—ñ—á–Ω–∏–π —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç, —ó–º –ø–æ—Ç—Ä—ñ–±–Ω—ñ –±—ñ–ª—å—à —Å—É–≤–æ—Ä—ñ –∑–∞—Ö–æ–¥–∏ –±–µ–∑–ø–µ–∫–∏ –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É –≤—ñ–¥ –Ω–µ—Å–∞–Ω–∫—Ü—ñ–æ–Ω–æ–≤–∞–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É —Ç–∞ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏—Ö –∞—Ç–∞–∫.


## –ù–∞–π–∫—Ä–∞—â—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏ –±–µ–∑–ø–µ–∫–∏

- **–ó–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ HTTPS**: –®–∏—Ñ—Ä—É–π—Ç–µ –∑–≤‚Äô—è–∑–æ–∫ –º—ñ–∂ –∫–ª—ñ—î–Ω—Ç–æ–º —ñ —Å–µ—Ä–≤–µ—Ä–æ–º, —â–æ–± –∑–∞—Ö–∏—Å—Ç–∏—Ç–∏ —Ç–æ–∫–µ–Ω–∏ –≤—ñ–¥ –ø–µ—Ä–µ—Ö–æ–ø–ª–µ–Ω–Ω—è.  
- **–í–ø—Ä–æ–≤–∞–¥–∂—É–π—Ç–µ –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø—É –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ä–æ–ª–µ–π (RBAC)**: –ü–µ—Ä–µ–≤—ñ—Ä—è–π—Ç–µ –Ω–µ –ª–∏—à–µ *—á–∏* –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π, –∞ –π *—â–æ* –π–æ–º—É –¥–æ–∑–≤–æ–ª–µ–Ω–æ —Ä–æ–±–∏—Ç–∏. –í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∑–Ω–∞—á–∞—Ç–∏ —Ä–æ–ª—ñ –≤ Entra ID —ñ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ —ó—Ö –Ω–∞ –≤–∞—à–æ–º—É MCP —Å–µ—Ä–≤–µ—Ä—ñ.  
- **–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –∞—É–¥–∏—Ç**: –õ–æ–≥—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –ø–æ–¥—ñ–π –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –¥–æ–ø–æ–º–æ–∂–µ –≤–∏—è–≤–ª—è—Ç–∏ —Ç–∞ —Ä–µ–∞–≥—É–≤–∞—Ç–∏ –Ω–∞ –ø—ñ–¥–æ–∑—Ä—ñ–ª—É –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å.  
- **–û–±—Ä–æ–±–∫–∞ –æ–±–º–µ–∂–µ–Ω—å —á–∞—Å—Ç–æ—Ç–∏ –∑–∞–ø–∏—Ç—ñ–≤ —ñ —Ç—Ä–æ—Ç–ª—ñ–Ω–≥—É**: Microsoft Graph —Ç–∞ —ñ–Ω—à—ñ API –∑–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å –æ–±–º–µ–∂–µ–Ω–Ω—è —á–∞—Å—Ç–æ—Ç–∏, —â–æ–± –∑–∞–ø–æ–±—ñ–≥—Ç–∏ –∑–ª–æ–≤–∂–∏–≤–∞–Ω–Ω—è–º. –†–µ–∞–ª—ñ–∑—É–π—Ç–µ –µ–∫—Å–ø–æ–Ω–µ–Ω—Ü—ñ–∞–ª—å–Ω–µ –∑–±—ñ–ª—å—à–µ–Ω–Ω—è —ñ–Ω—Ç–µ—Ä–≤–∞–ª—ñ–≤ –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö —Å–ø—Ä–æ–± —ñ –ª–æ–≥—ñ–∫—É –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ —É –≤–∞—à–æ–º—É MCP —Å–µ—Ä–≤–µ—Ä—ñ –¥–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–æ—ó –æ–±—Ä–æ–±–∫–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π HTTP 429 (–ó–∞–±–∞–≥–∞—Ç–æ –∑–∞–ø–∏—Ç—ñ–≤). –†–æ–∑–≥–ª—è–Ω—å—Ç–µ –∫–µ—à—É–≤–∞–Ω–Ω—è —á–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö, —â–æ–± –∑–º–µ–Ω—à–∏—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤–∏–∫–ª–∏–∫—ñ–≤ API.  
- **–ë–µ–∑–ø–µ—á–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω—ñ–≤**: –ó–±–µ—Ä—ñ–≥–∞–π—Ç–µ access token —Ç–∞ refresh token —É –±–µ–∑–ø–µ—á–Ω–æ–º—É –º—ñ—Å—Ü—ñ. –î–ª—è –ª–æ–∫–∞–ª—å–Ω–∏—Ö –¥–æ–¥–∞—Ç–∫—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Å–∏—Å—Ç–µ–º–Ω—ñ –º–µ—Ö–∞–Ω—ñ–∑–º–∏ –±–µ–∑–ø–µ—á–Ω–æ–≥–æ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è. –î–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–∏—Ö –¥–æ–¥–∞—Ç–∫—ñ–≤ —Ä–æ–∑–≥–ª—è–Ω—å—Ç–µ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–æ–≥–æ —Å—Ö–æ–≤–∏—â–∞ –∞–±–æ —Å–µ—Ä–≤—ñ—Å—ñ–≤ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∫–ª—é—á–∞–º–∏, —Ç–∞–∫–∏—Ö —è–∫ Azure Key Vault.  
- **–û–±—Ä–æ–±–∫–∞ —Ç–µ—Ä–º—ñ–Ω—É –¥—ñ—ó —Ç–æ–∫–µ–Ω—ñ–≤**: Access token –º–∞—é—Ç—å –æ–±–º–µ–∂–µ–Ω–∏–π —Ç–µ—Ä–º—ñ–Ω –¥—ñ—ó. –†–µ–∞–ª—ñ–∑—É–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–æ–∫–µ–Ω—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é refresh token, —â–æ–± –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –±–µ–∑–ø–µ—Ä–µ—Ä–≤–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏–π –¥–æ—Å–≤—ñ–¥ –±–µ–∑ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ –ø–æ–≤—Ç–æ—Ä–Ω–æ—ó –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó.  
- **–†–æ–∑–≥–ª—è–Ω—å—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Azure API Management**: –•–æ—á–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –±–µ–∑–ø–µ–∫–∏ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ —É –≤–∞—à–æ–º—É MCP —Å–µ—Ä–≤–µ—Ä—ñ –¥–∞—î –≥–Ω—É—á–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å, API Gateway, —Ç–∞–∫—ñ —è–∫ Azure API Management, –º–æ–∂—É—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏—Ä—ñ—à—É–≤–∞—Ç–∏ –±–∞–≥–∞—Ç–æ –ø–∏—Ç–∞–Ω—å –±–µ–∑–ø–µ–∫–∏, –≤–∫–ª—é—á–Ω–æ –∑ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—î—é, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—î—é, –æ–±–º–µ–∂–µ–Ω–Ω—è–º —á–∞—Å—Ç–æ—Ç–∏ —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥–æ–º. –í–æ–Ω–∏ –∑–∞–±–µ–∑–ø–µ—á—É—é—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π —Ä—ñ–≤–µ–Ω—å –±–µ–∑–ø–µ–∫–∏ –º—ñ–∂ –≤–∞—à–∏–º–∏ –∫–ª—ñ—î–Ω—Ç–∞–º–∏ —Ç–∞ MCP —Å–µ—Ä–≤–µ—Ä–∞–º–∏. –î–µ—Ç–∞–ª—å–Ω—ñ—à–µ –ø—Ä–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è API Gateway –∑ MCP –¥–∏–≤—ñ—Ç—å—Å—è —É –Ω–∞—à—ñ–π —Å—Ç–∞—Ç—Ç—ñ [Azure API Management Your Auth Gateway For MCP Servers](https://techcommunity.microsoft.com/blog/integrationsonazureblog/azure-api-management-your-auth-gateway-for-mcp-servers/4402690).


## –û—Å–Ω–æ–≤–Ω—ñ –≤–∏—Å–Ω–æ–≤–∫–∏

- –ó–∞—Ö–∏—Å—Ç MCP —Å–µ—Ä–≤–µ—Ä–∞ —î –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–∏–º –¥–ª—è –±–µ–∑–ø–µ–∫–∏ –≤–∞—à–∏—Ö –¥–∞–Ω–∏—Ö —ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤.  
- Microsoft Entra ID –ø—Ä–æ–ø–æ–Ω—É—î –Ω–∞–¥—ñ–π–Ω–µ —Ç–∞ –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è –¥–ª—è –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó.  
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ **–ø—É–±–ª—ñ—á–Ω–æ–≥–æ –∫–ª—ñ—î–Ω—Ç–∞** –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–∏—Ö –¥–æ–¥–∞—Ç–∫—ñ–≤ —ñ **–∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ–≥–æ –∫–ª—ñ—î–Ω—Ç–∞** –¥–ª—è –≤—ñ–¥–¥–∞–ª–µ–Ω–∏—Ö —Å–µ—Ä–≤–µ—Ä—ñ–≤.  
- **Authorization Code Flow** ‚Äî –Ω–∞–π–Ω–∞–¥—ñ–π–Ω—ñ—à–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –¥–ª—è –≤–µ–±-–¥–æ–¥–∞—Ç–∫—ñ–≤.


## –í–ø—Ä–∞–≤–∞

1. –ü–æ–¥—É–º–∞–π—Ç–µ –ø—Ä–æ MCP —Å–µ—Ä–≤–µ—Ä, —è–∫–∏–π –≤–∏ –º–æ–≥–ª–∏ –± —Å—Ç–≤–æ—Ä–∏—Ç–∏. –ß–∏ –±—É–¥–µ —Ü–µ –ª–æ–∫–∞–ª—å–Ω–∏–π —Å–µ—Ä–≤–µ—Ä —á–∏ –≤—ñ–¥–¥–∞–ª–µ–Ω–∏–π?  
2. –í–∏—Ö–æ–¥—è—á–∏ –∑ –≤–∞—à–æ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ, —è–∫–∏–π —Ç–∏–ø –∫–ª—ñ—î–Ω—Ç–∞ –≤–∏ –± –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–ª–∏: –ø—É–±–ª—ñ—á–Ω–∏–π —á–∏ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–∏–π?  
3. –Ø–∫—ñ –¥–æ–∑–≤–æ–ª–∏ –≤–∞—à MCP —Å–µ—Ä–≤–µ—Ä –∑–∞–ø–∏—Ç—É–≤–∞—Ç–∏–º–µ –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –¥—ñ–π —É Microsoft Graph?


## –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –≤–ø—Ä–∞–≤–∏

### –í–ø—Ä–∞–≤–∞ 1: –ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ –¥–æ–¥–∞—Ç–æ–∫ –≤ Entra ID  
–ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –ø–æ—Ä—Ç–∞–ª—É Microsoft Entra.  
–ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ –Ω–æ–≤–∏–π –¥–æ–¥–∞—Ç–æ–∫ –¥–ª—è –≤–∞—à–æ–≥–æ MCP —Å–µ—Ä–≤–µ—Ä–∞.  
–ó–∞–ø–∏—à—ñ—Ç—å Application (client) ID —Ç–∞ Directory (tenant) ID.

### –í–ø—Ä–∞–≤–∞ 2: –ó–∞—Ö–∏—Å—Ç—ñ—Ç—å –ª–æ–∫–∞–ª—å–Ω–∏–π MCP —Å–µ—Ä–≤–µ—Ä (–ø—É–±–ª—ñ—á–Ω–∏–π –∫–ª—ñ—î–Ω—Ç)  
- –í–∏–∫–æ–Ω–∞–π—Ç–µ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é MSAL (Microsoft Authentication Library) –¥–ª—è –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑–∞ –ø—Ä–∏–∫–ª–∞–¥–æ–º –∫–æ–¥—É.  
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–æ—Ü–µ—Å –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó, –≤–∏–∫–ª–∏–∫–∞–≤—à–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç MCP, —è–∫–∏–π –æ—Ç—Ä–∏–º—É—î –¥–µ—Ç–∞–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ Microsoft Graph.

### –í–ø—Ä–∞–≤–∞ 3: –ó–∞—Ö–∏—Å—Ç—ñ—Ç—å –≤—ñ–¥–¥–∞–ª–µ–Ω–∏–π MCP —Å–µ—Ä–≤–µ—Ä (–∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–∏–π –∫–ª—ñ—î–Ω—Ç)  
- –ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ–≥–æ –∫–ª—ñ—î–Ω—Ç–∞ –≤ Entra ID —Ç–∞ —Å—Ç–≤–æ—Ä—ñ—Ç—å client secret.  
- –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –≤–∞—à MCP —Å–µ—Ä–≤–µ—Ä –Ω–∞ Express.js –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Authorization Code Flow.  
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∑–∞—Ö–∏—â–µ–Ω—ñ –∫—ñ–Ω—Ü–µ–≤—ñ —Ç–æ—á–∫–∏ —Ç–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å –¥–æ—Å—Ç—É–ø –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ç–æ–∫–µ–Ω—ñ–≤.

### –í–ø—Ä–∞–≤–∞ 4: –ó–∞—Å—Ç–æ—Å—É–π—Ç–µ –Ω–∞–π–∫—Ä–∞—â—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏ –±–µ–∑–ø–µ–∫–∏  
- –£–≤—ñ–º–∫–Ω—ñ—Ç—å HTTPS –¥–ª—è –≤–∞—à–æ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∞–±–æ –≤—ñ–¥–¥–∞–ª–µ–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.  
- –í–ø—Ä–æ–≤–∞–¥—å—Ç–µ –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø—É –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ä–æ–ª–µ–π (RBAC) —É –ª–æ–≥—ñ—Ü—ñ —Å–µ—Ä–≤–µ—Ä–∞.  
- –î–æ–¥–∞–π—Ç–µ –æ–±—Ä–æ–±–∫—É —Ç–µ—Ä–º—ñ–Ω—É –¥—ñ—ó —Ç–æ–∫–µ–Ω—ñ–≤ —Ç–∞ –±–µ–∑–ø–µ—á–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω—ñ–≤.

## –†–µ—Å—É—Ä—Å–∏

1. **–û–≥–ª—è–¥ MSAL**  
   –î—ñ–∑–Ω–∞–π—Ç–µ—Å—è, —è–∫ Microsoft Authentication Library (MSAL) –∑–∞–±–µ–∑–ø–µ—á—É—î –±–µ–∑–ø–µ—á–Ω–µ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω—ñ–≤ –Ω–∞ —Ä—ñ–∑–Ω–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö:  
   [MSAL Overview on Microsoft Learn](https://learn.microsoft.com/en-gb/entra/msal/overview)

2. **–†–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π Azure-Samples/mcp-auth-servers –Ω–∞ GitHub**  
   –ü—Ä–∏–∫–ª–∞–¥–∏ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó MCP —Å–µ—Ä–≤–µ—Ä—ñ–≤ –∑ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—î—é –ø–æ—Ç–æ–∫—ñ–≤ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó:  
   [Azure-Samples/mcp-auth-servers on GitHub](https://github.com/Azure-Samples/mcp-auth-servers)

3. **–û–≥–ª—è–¥ –∫–µ—Ä–æ–≤–∞–Ω–∏—Ö —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç–µ–π –¥–ª—è —Ä–µ—Å—É—Ä—Å—ñ–≤ Azure**  
   –î—ñ–∑–Ω–∞–π—Ç–µ—Å—è, —è–∫ –ø–æ–∑–±—É—Ç–∏—Å—è —Å–µ–∫—Ä–µ—Ç—ñ–≤, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Å–∏—Å—Ç–µ–º–Ω—ñ –∞–±–æ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º –∫–µ—Ä–æ–≤–∞–Ω—ñ —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ:  
   [Managed Identities Overview on Microsoft Learn](https://learn.microsoft.com/en-us/entra/identity/managed-identities-azure-resources/)

4. **Azure API Management: –í–∞—à —à–ª—é–∑ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –¥–ª—è MCP —Å–µ—Ä–≤–µ—Ä—ñ–≤**  
   –î–µ—Ç–∞–ª—å–Ω–∏–π –æ–≥–ª—è–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è APIM —è–∫ –±–µ–∑–ø–µ—á–Ω–æ–≥–æ —à–ª—é–∑—É OAuth2 –¥–ª—è MCP —Å–µ—Ä–≤–µ—Ä—ñ–≤:  
   [Azure API Management Your Auth Gateway For MCP Servers](https://techcommunity.microsoft.com/blog/integrationsonazureblog/azure-api-management-your-auth-gateway-for-mcp-servers/4402690)

5. **–î–æ–≤—ñ–¥–Ω–∏–∫ –¥–æ–∑–≤–æ–ª—ñ–≤ Microsoft Graph**  
   –ü–æ–≤–Ω–∏–π –ø–µ—Ä–µ–ª—ñ–∫ –¥–µ–ª–µ–≥–æ–≤–∞–Ω–∏—Ö —Ç–∞ –ø—Ä–∏–∫–ª–∞–¥–Ω–∏—Ö –¥–æ–∑–≤–æ–ª—ñ–≤ –¥–ª—è Microsoft Graph:  
   [Microsoft Graph Permissions Reference](https://learn.microsoft.com/zh-tw/graph/permissions-reference)


## –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –Ω–∞–≤—á–∞–Ω–Ω—è  
–ü—ñ—Å–ª—è –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è —Ü—å–æ–≥–æ —Ä–æ–∑–¥—ñ–ª—É –≤–∏ –∑–º–æ–∂–µ—Ç–µ:

- –ü–æ—è—Å–Ω–∏—Ç–∏, —á–æ–º—É –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —î –∫—Ä–∏—Ç–∏—á–Ω–æ—é –¥–ª—è MCP —Å–µ—Ä–≤–µ—Ä—ñ–≤ —Ç–∞ AI —Ä–æ–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤.  
- –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —Ç–∞ —Å–∫–æ–Ω—Ñ—ñ–≥—É—Ä—É–≤–∞—Ç–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é Entra ID –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–∏—Ö —ñ –≤—ñ–¥–¥–∞–ª–µ–Ω–∏—Ö MCP —Å–µ—Ä–≤–µ—Ä—ñ–≤.  
- –û–±—Ä–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π —Ç–∏–ø –∫–ª—ñ—î–Ω—Ç–∞ (–ø—É–±–ª—ñ—á–Ω–∏–π –∞–±–æ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–∏–π) –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —Å–µ—Ä–≤–µ—Ä–∞.  
- –í–ø—Ä–æ–≤–∞–¥–∂—É–≤–∞—Ç–∏ –±–µ–∑–ø–µ—á–Ω—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∫–æ–¥—É–≤–∞–Ω–Ω—è, –≤–∫–ª—é—á–Ω–æ –∑—ñ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è–º —Ç–æ–∫–µ–Ω—ñ–≤ —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—î—é –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ä–æ–ª–µ–π.  
- –ù–∞–¥—ñ–π–Ω–æ –∑–∞—Ö–∏—â–∞—Ç–∏ –≤–∞—à MCP —Å–µ—Ä–≤–µ—Ä —Ç–∞ –π–æ–≥–æ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –≤—ñ–¥ –Ω–µ—Å–∞–Ω–∫—Ü—ñ–æ–Ω–æ–≤–∞–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É.

## –©–æ –¥–∞–ª—ñ

- [5.13 –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è Model Context Protocol (MCP) –∑ Azure AI Foundry](../mcp-foundry-agent-integration/README.md)

**–í—ñ–¥–º–æ–≤–∞ –≤—ñ–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ**:  
–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –±—É–ª–æ –ø–µ—Ä–µ–∫–ª–∞–¥–µ–Ω–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å–µ—Ä–≤—ñ—Å—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –ø–µ—Ä–µ–∫–ª–∞–¥—É [Co-op Translator](https://github.com/Azure/co-op-translator). –•–æ—á–∞ –º–∏ –ø—Ä–∞–≥–Ω–µ–º–æ –¥–æ —Ç–æ—á–Ω–æ—Å—Ç—ñ, –±—É–¥—å –ª–∞—Å–∫–∞, –º–∞–π—Ç–µ –Ω–∞ —É–≤–∞–∑—ñ, —â–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –ø–µ—Ä–µ–∫–ª–∞–¥–∏ –º–æ–∂—É—Ç—å –º—ñ—Å—Ç–∏—Ç–∏ –ø–æ–º–∏–ª–∫–∏ –∞–±–æ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç—ñ. –û—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π –¥–æ–∫—É–º–µ–Ω—Ç —Ä—ñ–¥–Ω–æ—é –º–æ–≤–æ—é —Å–ª—ñ–¥ –≤–≤–∞–∂–∞—Ç–∏ –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω–∏–º –¥–∂–µ—Ä–µ–ª–æ–º. –î–ª—è –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –∑–≤–µ—Ä—Ç–∞—Ç–∏—Å—è –¥–æ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ–≥–æ –ª—é–¥—Å—å–∫–æ–≥–æ –ø–µ—Ä–µ–∫–ª–∞–¥—É. –ú–∏ –Ω–µ –Ω–µ—Å–µ–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ –∑–∞ –±—É–¥—å-—è–∫—ñ –Ω–µ–ø–æ—Ä–æ–∑—É–º—ñ–Ω–Ω—è –∞–±–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ —Ç–ª—É–º–∞—á–µ–Ω–Ω—è, —â–æ –≤–∏–Ω–∏–∫–ª–∏ –≤–Ω–∞—Å–ª—ñ–¥–æ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ü—å–æ–≥–æ –ø–µ—Ä–µ–∫–ª–∞–¥—É.