<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "ac2459c0d5cc823922e3d9240a95028c",
  "translation_date": "2025-07-13T19:06:17+00:00",
  "source_file": "03-GettingStarted/03-llm-client/solution/java/README.md",
  "language_code": "fa"
}
-->
# کلاینت ماشین‌حساب LLM

یک برنامه جاوا که نشان می‌دهد چگونه از LangChain4j برای اتصال به سرویس ماشین‌حساب MCP (پروتکل زمینه مدل) با ادغام مدل‌های GitHub استفاده کنیم.

## پیش‌نیازها

- جاوا نسخه ۲۱ یا بالاتر  
- Maven نسخه ۳.۶ به بالا (یا استفاده از Maven wrapper موجود)  
- یک حساب GitHub با دسترسی به مدل‌های GitHub  
- سرویس ماشین‌حساب MCP در حال اجرا روی `http://localhost:8080`  

## دریافت توکن GitHub

این برنامه از مدل‌های GitHub استفاده می‌کند که نیاز به توکن دسترسی شخصی GitHub دارد. مراحل زیر را برای دریافت توکن دنبال کنید:

### ۱. دسترسی به مدل‌های GitHub  
1. به [مدل‌های GitHub](https://github.com/marketplace/models) بروید  
2. با حساب GitHub خود وارد شوید  
3. اگر هنوز دسترسی ندارید، درخواست دسترسی به مدل‌های GitHub را ارسال کنید  

### ۲. ایجاد توکن دسترسی شخصی  
1. به [تنظیمات GitHub → تنظیمات توسعه‌دهنده → توکن‌های دسترسی شخصی → توکن‌ها (کلاسیک)](https://github.com/settings/tokens) بروید  
2. روی "Generate new token" → "Generate new token (classic)" کلیک کنید  
3. برای توکن خود یک نام توصیفی انتخاب کنید (مثلاً "کلاینت ماشین‌حساب MCP")  
4. مدت اعتبار توکن را تنظیم کنید  
5. دسترسی‌های زیر را انتخاب کنید:  
   - `repo` (اگر به مخازن خصوصی دسترسی نیاز دارید)  
   - `user:email`  
6. روی "Generate token" کلیک کنید  
7. **مهم**: توکن را فوراً کپی کنید - بعداً قادر به دیدن آن نخواهید بود!  

### ۳. تنظیم متغیر محیطی

#### در ویندوز (Command Prompt):  
```cmd
set GITHUB_TOKEN=your_github_token_here
```

#### در ویندوز (PowerShell):  
```powershell
$env:GITHUB_TOKEN="your_github_token_here"
```

#### در macOS/Linux:  
```bash
export GITHUB_TOKEN=your_github_token_here
```

## راه‌اندازی و نصب

1. **کلون یا وارد پوشه پروژه شوید**

2. **نصب وابستگی‌ها**:  
   ```cmd
   mvnw clean install
   ```  
   یا اگر Maven به صورت سراسری نصب دارید:  
   ```cmd
   mvn clean install
   ```

3. **تنظیم متغیر محیطی** (بخش "دریافت توکن GitHub" را ببینید)

4. **راه‌اندازی سرویس ماشین‌حساب MCP**:  
   مطمئن شوید سرویس ماشین‌حساب MCP فصل ۱ روی `http://localhost:8080/sse` در حال اجراست. این سرویس باید قبل از اجرای کلاینت فعال باشد.

## اجرای برنامه

```cmd
mvnw clean package
java -jar target\calculator-llm-client-0.0.1-SNAPSHOT.jar
```

## عملکرد برنامه

این برنامه سه تعامل اصلی با سرویس ماشین‌حساب را نشان می‌دهد:

1. **جمع**: محاسبه مجموع ۲۴.۵ و ۱۷.۳  
2. **جذر**: محاسبه جذر ۱۴۴  
3. **راهنما**: نمایش توابع موجود ماشین‌حساب  

## خروجی مورد انتظار

در صورت اجرای موفق، خروجی مشابه زیر را خواهید دید:

```
The sum of 24.5 and 17.3 is 41.8.
The square root of 144 is 12.
The calculator service provides the following functions: add, subtract, multiply, divide, sqrt, power...
```

## رفع اشکال

### مشکلات رایج

1. **"متغیر محیطی GITHUB_TOKEN تنظیم نشده است"**  
   - مطمئن شوید متغیر محیطی `GITHUB_TOKEN` را تنظیم کرده‌اید  
   - پس از تنظیم، ترمینال یا Command Prompt را مجدداً راه‌اندازی کنید  

2. **"اتصال به localhost:8080 رد شد"**  
   - اطمینان حاصل کنید سرویس ماشین‌حساب MCP روی پورت ۸۰۸۰ در حال اجراست  
   - بررسی کنید که سرویس دیگری پورت ۸۰۸۰ را اشغال نکرده باشد  

3. **"احراز هویت ناموفق بود"**  
   - مطمئن شوید توکن GitHub شما معتبر است و دسترسی‌های لازم را دارد  
   - بررسی کنید که به مدل‌های GitHub دسترسی داشته باشید  

4. **خطاهای ساخت Maven**  
   - مطمئن شوید از جاوا نسخه ۲۱ یا بالاتر استفاده می‌کنید: `java -version`  
   - سعی کنید ساخت را پاک کنید: `mvnw clean`  

### اشکال‌زدایی

برای فعال کردن لاگ‌گیری اشکال‌زدایی، هنگام اجرا آرگومان JVM زیر را اضافه کنید:  
```cmd
java -Dlogging.level.dev.langchain4j=DEBUG -jar target\calculator-llm-client-0.0.1-SNAPSHOT.jar
```

## پیکربندی

برنامه به گونه‌ای پیکربندی شده است که:  
- از مدل‌های GitHub با مدل `gpt-4.1-nano` استفاده کند  
- به سرویس MCP در `http://localhost:8080/sse` متصل شود  
- زمان انتظار درخواست‌ها ۶۰ ثانیه باشد  
- لاگ‌گیری درخواست/پاسخ برای اشکال‌زدایی فعال باشد  

## وابستگی‌ها

وابستگی‌های کلیدی استفاده شده در این پروژه:  
- **LangChain4j**: برای ادغام هوش مصنوعی و مدیریت ابزارها  
- **LangChain4j MCP**: برای پشتیبانی از پروتکل زمینه مدل  
- **LangChain4j GitHub Models**: برای ادغام مدل‌های GitHub  
- **Spring Boot**: برای چارچوب برنامه و تزریق وابستگی  

## مجوز

این پروژه تحت مجوز Apache License 2.0 منتشر شده است - برای جزئیات به فایل [LICENSE](../../../../../../03-GettingStarted/03-llm-client/solution/java/LICENSE) مراجعه کنید.

**سلب مسئولیت**:  
این سند با استفاده از سرویس ترجمه هوش مصنوعی [Co-op Translator](https://github.com/Azure/co-op-translator) ترجمه شده است. در حالی که ما در تلاش برای دقت هستیم، لطفاً توجه داشته باشید که ترجمه‌های خودکار ممکن است حاوی خطاها یا نواقصی باشند. سند اصلی به زبان بومی خود باید به عنوان منبع معتبر در نظر گرفته شود. برای اطلاعات حیاتی، ترجمه حرفه‌ای انسانی توصیه می‌شود. ما مسئول هیچ گونه سوءتفاهم یا تفسیر نادرستی که از استفاده از این ترجمه ناشی شود، نیستیم.