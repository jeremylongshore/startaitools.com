<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "2228721599c0c8673de83496b4d7d7a9",
  "translation_date": "2025-08-18T16:26:08+00:00",
  "source_file": "09-CaseStudy/apimsample.md",
  "language_code": "pa"
}
-->
# ਕੇਸ ਸਟਡੀ: API ਮੈਨੇਜਮੈਂਟ ਵਿੱਚ REST API ਨੂੰ MCP ਸਰਵਰ ਵਜੋਂ ਐਕਸਪੋਜ਼ ਕਰਨਾ

Azure API ਮੈਨੇਜਮੈਂਟ ਇੱਕ ਸੇਵਾ ਹੈ ਜੋ ਤੁਹਾਡੇ API ਐਂਡਪੌਇੰਟਸ ਦੇ ਉੱਪਰ ਇੱਕ ਗੇਟਵੇ ਪ੍ਰਦਾਨ ਕਰਦੀ ਹੈ। ਇਹ ਇਸ ਤਰੀਕੇ ਨਾਲ ਕੰਮ ਕਰਦੀ ਹੈ ਕਿ Azure API ਮੈਨੇਜਮੈਂਟ ਤੁਹਾਡੇ APIs ਦੇ ਸਾਹਮਣੇ ਇੱਕ ਪ੍ਰਾਕਸੀ ਵਜੋਂ ਕੰਮ ਕਰਦੀ ਹੈ ਅਤੇ ਆਉਣ ਵਾਲੇ ਰਿਕਵੈਸਟਸ ਨਾਲ ਕੀ ਕਰਨਾ ਹੈ ਇਹ ਫੈਸਲਾ ਕਰ ਸਕਦੀ ਹੈ।

ਇਸਨੂੰ ਵਰਤ ਕੇ, ਤੁਸੀਂ ਕਈ ਫੀਚਰਸ ਸ਼ਾਮਲ ਕਰ ਸਕਦੇ ਹੋ ਜਿਵੇਂ:

- **ਸੁਰੱਖਿਆ**, ਤੁਸੀਂ API ਕੁੰਜੀਆਂ, JWT ਤੋਂ ਲੈ ਕੇ ਮੈਨੇਜਡ ਆਈਡੈਂਟਿਟੀ ਤੱਕ ਸਭ ਕੁਝ ਵਰਤ ਸਕਦੇ ਹੋ।
- **ਰੇਟ ਲਿਮਿਟਿੰਗ**, ਇੱਕ ਸ਼ਾਨਦਾਰ ਫੀਚਰ ਹੈ ਜੋ ਇਹ ਨਿਰਧਾਰਤ ਕਰਨ ਦੀ ਯੋਗਤਾ ਦਿੰਦਾ ਹੈ ਕਿ ਇੱਕ ਨਿਰਧਾਰਤ ਸਮੇਂ ਵਿੱਚ ਕਿੰਨੀ ਕਾਲਾਂ ਹੋ ਸਕਦੀਆਂ ਹਨ। ਇਹ ਯਕੀਨੀ ਬਣਾਉਂਦਾ ਹੈ ਕਿ ਸਾਰੇ ਯੂਜ਼ਰਜ਼ ਨੂੰ ਵਧੀਆ ਅਨੁਭਵ ਮਿਲੇ ਅਤੇ ਤੁਹਾਡੀ ਸੇਵਾ ਰਿਕਵੈਸਟਸ ਨਾਲ ਥੱਕੇ ਨਾ।
- **ਸਕੇਲਿੰਗ ਅਤੇ ਲੋਡ ਬੈਲੈਂਸਿੰਗ**, ਤੁਸੀਂ ਕਈ ਐਂਡਪੌਇੰਟਸ ਸੈਟ ਕਰ ਸਕਦੇ ਹੋ ਤਾਂ ਜੋ ਲੋਡ ਨੂੰ ਬੈਲੈਂਸ ਕੀਤਾ ਜਾ ਸਕੇ ਅਤੇ ਤੁਸੀਂ "ਲੋਡ ਬੈਲੈਂਸ" ਕਰਨ ਦਾ ਤਰੀਕਾ ਵੀ ਨਿਰਧਾਰਤ ਕਰ ਸਕਦੇ ਹੋ।
- **AI ਫੀਚਰਸ ਜਿਵੇਂ ਸੈਮੈਂਟਿਕ ਕੈਸ਼ਿੰਗ**, ਟੋਕਨ ਲਿਮਿਟ ਅਤੇ ਟੋਕਨ ਮਾਨੀਟਰਿੰਗ ਆਦਿ। ਇਹ ਸ਼ਾਨਦਾਰ ਫੀਚਰਸ ਹਨ ਜੋ ਪ੍ਰਤੀਕ੍ਰਿਆਸ਼ੀਲਤਾ ਨੂੰ ਸੁਧਾਰਦੇ ਹਨ ਅਤੇ ਤੁਹਾਡੇ ਟੋਕਨ ਖਰਚੇ 'ਤੇ ਨਜ਼ਰ ਰੱਖਣ ਵਿੱਚ ਮਦਦ ਕਰਦੇ ਹਨ। [ਹੋਰ ਪੜ੍ਹੋ](https://learn.microsoft.com/en-us/azure/api-management/genai-gateway-capabilities)।

## MCP + Azure API ਮੈਨੇਜਮੈਂਟ ਕਿਉਂ?

ਮਾਡਲ ਕਾਂਟੈਕਸਟ ਪ੍ਰੋਟੋਕੋਲ ਤੇਜ਼ੀ ਨਾਲ ਏਜੈਂਟਿਕ AI ਐਪਸ ਲਈ ਇੱਕ ਮਿਆਰ ਬਣ ਰਿਹਾ ਹੈ ਅਤੇ ਸੰਦਾਂ ਅਤੇ ਡਾਟਾ ਨੂੰ ਇੱਕ ਸਥਿਰ ਤਰੀਕੇ ਨਾਲ ਐਕਸਪੋਜ਼ ਕਰਨ ਲਈ। ਜਦੋਂ ਤੁਹਾਨੂੰ APIs ਨੂੰ "ਮੈਨੇਜ" ਕਰਨ ਦੀ ਲੋੜ ਹੁੰਦੀ ਹੈ, ਤਾਂ Azure API ਮੈਨੇਜਮੈਂਟ ਇੱਕ ਕੁਦਰਤੀ ਚੋਣ ਹੈ। MCP ਸਰਵਰ ਅਕਸਰ ਹੋਰ APIs ਨਾਲ ਇੰਟੀਗਰੇਟ ਕਰਦੇ ਹਨ ਤਾਂ ਜੋ ਕਿਸੇ ਸੰਦ ਲਈ ਰਿਕਵੈਸਟਸ ਨੂੰ ਹੱਲ ਕੀਤਾ ਜਾ ਸਕੇ। ਇਸ ਲਈ Azure API ਮੈਨੇਜਮੈਂਟ ਅਤੇ MCP ਨੂੰ ਮਿਲਾਉਣਾ ਬਹੁਤ ਸਹੀ ਹੈ।

## ਝਲਕ

ਇਸ ਖਾਸ ਕੇਸ ਵਿੱਚ ਅਸੀਂ ਸਿੱਖਾਂਗੇ ਕਿ API ਐਂਡਪੌਇੰਟਸ ਨੂੰ MCP ਸਰਵਰ ਵਜੋਂ ਕਿਵੇਂ ਐਕਸਪੋਜ਼ ਕਰਨਾ ਹੈ। ਇਸਨੂੰ ਕਰਨ ਨਾਲ, ਅਸੀਂ ਆਸਾਨੀ ਨਾਲ ਇਹ ਐਂਡਪੌਇੰਟਸ ਨੂੰ ਇੱਕ ਏਜੈਂਟਿਕ ਐਪ ਦਾ ਹਿੱਸਾ ਬਣਾ ਸਕਦੇ ਹਾਂ ਅਤੇ ਨਾਲ ਹੀ Azure API ਮੈਨੇਜਮੈਂਟ ਤੋਂ ਫੀਚਰਸ ਦਾ ਲਾਭ ਲੈ ਸਕਦੇ ਹਾਂ।

## ਮੁੱਖ ਫੀਚਰਸ

- ਤੁਸੀਂ ਉਹ ਐਂਡਪੌਇੰਟ ਮੈਥਡਸ ਚੁਣਦੇ ਹੋ ਜੋ ਤੁਸੀਂ ਸੰਦਾਂ ਵਜੋਂ ਐਕਸਪੋਜ਼ ਕਰਨਾ ਚਾਹੁੰਦੇ ਹੋ।
- ਵਾਧੂ ਫੀਚਰਸ ਤੁਹਾਡੇ API ਲਈ ਪਾਲਿਸੀ ਸੈਕਸ਼ਨ ਵਿੱਚ ਜੋ ਤੁਸੀਂ ਕਨਫਿਗਰ ਕਰਦੇ ਹੋ ਉਸ 'ਤੇ ਨਿਰਭਰ ਕਰਦੇ ਹਨ। ਪਰ ਇੱਥੇ ਅਸੀਂ ਦਿਖਾਵਾਂਗੇ ਕਿ ਤੁਸੀਂ ਰੇਟ ਲਿਮਿਟਿੰਗ ਕਿਵੇਂ ਸ਼ਾਮਲ ਕਰ ਸਕਦੇ ਹੋ।

## ਪਹਿਲਾ ਕਦਮ: API ਇੰਪੋਰਟ ਕਰੋ

ਜੇ ਤੁਹਾਡੇ ਕੋਲ ਪਹਿਲਾਂ ਹੀ Azure API ਮੈਨੇਜਮੈਂਟ ਵਿੱਚ ਇੱਕ API ਹੈ ਤਾਂ ਵਧੀਆ, ਤਾਂ ਤੁਸੀਂ ਇਹ ਕਦਮ ਛੱਡ ਸਕਦੇ ਹੋ। ਜੇ ਨਹੀਂ, ਤਾਂ ਇਸ ਲਿੰਕ ਨੂੰ ਦੇਖੋ, [Azure API ਮੈਨੇਜਮੈਂਟ ਵਿੱਚ API ਇੰਪੋਰਟ ਕਰਨਾ](https://learn.microsoft.com/en-us/azure/api-management/import-and-publish#import-and-publish-a-backend-api)।

## API ਨੂੰ MCP ਸਰਵਰ ਵਜੋਂ ਐਕਸਪੋਜ਼ ਕਰੋ

API ਐਂਡਪੌਇੰਟਸ ਨੂੰ ਐਕਸਪੋਜ਼ ਕਰਨ ਲਈ, ਆਓ ਇਹ ਕਦਮ ਅਪਣਾਈਏ:

1. Azure ਪੋਰਟਲ ਤੇ ਜਾਓ ਅਤੇ ਇਹ ਪਤਾ <https://portal.azure.com/?Microsoft_Azure_ApiManagement=mcp> ਤੇ ਜਾਓ। 
   ਆਪਣੀ API ਮੈਨੇਜਮੈਂਟ ਇੰਸਟੈਂਸ ਤੇ ਜਾਓ।

1. ਖੱਬੇ ਮੀਨੂ ਵਿੱਚ, APIs > MCP Servers > + ਨਵਾਂ MCP ਸਰਵਰ ਬਣਾਓ ਨੂੰ ਚੁਣੋ।

1. API ਵਿੱਚ, ਇੱਕ REST API ਚੁਣੋ ਜਿਸਨੂੰ MCP ਸਰਵਰ ਵਜੋਂ ਐਕਸਪੋਜ਼ ਕਰਨਾ ਹੈ।

1. ਇੱਕ ਜਾਂ ਵੱਧ API ਓਪਰੇਸ਼ਨਸ ਨੂੰ ਸੰਦਾਂ ਵਜੋਂ ਐਕਸਪੋਜ਼ ਕਰਨ ਲਈ ਚੁਣੋ। ਤੁਸੀਂ ਸਾਰੇ ਓਪਰੇਸ਼ਨਸ ਜਾਂ ਸਿਰਫ਼ ਖਾਸ ਓਪਰੇਸ਼ਨਸ ਚੁਣ ਸਕਦੇ ਹੋ।

    ![ਮੈਥਡਸ ਨੂੰ ਐਕਸਪੋਜ਼ ਕਰੋ](https://learn.microsoft.com/en-us/azure/api-management/media/export-rest-mcp-server/create-mcp-server-small.png)

1. **ਬਣਾਓ** ਨੂੰ ਚੁਣੋ।

1. ਮੀਨੂ ਓਪਸ਼ਨ **APIs** ਅਤੇ **MCP Servers** ਤੇ ਜਾਓ, ਤੁਹਾਨੂੰ ਹੇਠਾਂ ਦਿੱਤਾ ਦ੍ਰਿਸ਼ ਦਿਖਾਈ ਦੇਣਾ ਚਾਹੀਦਾ ਹੈ:

    ![ਮੁੱਖ ਪੈਨ ਵਿੱਚ MCP ਸਰਵਰ ਨੂੰ ਵੇਖੋ](https://learn.microsoft.com/en-us/azure/api-management/media/export-rest-mcp-server/mcp-server-list.png)

    MCP ਸਰਵਰ ਬਣਾਇਆ ਗਿਆ ਹੈ ਅਤੇ API ਓਪਰੇਸ਼ਨਸ ਸੰਦਾਂ ਵਜੋਂ ਐਕਸਪੋਜ਼ ਕੀਤੇ ਗਏ ਹਨ। MCP ਸਰਵਰ MCP Servers ਪੈਨ ਵਿੱਚ ਲਿਸਟ ਕੀਤਾ ਗਿਆ ਹੈ। URL ਕਾਲਮ MCP ਸਰਵਰ ਦੇ ਐਂਡਪੌਇੰਟ ਨੂੰ ਦਿਖਾਉਂਦਾ ਹੈ ਜਿਸਨੂੰ ਤੁਸੀਂ ਟੈਸਟ ਕਰਨ ਜਾਂ ਕਲਾਇੰਟ ਐਪਲੀਕੇਸ਼ਨ ਵਿੱਚ ਵਰਤਣ ਲਈ ਕਾਲ ਕਰ ਸਕਦੇ ਹੋ।

## ਵਿਕਲਪਿਕ: ਪਾਲਿਸੀਜ਼ ਕਨਫਿਗਰ ਕਰੋ

Azure API ਮੈਨੇਜਮੈਂਟ ਵਿੱਚ ਪਾਲਿਸੀਜ਼ ਦਾ ਮੁੱਖ ਸੰਕਲਪ ਹੈ ਜਿੱਥੇ ਤੁਸੀਂ ਆਪਣੇ ਐਂਡਪੌਇੰਟਸ ਲਈ ਵੱਖ-ਵੱਖ ਨਿਯਮ ਸੈਟ ਕਰਦੇ ਹੋ ਜਿਵੇਂ ਕਿ ਰੇਟ ਲਿਮਿਟਿੰਗ ਜਾਂ ਸੈਮੈਂਟਿਕ ਕੈਸ਼ਿੰਗ। ਇਹ ਪਾਲਿਸੀਜ਼ XML ਵਿੱਚ ਲਿਖੀਆਂ ਜਾਂਦੀਆਂ ਹਨ।

ਇਹ ਹੈ ਕਿ ਤੁਸੀਂ ਆਪਣੇ MCP ਸਰਵਰ ਲਈ ਰੇਟ ਲਿਮਿਟ ਪਾਲਿਸੀ ਕਿਵੇਂ ਸੈਟ ਕਰ ਸਕਦੇ ਹੋ:

1. ਪੋਰਟਲ ਵਿੱਚ, APIs ਦੇ ਅਧੀਨ, **MCP Servers** ਨੂੰ ਚੁਣੋ।

1. ਉਹ MCP ਸਰਵਰ ਚੁਣੋ ਜੋ ਤੁਸੀਂ ਬਣਾਇਆ ਹੈ।

1. ਖੱਬੇ ਮੀਨੂ ਵਿੱਚ, MCP ਦੇ ਅਧੀਨ, **Policies** ਨੂੰ ਚੁਣੋ।

1. ਪਾਲਿਸੀ ਐਡੀਟਰ ਵਿੱਚ, ਉਹ ਪਾਲਿਸੀਜ਼ ਸ਼ਾਮਲ ਕਰੋ ਜਾਂ ਸੋਧੋ ਜੋ ਤੁਸੀਂ MCP ਸਰਵਰ ਦੇ ਸੰਦਾਂ 'ਤੇ ਲਾਗੂ ਕਰਨਾ ਚਾਹੁੰਦੇ ਹੋ। ਪਾਲਿਸੀਜ਼ XML ਫਾਰਮੈਟ ਵਿੱਚ ਪਰਿਭਾਸ਼ਿਤ ਕੀਤੀਆਂ ਜਾਂਦੀਆਂ ਹਨ। ਉਦਾਹਰਣ ਲਈ, ਤੁਸੀਂ ਇੱਕ ਪਾਲਿਸੀ ਸ਼ਾਮਲ ਕਰ ਸਕਦੇ ਹੋ ਜੋ MCP ਸਰਵਰ ਦੇ ਸੰਦਾਂ ਲਈ ਕਾਲਾਂ ਨੂੰ ਸੀਮਿਤ ਕਰਦੀ ਹੈ (ਇਸ ਉਦਾਹਰਣ ਵਿੱਚ, 30 ਸਕਿੰਟ ਪ੍ਰਤੀ ਕਲਾਇੰਟ IP ਪਤੇ ਲਈ 5 ਕਾਲਾਂ)। ਇਹ XML ਹੈ ਜੋ ਰੇਟ ਲਿਮਿਟ ਕਰਨ ਦਾ ਕਾਰਨ ਬਣੇਗੀ:

    ```xml
     <rate-limit-by-key calls="5" 
       renewal-period="30" 
       counter-key="@(context.Request.IpAddress)" 
       remaining-calls-variable-name="remainingCallsPerIP" 
    />
    ```

    ਇਹ ਹੈ ਪਾਲਿਸੀ ਐਡੀਟਰ ਦੀ ਇੱਕ ਚਿੱਤਰ:

    ![ਪਾਲਿਸੀ ਐਡੀਟਰ](https://learn.microsoft.com/en-us/azure/api-management/media/export-rest-mcp-server/mcp-server-policies-small.png)

## ਟ੍ਰਾਈ ਕਰੋ

ਆਓ ਯਕੀਨੀ ਬਣਾਈਏ ਕਿ ਸਾਡਾ MCP ਸਰਵਰ ਜਿਵੇਂ ਚਾਹੀਦਾ ਹੈ ਕੰਮ ਕਰ ਰਿਹਾ ਹੈ।

ਇਸ ਲਈ, ਅਸੀਂ Visual Studio Code ਅਤੇ GitHub Copilot ਅਤੇ ਇਸਦੇ Agent ਮੋਡ ਦੀ ਵਰਤੋਂ ਕਰਾਂਗੇ। ਅਸੀਂ MCP ਸਰਵਰ ਨੂੰ *mcp.json* ਵਿੱਚ ਸ਼ਾਮਲ ਕਰਾਂਗੇ। ਇਸਨੂੰ ਕਰਨ ਨਾਲ, Visual Studio Code ਇੱਕ ਕਲਾਇੰਟ ਵਜੋਂ ਕੰਮ ਕਰੇਗਾ ਜਿਸ ਵਿੱਚ ਏਜੈਂਟਿਕ ਯੋਗਤਾਵਾਂ ਹਨ ਅਤੇ ਅੰਤਮ ਯੂਜ਼ਰਜ਼ ਇੱਕ ਪ੍ਰੰਪਟ ਟਾਈਪ ਕਰਕੇ ਉਸ ਸਰਵਰ ਨਾਲ ਇੰਟਰੈਕਟ ਕਰ ਸਕਣਗੇ।

## ਸੰਦਰਭ

ਇੱਥੇ ਤੁਸੀਂ ਹੋਰ ਸਿੱਖ ਸਕਦੇ ਹੋ:

- [Azure API ਮੈਨੇਜਮੈਂਟ ਅਤੇ MCP 'ਤੇ ਟਿਊਟੋਰਿਅਲ](https://learn.microsoft.com/en-us/azure/api-management/export-rest-mcp-server)
- [Python ਉਦਾਹਰਣ: Azure API ਮੈਨੇਜਮੈਂਟ ਦੀ ਵਰਤੋਂ ਕਰਕੇ ਦੂਰ-ਦਰਾਜ MCP ਸਰਵਰਜ਼ ਨੂੰ ਸੁਰੱਖਿਅਤ ਕਰੋ (ਪ੍ਰਯੋਗਾਤਮਕ)](https://github.com/Azure-Samples/remote-mcp-apim-functions-python)

- [MCP ਕਲਾਇੰਟ ਅਥਾਰਾਈਜ਼ੇਸ਼ਨ ਲੈਬ](https://github.com/Azure-Samples/AI-Gateway/tree/main/labs/mcp-client-authorization)

- [Visual Studio Code ਲਈ Azure API ਮੈਨੇਜਮੈਂਟ ਐਕਸਟੈਂਸ਼ਨ ਦੀ ਵਰਤੋਂ ਕਰਕੇ APIs ਨੂੰ ਇੰਪੋਰਟ ਅਤੇ ਮੈਨੇਜ ਕਰੋ](https://learn.microsoft.com/en-us/azure/api-management/visual-studio-code-tutorial)

- [Azure API Center ਵਿੱਚ ਦੂਰ-ਦਰਾਜ MCP ਸਰਵਰਜ਼ ਨੂੰ ਰਜਿਸਟਰ ਅਤੇ ਖੋਜੋ](https://learn.microsoft.com/en-us/azure/api-center/register-discover-mcp-server)
- [AI Gateway](https://github.com/Azure-Samples/AI-Gateway) ਇੱਕ ਸ਼ਾਨਦਾਰ ਰਿਪੋ ਜੋ Azure API ਮੈਨੇਜਮੈਂਟ ਨਾਲ ਕਈ AI ਯੋਗਤਾਵਾਂ ਦਿਖਾਉਂਦਾ ਹੈ
- [AI Gateway ਵਰਕਸ਼ਾਪ](https://azure-samples.github.io/AI-Gateway/) Azure ਪੋਰਟਲ ਦੀ ਵਰਤੋਂ ਕਰਕੇ ਵਰਕਸ਼ਾਪਸ ਸ਼ਾਮਲ ਹਨ, ਜੋ AI ਯੋਗਤਾਵਾਂ ਦਾ ਮੁਲਾਂਕਣ ਸ਼ੁਰੂ ਕਰਨ ਦਾ ਇੱਕ ਸ਼ਾਨਦਾਰ ਤਰੀਕਾ ਹੈ।

**ਅਸਵੀਕਾਰਨਾ**:  
ਇਹ ਦਸਤਾਵੇਜ਼ AI ਅਨੁਵਾਦ ਸੇਵਾ [Co-op Translator](https://github.com/Azure/co-op-translator) ਦੀ ਵਰਤੋਂ ਕਰਕੇ ਅਨੁਵਾਦ ਕੀਤਾ ਗਿਆ ਹੈ। ਜਦੋਂ ਕਿ ਅਸੀਂ ਸਹੀਤਾ ਲਈ ਯਤਨਸ਼ੀਲ ਹਾਂ, ਕਿਰਪਾ ਕਰਕੇ ਧਿਆਨ ਦਿਓ ਕਿ ਸਵੈਚਾਲਿਤ ਅਨੁਵਾਦਾਂ ਵਿੱਚ ਗਲਤੀਆਂ ਜਾਂ ਅਸੁਣੀਖਤਤਾਵਾਂ ਹੋ ਸਕਦੀਆਂ ਹਨ। ਮੂਲ ਦਸਤਾਵੇਜ਼ ਨੂੰ ਇਸਦੀ ਮੂਲ ਭਾਸ਼ਾ ਵਿੱਚ ਅਧਿਕਾਰਤ ਸਰੋਤ ਮੰਨਿਆ ਜਾਣਾ ਚਾਹੀਦਾ ਹੈ। ਮਹੱਤਵਪੂਰਨ ਜਾਣਕਾਰੀ ਲਈ, ਪੇਸ਼ੇਵਰ ਮਨੁੱਖੀ ਅਨੁਵਾਦ ਦੀ ਸਿਫਾਰਸ਼ ਕੀਤੀ ਜਾਂਦੀ ਹੈ। ਇਸ ਅਨੁਵਾਦ ਦੀ ਵਰਤੋਂ ਤੋਂ ਪੈਦਾ ਹੋਣ ਵਾਲੇ ਕਿਸੇ ਵੀ ਗਲਤਫਹਿਮੀ ਜਾਂ ਗਲਤ ਵਿਆਖਿਆ ਲਈ ਅਸੀਂ ਜ਼ਿੰਮੇਵਾਰ ਨਹੀਂ ਹਾਂ।